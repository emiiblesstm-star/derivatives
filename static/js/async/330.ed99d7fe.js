"use strict";(self.webpackChunkbot=self.webpackChunkbot||[]).push([["330"],{7758:function(e,t,s){s.r(t),s.d(t,{default:()=>rP});var a,n,i=s("85893"),l=s("67294"),r=s("96877"),o=s("6753"),c=s("92198"),d=s("22273"),u=s("12838");let h=e=>{let{is_client_store_initialized:t,landing_company_shortcode:s=" ",currency:a=" ",email:n=" ",is_logged_in:i=" ",loginid:r=" ",residence:o=" ",last_name:h=" ",first_name:_=" "}=e,m=new URLSearchParams(window.location.search),x="reset_password"===u.fr.getQueryParameter("action"),p=m.get("code")&&x,{data:j}=(0,d.Z)(!0),{cs_chat_livechat:v}=j;(0,l.useEffect)(()=>{if(t&&v){var e;null===(e=window.LiveChatWidget)||void 0===e||e.init()}},[t,v]),(0,l.useEffect)(()=>{if(!p&&t){var e;null===(e=window.LiveChatWidget)||void 0===e||e.on("ready",e=>{var t,l,d,u,m,x;"minimized"===e.state.visibility&&(null===(l=window.LiveChatWidget)||void 0===l||l.call("hide"));let{utm_source:p,utm_medium:j,utm_campaign:v}=JSON.parse(c.Z.get("utm_data")||"{}"),b={is_logged_in:String(i),utm_source:p||" ",utm_medium:j||" ",utm_campaign:v||" ",loginid:i?r:" ",landing_company_shortcode:i?s:" ",currency:i?a:" ",residence:i?o:" ",email:i?n:" "};null===(t=window.LiveChatWidget)||void 0===t||t.call("set_session_variables",b),i?(null===(d=window.LiveChatWidget)||void 0===d||d.call("set_customer_email",n),null===(u=window.LiveChatWidget)||void 0===u||u.call("set_customer_name",`${_} ${h}`)):(null===(m=window.LiveChatWidget)||void 0===m||m.call("set_customer_email"," "),null===(x=window.LiveChatWidget)||void 0===x||x.call("set_customer_name"," "))})}},[n,p,r,i,s,t,a,_,h,o])};var _=s("83543"),m=s("66175"),x=s("79907"),p=s("79649"),j=s("83274");let v=()=>{let{client:e}=(0,j.oR)(),{account_settings:t,landing_company_shortcode:s}=e,{tnc_status:a}=t||{};return a&&0===a[s]};var b=s("12977"),g=s("35275"),f=s("72461"),y=s("48059"),N=s("2502"),C=s("31784");let k=(0,r.Pi)(()=>{let{isAuthorized:e}=(0,p.T)(),{client:t}=(0,j.oR)(),{is_cr_account:s}=t,[a,n]=l.useState(!1),{isDesktop:r}=(0,N.F)(),o=v();l.useEffect(()=>{o&&n(!0)},[o]);let c=async()=>{e&&(n(!1),await x.DO.api.send({tnc_approval:1}))};return(0,i.jsx)(C.Z,{className:"tnc-status-update-modal-wrapper",is_open:a,has_close_icon:!1,width:"44rem",children:(0,i.jsxs)("div",{className:"tnc-status-update-modal",children:[(0,i.jsx)(b.x,{size:r?"sm":"md",bold:!0,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Updated T&C's"})}),(0,i.jsxs)("div",{className:"tnc-status-update-modal__text-container",children:[(0,i.jsx)(b.x,{size:r?"sm":"md",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Please review our updated <0>terms and conditions</0>.",components:[(0,i.jsx)(g.r,{className:"tnc-link",size:r?"sm":"md",href:s?"https://deriv.com/eu/terms-and-conditions#clients":"https://deriv.com/terms-and-conditions#clients"},0)]})}),(0,i.jsx)(b.x,{size:r?"sm":"md",children:(0,i.jsx)(y.Xx,{i18n_default_text:"By continuing you understand and accept the changes."})})]}),(0,i.jsx)("div",{className:"tnc-status-update-modal__button",children:(0,i.jsx)(f.zx,{onClick:c,size:"md",variant:"primary",label:(0,i.jsx)(y.Xx,{i18n_default_text:"Continue"})})})]})})});var T=s("33281"),S=s("20296"),w=s.n(S),E=s("76298");var I=((a={}).MOVE="move",a.TOP="top",a.RIGHT="right",a.BOTTOM="bottom",a.LEFT="left",a.TOP_RIGHT="top-right",a.BOTTOM_RIGHT="bottom-right",a.BOTTOM_LEFT="bottom-left",a.TOP_LEFT="top-left",a.BODY_REF="body",a);let A=e=>{let{setZIndex:t}=e,s=document.getElementsByClassName("draggable");if(!s.length)return;let a=Array.from(s).reduce((e,t)=>Math.max(e,parseInt(window.getComputedStyle(t).zIndex)||0),0);t(a+3)},R=e=>{let{prevWidth:t,leftOffset:s,boundaryRect:a,initialSelfRight:n,resize_direction:i,newWidth:l,minWidth:r,clientX:o,self:c}=e,d=(null==a?void 0:a.left)??0,u=(null==a?void 0:a.width)??0,h=d+s+5,_=(null==c?void 0:c.left)??0,m=d+u-7;if(i.includes("left"))return l>=r&&o>h?l:o<h+10?m-h-(m-n)-10:t;if(i.includes("right")){if(l>=r&&o<m)return l;if(o>m)return m-_}return t},D=e=>{let{prevHeight:t,topOffset:s,boundaryRect:a,initialSelfBottom:n,resize_direction:i,newHeight:l,minHeight:r,clientY:o,self:c}=e,d=(null==a?void 0:a.top)??0,u=(null==a?void 0:a.height)??0,h=d+s+5,_=(null==c?void 0:c.top)??0,m=d+u-7;if(i.includes("top"))return l>=r&&o>h?l:o<h+10?m-h-(m-n)-10:t;if(i.includes("bottom")){if(l>=r&&o<m)return l;if(o>m)return m-_}return t},O=e=>{let{children:t,boundary:s,initialValues:a={width:400,height:400,xAxis:0,yAxis:0},minWidth:n=100,minHeight:r=100,enableResizing:o=!1,enableDragging:c=!0,header:d="",onClose:u}=e,[h,_]=(0,l.useState)({x:a.xAxis,y:a.yAxis}),[m,x]=(0,l.useState)({width:a.width,height:a.height}),[p,j]=(0,l.useState)(100),v=(0,l.useRef)(!1),[b,g]=(0,l.useState)(!1),f=(0,l.useRef)(null),[y,N]=(0,l.useState)(document.querySelector(s??I.BODY_REF));(0,l.useEffect)(()=>{x({width:a.width,height:a.height}),_({x:a.xAxis,y:a.yAxis})},[a.height,a.width,a.xAxis,a.yAxis]),(0,l.useEffect)(()=>{N(document.querySelector(s??I.BODY_REF)),A({setZIndex:j})},[s]);let C=(e,t)=>{var s,i,l,d,u;if(null==e||e.stopPropagation(),A({setZIndex:j}),!t)return;v.current=t!==I.MOVE&&o,g(t===I.MOVE&&c);let p=null==y?void 0:y.getBoundingClientRect(),b=(null==y?void 0:y.offsetTop)??0,N=(null==y?void 0:y.offsetLeft)??0,C=(null==e?void 0:e.clientX)??0,k=(null==e?void 0:e.clientY)??0,T=(null==m?void 0:m.width)??a.width,S=(null==m?void 0:m.height)??a.height,w=(null==h?void 0:h.x)??0,E=(null==h?void 0:h.y)??0,O=(null===(i=f.current)||void 0===i?void 0:null===(s=i.getBoundingClientRect())||void 0===s?void 0:s.right)??m.width,L=(null===(d=f.current)||void 0===d?void 0:null===(l=d.getBoundingClientRect())||void 0===l?void 0:l.bottom)??m.height,M={},F=null===(u=f.current)||void 0===u?void 0:u.querySelector("#draggable-content-body");if(F){let{style:e}=F;e&&"none"!==e.pointerEvents&&(M={...e},e.pointerEvents="none")}let U=e=>{if(!e)return;let{clientX:t,clientY:s}=e,a=t-C,n=s-k;try{v.current?P(a,n,t,s):Z(a,n)}catch(e){z()}},P=(e,s,a,i)=>{var l;let o=(null==h?void 0:h.x)??0,c=(null==h?void 0:h.y)??0,d=T,u=S;t.includes(I.RIGHT)?d+=e:t.includes(I.LEFT)&&(o=e+w,d-=e),t.includes(I.BOTTOM)?u+=s:t.includes(I.TOP)&&(c=s+E,u-=s),_(e=>{let t=Math.max(c,b+5),s=Math.max(o,N+5);return{x:d<=n?e.x:s,y:u<=r?e.y:t}});let m=null===(l=f.current)||void 0===l?void 0:l.getBoundingClientRect();x(e=>({width:R({prevWidth:e.width,leftOffset:N,boundaryRect:p,initialSelfRight:O,resize_direction:t,newWidth:d,minWidth:n,clientX:a,self:m}),height:D({prevHeight:e.height,topOffset:b,boundaryRect:p,initialSelfBottom:L,resize_direction:t,newHeight:u,minHeight:r,clientY:i,self:m})}))},Z=(e,t)=>{let s=Math.min(Math.max(e+w,N+5),N+((null==p?void 0:p.width)??0)-m.width-9);_({x:s,y:Math.min(Math.max(t+E,b+5),b+((null==p?void 0:p.height)??0)-m.height-9)})},z=()=>{if(g(!1),v.current=!1,null==F?void 0:F.style)try{Object.assign(F.style,M)}catch{F.style.pointerEvents="unset"}y&&(window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",z))};y&&(window.addEventListener("mousemove",U),window.addEventListener("mouseup",z))};return(0,i.jsx)("div",{className:`draggable ${b?"dragging":""}`,style:{position:"absolute",top:h.y,left:h.x,zIndex:p},onMouseDown:()=>A({setZIndex:j}),onKeyDown:()=>A({setZIndex:j}),"data-testid":"dt_react_draggable",tabIndex:0,children:(0,i.jsxs)("div",{ref:f,className:"draggable-content","data-testid":"dt_react_draggable_content",style:{width:m.width,height:m.height},children:[(0,i.jsxs)("div",{id:"draggable-content__header","data-testid":"dt_react_draggable_handler",className:"draggable-content__header",onMouseDown:e=>C(e,I.MOVE),onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),tabIndex:0,children:[(0,i.jsx)("div",{className:"draggable-content__header__title",children:d}),(0,i.jsx)("div",{className:"draggable-content__header__close","data-testid":"dt_react_draggable-close-modal",onClick:u,children:(0,i.jsx)(E.Z,{height:"20px",width:"20px",fill:"var(--text-general)",className:"icon-general-fill-path"})})]}),(0,i.jsx)("span",{className:"draggable-content__body",id:"draggable-content-body",children:t}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"resizable-handle__top","data-testid":"dt_resizable-handle__top",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.TOP),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__right","data-testid":"dt_resizable-handle__right",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.RIGHT),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__bottom","data-testid":"dt_resizable-handle__bottom",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.BOTTOM),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__left","data-testid":"dt_resizable-handle__left",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.LEFT),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__top-right","data-testid":"dt_resizable-handle__top-right",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.TOP_RIGHT),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__bottom-right","data-testid":"dt_resizable-handle__bottom-right",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.BOTTOM_RIGHT),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__bottom-left","data-testid":"dt_resizable-handle__bottom-left",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.BOTTOM_LEFT),tabIndex:0}),(0,i.jsx)("div",{className:"resizable-handle__top-left","data-testid":"dt_resizable-handle__top-left",onKeyDown:e=>"Enter"===e.key&&C(null,I.MOVE),onMouseDown:e=>C(e,I.TOP_LEFT),tabIndex:0})]})]})})},L=e=>{let{boundary:t,children:s,onClose:a,enableResizing:n=!1,enableDragging:r=!0,header:o="",minHeight:c=100,minWidth:d=100,modalHeight:u=400,modalWidth:h=400}=e,[_,m]=(0,l.useState)(!1),x=(window.innerWidth-h)/2,p=(window.innerHeight-u)/2,[j,v]=l.useState({width:h,height:u,xAxis:x>=0?x:0,yAxis:p>=0?p:0}),b=w()(()=>{let e=window.innerWidth>h?h:window.innerWidth-50,t=window.innerHeight>u?u:window.innerHeight-50,s=(window.innerWidth-e)/2,a=(window.innerHeight-t)/2;v({width:e,height:t,xAxis:s>=0?s:0,yAxis:a>=0?a:0}),m(!0)},0);return l.useEffect(()=>(b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}),[b]),(0,i.jsx)("div",{id:"draggable_resize_container",children:_&&(0,i.jsx)(O,{boundary:t,initialValues:j,minWidth:d,minHeight:c,enableResizing:n,enableDragging:r,header:o,onClose:a,children:s})})};var M=s("63387"),F=s.n(M),U=s("24561"),P=s("33690"),Z=s("88199"),z=s("26855");let B={FRXAUDCAD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexAudcadIcon}))),FRXAUDCHF:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexAudchfIcon}))),FRXAUDJPY:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexAudjpyIcon}))),FRXAUDNZD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexAudnzdIcon}))),FRXAUDPLN:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexAudsgdIcon}))),FRXAUDUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexAudusdIcon}))),FRXBROUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexCadchfIcon}))),FRXEURAUD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEuraudIcon}))),FRXEURCAD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEurcadIcon}))),FRXEURCHF:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEurchfIcon}))),FRXEURGBP:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEurgbpIcon}))),FRXEURJPY:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEurjpyIcon}))),FRXEURNZD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEurnzdIcon}))),FRXEURUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexEurusdIcon}))),FRXGBPAUD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpaudIcon}))),FRXGBPCAD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpcadIcon}))),FRXGBPCHF:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpchfIcon}))),FRXGBPJPY:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpjpyIcon}))),FRXGBPNOK:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpnokIcon}))),FRXGBPUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpusdIcon}))),FRXGBPNZD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexGbpnzdIcon}))),FRXNZDJPY:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexNzdjpnIcon}))),FRXNZDUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexNzdusdIcon}))),FRXUSDCAD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdcadIcon}))),FRXUSDCHF:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdchfIcon}))),FRXUSDJPY:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdjpyIcon}))),FRXUSDNOK:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdnokIcon}))),FRXUSDPLN:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdplnIcon}))),FRXUSDSEK:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdsekIcon}))),FRXUSDMXN:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketForexUsdmxnIcon}))),FRXXAGUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCommoditySilverusdIcon}))),FRXXAUUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCommodityGoldusdIcon}))),FRXXPDUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCommodityPalladiumusdIcon}))),FRXXPTUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCommodityPlatinumusdIcon}))),OTC_AEX:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesNetherlands25Icon}))),OTC_AS51:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesAustralia200Icon}))),OTC_DJI:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesWallStreet30Icon}))),OTC_FCHI:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesFrance40Icon}))),OTC_FTSE:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesUk100Icon}))),OTC_GDAXI:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesUk100Icon}))),OTC_HSI:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesHongKong50Icon}))),OTC_IBEX35:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesSpain35Icon}))),OTC_N225:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesJapan225Icon}))),OTC_NDX:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesUsTech100Icon}))),OTC_SPC:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesUs500Icon}))),OTC_SSMI:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesSwiss20Icon}))),OTC_SX5E:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketIndicesEuro50Icon}))),R_10:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility10Icon}))),R_25:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility25Icon}))),R_50:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility50Icon}))),R_75:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility75Icon}))),R_100:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility100Icon}))),BOOM300N:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedBoom300Icon}))),BOOM500:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedBoom500Icon}))),BOOM1000:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedBoom1000Icon}))),CRASH300N:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedCrash300Icon}))),CRASH500:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedCrash500Icon}))),CRASH1000:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedCrash1000Icon}))),RDBEAR:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedBearIcon}))),RDBULL:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedBullIcon}))),STPRNG:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedStepIndices100Icon}))),STPRNG2:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedStepIndices200Icon}))),STPRNG3:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedStepIndices300Icon}))),STPRNG4:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedStepIndices400Icon}))),STPRNG5:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedStepIndices500Icon}))),WLDAUD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedAudBasketIcon}))),WLDEUR:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedEurBasketIcon}))),WLDGBP:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedGbpBasketIcon}))),WLDXAU:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedGoldBasketIcon}))),WLDUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedUsdBasketIcon}))),"1HZ10V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility101sIcon}))),"1HZ25V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility251sIcon}))),"1HZ50V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility501sIcon}))),"1HZ75V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility751sIcon}))),"1HZ100V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility1001sIcon}))),"1HZ150V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility1501sIcon}))),"1HZ200V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility2001sIcon}))),"1HZ250V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility2501sIcon}))),"1HZ300V":(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedVolatility3001sIcon}))),JD10:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump10Icon}))),JD25:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump25Icon}))),JD50:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump50Icon}))),JD75:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump75Icon}))),JD100:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump100Icon}))),JD150:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump150Icon}))),JD200:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketDerivedJump200Icon}))),CRYBCHUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyBchusdIcon}))),CRYBNBUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyBnbusdIcon}))),CRYBTCLTC:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyBtcltcIcon}))),CRYIOTUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyIotusdIcon}))),CRYNEOUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyNeousdIcon}))),CRYOMGUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyOmgusdIcon}))),CRYTRXUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyTrxusdIcon}))),CRYBTCETH:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyBtcethIcon}))),CRYZECUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyZecusdIcon}))),CRYXMRUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyXmrusdIcon}))),CRYXMLUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyXlmusdIcon}))),CRYXRPUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyXrpusdIcon}))),CRYBTCUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyBtcusdIcon}))),CRYDSHUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyDshusdIcon}))),CRYETHUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyEthusdIcon}))),CRYEOSUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyEosusdIcon}))),CRYLTCUSD:(0,l.lazy)(()=>s.e("753").then(s.bind(s,48375)).then(e=>({default:e.MarketCryptocurrencyLtcusdIcon}))),unknown:(0,l.lazy)(()=>s.e("762").then(s.bind(s,6800)).then(e=>({default:e.IllustrativeMarketsIcon})))},V=e=>{let{type:t,size:s}=e,a=B[null==t?void 0:t.toUpperCase()]||B.unknown;return(0,i.jsx)(l.Suspense,{fallback:null,children:(0,i.jsx)(a,{iconSize:s??"xs"})})};var $=s("30394");let X={ACCU:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesAccumulatorStayInIcon}))),DIGITDIFF:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesDigitsDiffersIcon}))),DIGITEVEN:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesDigitsEvenIcon}))),DIGITMATCH:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesDigitsMatchesIcon}))),DIGITODD:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesDigitsOddIcon}))),DIGITOVER:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesDigitsOverIcon}))),DIGITUNDER:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesDigitsUnderIcon}))),TICKHIGH:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesHighsAndLowsHighIcon}))),TICKLOW:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesHighsAndLowsLowIcon}))),NOTOUCH:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesHighsAndLowsNoTouchIcon}))),ONETOUCH:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesHighsAndLowsTouchIcon}))),EXPIRYRANGE:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesInsAndOutsEndsInIcon}))),EXPIRYMISS:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesInsAndOutsEndsOutIcon}))),UPORDOWN:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesInsAndOutsGoesOutIcon}))),RANGE:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesInsAndOutsStaysInIcon}))),MULTDOWN:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesMultipliersDownIcon}))),MULTUP:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesMultipliersUpIcon}))),CALLSPREAD:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesSpreadsCallIcon}))),PUTSPREAD:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesSpreadsPutIcon}))),ASIAND:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsAsianDownIcon}))),ASIANU:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsAsianUpIcon}))),PUT:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsFallIcon}))),PUTE:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsFallIcon}))),RUNLOW:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsOnlyDownsIcon}))),RUNHIGH:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsOnlyUpsIcon}))),RESETPUT:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsResetDownIcon}))),RESETCALL:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsResetUpIcon}))),CALL:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsRiseIcon}))),CALLE:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesUpsAndDownsRiseIcon}))),HIGHER:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesHighsAndLowsHigherIcon}))),LOWER:(0,l.lazy)(()=>s.e("673").then(s.bind(s,22588)).then(e=>({default:e.TradeTypesHighsAndLowsLowerIcon}))),unknown:(0,l.lazy)(()=>s.e("762").then(s.bind(s,6800)).then(e=>({default:e.IllustrativeMarketsIcon})))},G=e=>{let{type:t,size:s,className:a}=e,n=X[null==t?void 0:t.toUpperCase()]||X.unknown;return(0,i.jsx)(l.Suspense,{fallback:null,children:(0,i.jsx)(n,{iconSize:s??"xs",className:a})})},H="transaction-details-modal-desktop",q=e=>{let{label:t,extra_classes:s=[],loader:a=!1}=e;return(0,i.jsx)("div",{className:F()(`${H}__table-cell`,...s),children:a?(0,i.jsx)(K,{}):t})},Y=e=>{let{columns:t}=e;return(0,i.jsx)("div",{className:F()(`${H}__table-row`,`${H}__table-header`),children:null==t?void 0:t.map(e=>(0,i.jsx)(q,{extra_classes:[e.extra_class?`${H}__table-cell${e.extra_class}`:""],label:e.label,loader:!1},e.key))})},W=e=>{let{message:t,icon:s}=e;return(0,i.jsx)("div",{className:`${H}__icon-wrapper`,children:(0,i.jsx)($.Z,{alignment:(0,z.rK)()?"right":"left",message:t,zIndex:"9999",children:s})})},K=()=>(0,i.jsx)(U.ZP,{className:"transactions__loader-text","data-testid":"transaction_details_table_cell_loader",height:10,width:30,speed:3,backgroundColor:"var(--general-section-2)",foregroundColor:"var(--general-hover)",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"60",height:"12"})});function J(e){let{result:t,result_columns:s,transactions:a,transaction_columns:n,account:l,balance:r}=e;return(0,i.jsxs)("div",{"data-testid":"transaction_details_tables",className:"transaction-details-tables",children:[(0,i.jsxs)("div",{className:F()(`${H}__table-container`,`${H}__table-container__top-table`),children:[(0,i.jsx)(Y,{columns:n}),null==a?void 0:a.map(e=>{let{data:t,type:s}=e;if(s===P.i.CONTRACT){var a,n;return(0,i.jsxs)("div",{className:`${H}__table-row`,children:[(0,i.jsx)(q,{label:(null==t?void 0:t.date_start)&&(0,m.fcq)(null==t?void 0:t.date_start,"YYYY-M-D HH:mm:ss [GMT]","YYYY-MM-DD HH:mm:ss [GMT]"),extra_classes:[`${H}__table-cell--grow-big`]}),(0,i.jsx)(q,{label:null==t?void 0:null===(a=t.transaction_ids)||void 0===a?void 0:a.buy,extra_classes:[`${H}__table-cell--grow-mid`]}),(0,i.jsx)(q,{label:(0,i.jsx)(W,{message:null==t?void 0:t.display_name,icon:(0,i.jsx)(V,{type:null==t?void 0:t.underlying,size:"sm"})})}),(0,i.jsx)(q,{label:(0,i.jsx)(W,{message:(0,Z.getContractTypeName)(t),icon:(0,i.jsx)(G,{type:null==t?void 0:t.contract_type,size:"sm"})})}),(0,i.jsx)(q,{label:null==t?void 0:t.entry_tick,loader:!(null==t?void 0:t.entry_tick)}),(0,i.jsx)(q,{label:null==t?void 0:t.exit_tick,loader:!t.exit_tick}),(0,i.jsx)(q,{label:Math.abs((null==t?void 0:t.buy_price)??0).toFixed(2)}),(0,i.jsx)(q,{label:(0,i.jsx)("div",{className:F()({[`${H}__profit--win`]:(null==t?void 0:t.profit)>0,[`${H}__profit--loss`]:(null==t?void 0:t.profit)<0}),children:Math.abs((null==t?void 0:t.profit)??0).toFixed(2)}),loader:!t.is_completed})]},null==t?void 0:null===(n=t.transaction_ids)||void 0===n?void 0:n.buy)}return(0,i.jsx)("div",{className:`${H}__table-row`,children:(0,i.jsx)("div",{className:`${H}__divider`,children:(0,i.jsx)("div",{className:"transactions__divider-line"})})},`transaction-row-divider-${t}`)})]}),(0,i.jsxs)("div",{className:F()(`${H}__table-container`,`${H}__table-container__bottom-table`),children:[(0,i.jsx)(Y,{columns:s}),(0,i.jsxs)("div",{className:`${H}__table-row`,children:[(0,i.jsx)(q,{label:l,extra_classes:[`${H}__table-cell--grow-mid`]}),(0,i.jsx)(q,{label:null==t?void 0:t.number_of_runs}),(0,i.jsx)(q,{label:Math.abs((null==t?void 0:t.total_stake)??0).toFixed(2)}),(0,i.jsx)(q,{label:Math.abs((null==t?void 0:t.total_payout)??0).toFixed(2)}),(0,i.jsx)(q,{label:null==t?void 0:t.won_contracts}),(0,i.jsx)(q,{label:null==t?void 0:t.lost_contracts,extra_classes:[`${H}__loss`]}),(0,i.jsx)(q,{label:(0,i.jsx)("div",{className:F()((null==t?void 0:t.total_profit)&&{[`${H}__profit--win`]:(null==t?void 0:t.total_profit)>0,[`${H}__profit--loss`]:(null==t?void 0:t.total_profit)<0}),"data-testid":"transaction_details_table_profit",children:Math.abs((null==t?void 0:t.total_profit)??0).toFixed(2)})}),(0,i.jsx)(q,{label:r})]})]})]})}let Q=()=>[{key:"timestamp",label:(0,y.NC)("Timestamp"),extra_class:"--grow-big"},{key:"reference",label:(0,y.NC)("Reference"),extra_class:"--grow-mid"},{key:"market",label:(0,y.NC)("Market")},{key:"contract_type",label:(0,y.NC)("Trade type")},{key:"entry_tick",label:(0,y.NC)("Entry spot")},{key:"exit_tick",label:(0,y.NC)("Exit spot")},{key:"buy_price",label:(0,y.NC)("Buy price")},{key:"profit",label:(0,y.NC)("Profit/Loss")}],ee=()=>[{key:"account",label:(0,y.NC)("Account"),extra_class:"--grow-mid"},{key:"no_of_runs",label:(0,y.NC)("No. of runs")},{key:"total_stake",label:(0,y.NC)("Total stake")},{key:"total_payout",label:(0,y.NC)("Total payout")},{key:"win",label:(0,y.NC)("Win")},{key:"loss",label:(0,y.NC)("Loss")},{key:"total_profit",label:(0,y.NC)("Total profit/loss")},{key:"balance",label:(0,y.NC)("Balance")}],et=(0,r.Pi)(()=>{let{client:e}=(0,j.oR)(),{loginid:t,balance:s}=e,{transactions:a}=(0,j.oR)(),{toggleTransactionDetailsModal:n,is_transaction_details_modal_open:r,transactions:o}=a,{statistics:c}=a;return(0,i.jsx)(l.Fragment,{children:r&&(0,i.jsx)(L,{boundary:".main",header:(0,y.NC)("Transactions detailed summary"),onClose:()=>n(!1),modalWidth:882,modalHeight:404,minWidth:882,minHeight:404,enableResizing:!0,children:(0,i.jsx)(J,{transaction_columns:Q(),transactions:o,result_columns:ee(),result:c,account:t??"",balance:s??0})})})});var es=s("45452"),ea=s("80177"),en=s("64010"),ei=s("44810"),el=s("75399"),er=s("43882");let eo=l.memo(e=>{var t,s;let{className:a,column:n,is_footer:l,passthrough:r,row:o}=e;if(!n)return null;let{col_index:c,title:d}=n,u=null==o?void 0:o[c],h=(0,m.MOe)(null==o?void 0:null===(t=o.contract_info)||void 0===t?void 0:t.contract_type),_=(0,m.Yeo)(null==o?void 0:null===(s=o.contract_info)||void 0===s?void 0:s.contract_type);return(0,i.jsxs)("div",{className:F()(a,n.col_index),children:[!l&&(0,i.jsx)("div",{className:F()(`${n.col_index}__row-title`,"data-list__row-title"),children:n.renderHeader?n.renderHeader({title:d,is_vanilla:_}):d}),(0,i.jsx)("div",{className:"data-list__row-content",children:n.renderCellContent?n.renderCellContent({cell_value:u,is_footer:l,passthrough:r,row_obj:o,is_vanilla:_,is_turbos:h}):u})]})});var ec=s("79655"),ed=s("89471");let eu=(e,t)=>{let s=l.useMemo(()=>w()(e,t),[]);return l.useEffect(()=>s.cancel,[]),s},eh=l.memo(e=>{let{action_desc:t,destination_link:s,row_gap:a,row_key:n,rowRenderer:r,measure:o,is_dynamic_height:c,...d}=e,[u,h]=l.useState(!1),_=(0,ed.tm)(),x=eu(()=>h(!1),5e3),p=()=>{t&&(h(!u),x())},j=e=>{(0,m.K9$)(p,e)};return l.useEffect(()=>{_()&&c&&(null==o||o())},[u,c,o]),(0,i.jsx)("div",{className:"data-list__row--wrapper",style:{paddingBottom:`${a||0}px`},children:s?(0,i.jsx)(ec.OL,{className:"data-list__item--wrapper",id:`dt_reports_contract_${n}`,to:{pathname:s,state:{from_table_row:!0}},children:(0,i.jsx)("div",{className:"data-list__item",children:r({measure:o,...d})})}):(0,i.jsx)("div",{className:F()("data-list__item--wrapper",{"data-list__item--dynamic-height-wrapper":c}),children:t?(0,i.jsx)("div",{className:"data-list__item",onClick:j,onKeyDown:j,children:u?(0,i.jsx)("div",{className:"data-list__desc--wrapper",children:t.component&&(0,i.jsx)("div",{children:t.component})}):r({measure:o,...d})}):(0,i.jsx)("div",{className:"data-list__item",children:r({measure:o,...d})})})})}),e_=el.aV,em=el.qj,ex=el.Z8,ep=l.memo(e=>{let{children:t,className:s,data_source:a,footer:n,getRowSize:r,keyMapper:o,onRowsRendered:c,onScroll:d,setListRef:u,overscanRowCount:h,..._}=e,[x,p]=l.useState(!0),[j,v]=l.useState(!1),[b,g]=l.useState(0),f=l.useRef(),y=l.useRef(null),N=l.useRef({}),C=l.useRef(null);C.current=a;let k=!r,T=l.useCallback(()=>{a.forEach((e,t)=>{let s=(null==o?void 0:o(e))||`${t}-0`;N.current[s]=!0})},[a,o]);l.useEffect(()=>{k&&(f.current=new el.t1({fixedWidth:!0,keyMapper:e=>(null==C?void 0:C.current)&&e<(null==C?void 0:C.current.length)&&(null==o?void 0:o(C.current[e]))||e})),T(),p(!1)},[]),l.useEffect(()=>{if(k){var e,t;null===(t=y.current)||void 0===t||null===(e=t.recomputeGridSize)||void 0===e||e.call(t,{columnIndex:0,rowIndex:0})}T()},[a,k,T]);let S=e=>{let{style:t,index:s,key:n,parent:l}=e,{getRowAction:r,passthrough:c,row_gap:d}=_,u=a[s],{action_type:h,shortcode:x,purchase_time:p,transaction_time:v,id:b}=u;if((0,m.JIr)(h,x,p||v)){let e=!!(null==a?void 0:a.find(e=>"sell"===e.action_type&&e.id===b));u={...u,is_sold:e}}let g=r&&r(u),y="string"==typeof g?g:void 0,C="object"==typeof g?g:void 0,T=(null==o?void 0:o(u))||n,S=function(){let{measure:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.jsx)(eh,{action_desc:C,destination_link:y,is_new_row:!N.current[T],is_scrolling:j,measure:e,passthrough:c,row_gap:d,row_key:T,row:u,rowRenderer:_.rowRenderer,is_dynamic_height:k})};return k&&f.current?(0,i.jsx)(ex,{cache:f.current,columnIndex:0,rowIndex:s,parent:l,children:e=>{let{measure:s}=e;return(0,i.jsx)("div",{style:t,children:S({measure:s})})}},T):(0,i.jsx)("div",{style:t,children:S()},T)},w=e=>{let t;clearTimeout(t),!j&&v(!0),t=setTimeout(()=>{!x&&v(!1)},200),g(e.target.scrollTop),"function"==typeof d&&d(e)},E=e=>{y.current=e,null==u||u(e)};return x?(0,i.jsx)("div",{}):(0,i.jsxs)("div",{"data-testid":"dt_data_list",className:F()(s,"data-list",{[`${s}__data-list`]:s}),children:[(0,i.jsxs)("div",{className:"data-list__body-wrapper",children:[(0,i.jsx)("div",{className:F()("data-list__body",{[`${s}__data-list-body`]:s}),children:(0,i.jsx)(em,{children:e=>{var t,n;let{width:l,height:o}=e;return(0,i.jsx)(ei.Z,{style:{height:o,width:l},children:(0,i.jsx)(er.Z,{onScroll:w,autohide:!0,is_bypassed:(0,m.tqC)(),children:(0,i.jsx)(e_,{className:s,deferredMeasurementCache:null==f?void 0:f.current,height:o,onRowsRendered:c,overscanRowCount:h||1,ref:e=>E(e),rowCount:a.length,rowHeight:k&&(null==f?void 0:null===(t=f.current)||void 0===t?void 0:t.rowHeight)?null==f?void 0:null===(n=f.current)||void 0===n?void 0:n.rowHeight:r||0,rowRenderer:S,scrollingResetTimeInterval:0,width:l,...(0,m.nIE)()?{scrollTop:b,autoHeight:!0}:{onScroll:e=>w({target:e})}})})})}})}),t]}),n&&(0,i.jsx)("div",{className:F()("data-list__footer",{[`${s}__data-list-footer`]:s}),children:(0,i.jsx)(l.Fragment,{children:_.rowRenderer({row:n,is_footer:!0})})})]})});ep.displayName="DataList",ep.Cell=eo;let ej=e=>{let{date:t,time:s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"journal__text-date",children:t})," | ",(0,i.jsx)("span",{className:"journal__text-time",children:s})]})};var ev=s("1051"),eb=s("75544");let eg=l.forwardRef((e,t)=>{let{className:s,classNameLabel:a,disabled:n=!1,id:r,label:o,label_font_size:c="xs",label_lineHeight:d="unset",defaultChecked:u,onChange:h,value:_=!1,withTabIndex:m=0,greyDisabled:x=!1,has_error:p=!1,...j}=e,[v,b]=l.useState(u||_);return l.useEffect(()=>{b(u||_)},[_,u]),(0,i.jsxs)("label",{htmlFor:r,onClick:e=>e.stopPropagation(),className:F()("dc-checkbox",s,{"dc-checkbox--disabled":n}),children:[(0,i.jsxs)("span",{children:[(0,i.jsx)("input",{className:"dc-checkbox__input",type:"checkbox",id:r,ref:t,disabled:n,onChange:e=>{e.persist(),b(!v),null==h||h(e)},checked:v,...j}),(0,i.jsx)("span",{className:F()("dc-checkbox__box",{"dc-checkbox__box--active":v,"dc-checkbox__box--disabled":n,"dc-checkbox--grey-disabled":n&&x}),tabIndex:m,onKeyDown:e=>{!n&&("Enter"===e.key||32===e.keyCode)&&(null==h||h(e),b(!v))},children:!!v&&(0,i.jsx)(eb.Z,{})})]}),(0,i.jsx)(es.Z,{size:c,lineHeight:d,className:F()("dc-checkbox__label",a,{"dc-checkbox__label--error":p}),children:o})]})});eg.displayName="Checkbox";let ef=e=>{let{wrapper_ref:t,checked_filters:s,filters:a,filterMessage:n,className:l}=e;return(0,i.jsx)("div",{ref:t,className:l,children:a.map(e=>{let t=Array.isArray(s)&&s.includes(e.id);return(0,i.jsx)(eg,{checked:t,label:e.label,onChange:()=>n(!t,e.id),name:e.id,defaultChecked:t},e.id)})})},ey=e=>{let{toggle_ref:t,checked_filters:s,filters:a,filterMessage:n,is_filter_dialog_visible:r,toggleFilterDialog:o}=e,c=l.useRef(null);return(0,ev.t)(c,o,e=>{var s;return r&&!(null===(s=t.current)||void 0===s?void 0:s.contains(e.target))}),(0,i.jsx)(ef,{wrapper_ref:c,checked_filters:s,filters:a,filterMessage:n,className:"filter-dialog"})};var eN=s("31481");let eC=e=>{let t=e.toString();return Number("140"+t.slice(3,-1)+"1")},ek=e=>{let{logType:t,className:s,extra:a}=e;return(0,i.jsx)("div",{className:F()("journal__text",s),children:(()=>{switch(t){case Z.LogTypes.LOAD_BLOCK:return(0,y.NC)("Blocks are loaded successfully");case Z.LogTypes.NOT_OFFERED:return(0,y.NC)("Resale of this contract is not offered.");case Z.LogTypes.PURCHASE:{let{longcode:e,transaction_id:t}=a,s=localStorage.getItem("active_loginid"),n=s&&(0,eN.xY)(s)&&"number"==typeof t?eC(t):t;return(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Bought</0>: {{longcode}} (ID: {{transaction_id}})",values:{longcode:e,transaction_id:n},components:[(0,i.jsx)(es.Z,{size:"xxs",styles:{color:"var(--status-info)"}},0)],options:{interpolation:{escapeValue:!1}}})}case Z.LogTypes.SELL:{let{sold_for:e}=a;return(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Sold for</0>: {{sold_for}}",values:{sold_for:e},components:[(0,i.jsx)(es.Z,{size:"xxs",styles:{color:"var(--status-warning)"}},0)]})}case Z.LogTypes.PROFIT:{let{currency:e,profit:t}=a;return(0,i.jsx)(y.Xx,{i18n_default_text:"Profit amount: <0>{{profit}}</0>",values:{profit:`${(0,m.lby)(e,t,!0)} ${(0,m.O$T)(e)}`},components:[(0,i.jsx)(es.Z,{size:"xxs",styles:{color:"var(--status-success)"}},0)]})}case Z.LogTypes.LOST:{let{currency:e,profit:t}=a;return(0,i.jsx)(y.Xx,{i18n_default_text:"Loss amount: <0>{{profit}}</0>",values:{profit:`${(0,m.lby)(e,t,!0)} ${(0,m.O$T)(e)}`},components:[(0,i.jsx)(es.Z,{size:"xxs",styles:{color:"var(--status-danger)"}},0)]})}case Z.LogTypes.WELCOME_BACK:{let{current_currency:e}=a;if(e)return(0,i.jsx)(y.Xx,{i18n_default_text:"Welcome back! Your messages have been restored. You are using your {{current_currency}} account.",values:{current_currency:e}});return(0,i.jsx)(y.Xx,{i18n_default_text:"Welcome back! Your messages have been restored."})}case Z.LogTypes.WELCOME:{let{current_currency:e}=a;if(e)return(0,i.jsx)(y.Xx,{i18n_default_text:"You are using your {{current_currency}} account.",values:{current_currency:e}});break}default:return null}})()})},eT=(e,t,s,a,n)=>{switch(t){case Z.MessageTypes.SUCCESS:return(0,i.jsx)(ek,{logType:e,extra:a,className:s});case Z.MessageTypes.NOTIFY:if("function"==typeof e)return(0,i.jsx)("div",{className:F()("journal__text",s),children:e(n)});return(0,i.jsx)("div",{className:F()("journal__text",s),children:e});case Z.MessageTypes.ERROR:return(0,i.jsx)("div",{className:"journal__text--error journal__text",children:e});default:return null}},eS=e=>{let{row:t,measure:s}=e,{date:a,time:n,message:l,message_type:r,className:o,extra:c}=t,d=ej({date:a,time:n});return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"list__animation","data-testid":"mock-css-transition",children:(0,i.jsxs)("div",{className:"journal__item",dir:(0,z.rK)()?"rtl":"ltr",children:[(0,i.jsx)("div",{className:"journal__item-content",children:eT(l,r,o,c,s)}),(0,i.jsx)("div",{className:"journal__text-datetime",children:d})]})})})},ew=e=>{let{is_mobile:t}=e;return(0,i.jsxs)(U.ZP,{className:F()("journal__loader",{"journal__loader--mobile":t}),speed:3,width:350,height:92,backgroundColor:"var(--general-section-1)",foregroundColor:"var(--general-hover)",children:[(0,i.jsx)("rect",{x:"15",y:"15",rx:"5",ry:"5",width:"320",height:"40"}),(0,i.jsx)("rect",{x:"15",y:"60",rx:"5",ry:"5",width:"180",height:"7"})]})};var eE=s("81262");let eI=()=>{let e=new Date,t=e.getUTCFullYear(),s=(e.getUTCMonth()+1).toString().padStart(2,"0"),a=e.getUTCDate().toString().padStart(2,"0"),n=e.getUTCHours().toString().padStart(2,"0"),i=e.getUTCMinutes().toString().padStart(2,"0"),l=e.getUTCSeconds().toString().padStart(2,"0");return`${t}-${s}-${a} ${n}${i}${l}`},eA=(e,t)=>{let{profit:s,sold_for:a,longcode:n,transaction_id:i,current_currency:l}=t;switch(e){case Z.LogTypes.LOAD_BLOCK:return(0,y.NC)("Blocks are loaded successfully");case Z.LogTypes.NOT_OFFERED:return(0,y.NC)("Resale of this contract is not offered.");case Z.LogTypes.PURCHASE:return(0,y.NC)("Bought: {{longcode}} (ID: {{transaction_id}})",{longcode:n,transaction_id:i});case Z.LogTypes.SELL:return(0,y.NC)("Sold for: {{sold_for}}",{sold_for:a});case Z.LogTypes.PROFIT:return(0,y.NC)("Profit amount: {{profit}}",{profit:s});case Z.LogTypes.LOST:return(0,y.NC)("Loss amount: {{profit}}",{profit:s});case Z.LogTypes.WELCOME_BACK:if(l)return(0,y.NC)("Welcome back! Your messages have been restored. You are using your {{current_currency}} account.",{current_currency:l});return(0,y.NC)("Welcome back! Your messages have been restored.");case Z.LogTypes.WELCOME:if(l)return(0,y.NC)("You are using your {{current_currency}} account.",{current_currency:l});break;default:return""}},eR=(e,t)=>{let s=encodeURI(`data:text/csv;charset=utf-8, ${t}`),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download",`${e} ${eI()}.csv`),document.body.appendChild(a),a.click();let n=a.parentNode;n&&a&&(null==n?void 0:n.contains(a))&&(null==n||n.removeChild(a))};var eD=s("8015");let eO=(0,r.Pi)(e=>{let t,s,{tab:a}=e,{run_panel:n,transactions:l,journal:r}=(0,j.oR)(),{is_clear_stat_disabled:o,is_running:c}=n,{filtered_messages:d}=r,{transactions:u}=l,h=!1;return"transactions"===a?(t=()=>{let e=[[(0,y.NC)("Market"),(0,y.NC)("Reference ID (buy)"),(0,y.NC)("Reference ID (sell)"),(0,y.NC)("Barrier"),(0,y.NC)("Start Time"),(0,y.NC)("Entry Spot"),(0,y.NC)("Entry Spot Time"),(0,y.NC)("Exit Spot"),(0,y.NC)("Exit Spot Time"),(0,y.NC)("Buy Price"),(0,y.NC)("Profit/Loss")]];u.forEach(t=>{let{data:s}=t;"string"!=typeof s&&e.push([s.display_name,s.transaction_ids.buy,s.transaction_ids.sell,s.barrier,s.date_start,s.entry_tick,s.entry_tick_time,s.exit_tick,s.exit_tick_time,s.buy_price,s.profit])});let t=e.map(e=>e.join(",")).join("\n");eR((0,y.NC)("Transactions"),t)},h=!u.length||c,s=(0,y.NC)("Download your transaction history."),!u.length&&(s=(0,y.NC)("No transaction or activity yet."))):"journal"===a&&(t=()=>{let e=[[(0,y.NC)("Date"),(0,y.NC)("Time"),(0,y.NC)("Message")]];d.map(t=>{let s;s="success"!==t.message_type?JSON.stringify(t.message):eA(t.message.toString(),t.extra);let a=[t.date,t.time,null==s?void 0:s.replace("&#x2F;","/")];e.push(a)});let t=e.map(e=>e.join(",")).join("\n");eR((0,y.NC)("Journal"),t)},s=(0,y.NC)("Download your journal."),(h=o)&&(s=(0,y.NC)("No transaction or activity yet."))),c&&(s=(0,y.NC)("Download is unavailable while your bot is running.")),(0,i.jsx)($.Z,{className:"run-panel__info",classNameBubble:"run-panel__info--bubble",alignment:"bottom",message:s,zIndex:"5",children:(0,i.jsx)(eD.Z,{id:"download-button",disabled:h,className:"download__button",onClick:t,secondary:!0,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Download"})})})});var eL=s("29643");let eM=e=>{let{checked_filters:t,filters:s,filterMessage:a,is_filter_dialog_visible:n,toggleFilterDialog:r}=e,o=l.useRef(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"journal-tools__container",children:[(0,i.jsx)(eO,{tab:"journal"}),(0,i.jsxs)("div",{ref:o,className:"journal-tools__container-filter",onClick:r,children:[(0,i.jsx)(es.Z,{size:"xs",className:"journal-tools__container-filter--label",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Filters"})}),(0,i.jsx)(eL.Z,{height:"16px",width:"16px",fill:"var(--text-general)"})]})]}),(0,i.jsx)(eE.Z,{in:n,classNames:{enter:"filter-dialog--enter",enterDone:"filter-dialog--enter-done",exit:"filter-dialog--exit"},timeout:150,unmountOnExit:!0,children:(0,i.jsx)(ey,{toggle_ref:o,checked_filters:t,filters:s,filterMessage:a,is_filter_dialog_visible:n,toggleFilterDialog:r})})]})},eF=(0,r.Pi)(()=>{let{journal:e,run_panel:t}=(0,j.oR)(),{checked_filters:s,filterMessage:a,filters:n,filtered_messages:l,is_filter_dialog_visible:r,toggleFilterDialog:o,unfiltered_messages:c}=e,{is_stop_button_visible:d,contract_stage:u}=t,h=Array.isArray(l)&&l.length,_=Array.isArray(c)&&c.length,{isDesktop:m}=(0,N.F)();return(0,i.jsxs)("div",{className:F()("journal run-panel-tab__content--no-stat",{"run-panel-tab__content":m}),"data-testid":"dt_mock_journal",children:[(0,i.jsx)(eM,{checked_filters:s,filters:n,filterMessage:a,is_filter_dialog_visible:r,toggleFilterDialog:o}),(0,i.jsx)("div",{className:"journal__item-list",children:h?(0,i.jsx)(ep,{className:"journal",data_source:l,rowRenderer:e=>(0,i.jsx)(eS,{...e}),keyMapper:e=>e.unique_id}):(0,i.jsx)(i.Fragment,{children:u>=ea.K.STARTING&&Object.keys(s).length&&!_&&d?(0,i.jsx)(ew,{is_mobile:!m}):(0,i.jsxs)("div",{className:"journal-empty",children:[(0,i.jsx)(en.Z,{height:"64px",width:"64px",className:"journal-empty__icon icon-general-fill-g-path",color:"secondary",fill:"var(--text-general)"}),(0,i.jsx)(es.Z,{as:"h4",size:"xs",weight:"bold",align:"center",color:"less-prominent",lineHeight:"s",className:"journal-empty__header",children:(0,i.jsx)(y.Xx,{i18n_default_text:"There are no messages to display"})}),(0,i.jsxs)("div",{className:"journal-empty__message",children:[(0,i.jsx)(es.Z,{size:"xxs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Here are the possible reasons:"})}),(0,i.jsxs)("ul",{className:"journal-empty__list",children:[(0,i.jsx)("li",{children:(0,i.jsx)(es.Z,{size:"xxs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The bot is not running"})})}),(0,i.jsx)("li",{children:(0,i.jsx)(es.Z,{size:"xxs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The stats are cleared"})})}),(0,i.jsx)("li",{children:(0,i.jsx)(es.Z,{size:"xxs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"All messages are filtered out"})})})]})]})]})})})]})});var eU=s("29747"),eP=s("45697"),eZ=s.n(eP),ez=s("97050"),eB=s("75097");let eV={initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:250,delay:.3}},e$={initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.25,delay:.3}},eX={initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},eG=e=>{let{children:t,className:s,is_visible:a,keyname:n,type:l}=e;return"top"===l?(0,i.jsx)(i.Fragment,{children:a&&(0,i.jsx)(eB.E.div,{animate:eV.animate,initial:eV.initial,transition:eV.transition,className:s,children:t},n)}):"bottom"===l?(0,i.jsx)(i.Fragment,{children:a&&(0,i.jsx)(eB.E.div,{animate:e$.animate,initial:e$.initial,transition:e$.transition,className:s,children:t},n)}):(0,i.jsx)(i.Fragment,{children:a&&(0,i.jsx)(eB.E.div,{animate:eX.animate,initial:eX.initial,transition:eX.transition,className:s,children:t},n)})},eH=e=>{let{message:t,className:s,type:a}=e;return(0,i.jsx)("div",{className:F()("dc-field",s,{"dc-field--error":"error"===a,"dc-field--warn":"warn"===a}),children:t})},eq=e=>{let{children:t,has_footer:s}=e;return s?(0,i.jsx)("div",{className:"dc-input__wrapper",children:t}):(0,i.jsx)(l.Fragment,{children:t})},eY=l.forwardRef((e,t)=>{let{bottom_label:s,className:a,classNameError:n,classNameHint:r,classNameWarn:o,disabled:c=!1,error:d,field_className:u,has_character_counter:h,hint:_,initial_character_count:m,input_id:x,is_relative_hint:p,label_className:j,label:v,leading_icon:b,max_characters:g,trailing_icon:f,warn:y,data_testId:N,maxLength:C,placeholder:k,...T}=e,[S,w]=l.useState(0);l.useEffect(()=>{(m||0===m)&&w(m)},[m]);let E=!!h||!!_&&!!p,I=v?"":k;return(0,i.jsxs)(eq,{has_footer:E,children:[(0,i.jsxs)("div",{className:F()("dc-input",a,{"dc-input--disabled":c,"dc-input--error":d,"dc-input--hint":_,"dc-input--bottom-label-active":s}),children:[(0,i.jsxs)("div",{className:F()("dc-input__container",{"dc-input__container--disabled":c,"dc-input__container--error":d}),children:[b&&l.cloneElement(b,{className:F()("dc-input__leading-icon",b.props.className)}),"textarea"===T.type?(0,i.jsx)("textarea",{ref:t,"data-testid":N,...T,className:F()("dc-input__field dc-input__textarea",{"dc-input__field--placeholder-visible":!v&&k}),onChange:e=>{var t;let s=e.target.value;g&&s.length>=g&&(s=s.slice(0,g)),w(s.length),e.target.value=s,null===(t=T.onChange)||void 0===t||t.call(T,e)},disabled:c,id:x,maxLength:C,placeholder:I}):(0,i.jsx)("input",{ref:t,"data-testid":N,...T,className:F()("dc-input__field",u,{"dc-input__field--placeholder-visible":!v&&k}),onFocus:T.onFocus,onBlur:T.onBlur,onChange:T.onChange,onKeyDown:T.onKeyDown,onMouseDown:T.onMouseDown,onMouseUp:T.onMouseUp,onPaste:T.onPaste,disabled:c,"data-lpignore":"password"!==T.type||void 0,id:x,"aria-label":v,maxLength:C,placeholder:I}),f&&l.cloneElement(f,{className:F()("dc-input__trailing-icon",f.props.className)}),v&&(0,i.jsx)("label",{className:F()("dc-input__label",j),htmlFor:T.id,children:v})]}),(0,i.jsx)("div",{children:!E&&(0,i.jsxs)(l.Fragment,{children:[d&&(0,i.jsx)(eH,{className:n,message:d,type:"error"}),y&&(0,i.jsx)(eH,{className:o,message:y,type:"warn"}),!d&&_&&!p&&(0,i.jsx)("div",{className:"dc-input__hint",children:(0,i.jsx)(es.Z,{as:"p",color:"less-prominent",size:"xs",className:r,children:_})})]})})]}),E&&(0,i.jsxs)("div",{className:"dc-input__footer",children:[d&&(0,i.jsx)(eH,{className:n,message:d,type:"error"}),y&&(0,i.jsx)(eH,{className:o,message:y,type:"warn"}),!d&&_&&(0,i.jsx)("div",{className:"dc-input__hint dc-input__hint--relative",children:(0,i.jsx)(es.Z,{color:"less-prominent","line-height":"m",size:"xs",children:_})}),h&&(0,i.jsx)("div",{className:"dc-input__counter",children:(0,i.jsxs)(es.Z,{color:"less-prominent","line-height":"m",size:"xs",children:[S,g?`/${g}`:""]})})]}),s&&!d&&(0,i.jsx)("div",{className:"dc-input__bottom-label",children:(0,i.jsx)(es.Z,{size:"xs",color:"less-prominent",children:s})})]})});eY.displayName="Input";var eW=s("66163"),eK=s("73935"),eJ=s("14117");let eQ=e=>{let{children:t,header:s,id:a,is_from_app:n=!1,is_open:r,onClickClose:o,portal_id:c,header_classname:d,has_return_icon:u,onReturn:h}=e,_=l.useRef(null),m=(0,i.jsxs)("div",{ref:_,id:a,className:F()("dc-page-overlay",{"dc-page-overlay-portal":!!c}),children:[s&&(0,i.jsx)("div",{className:F()("dc-page-overlay__header",{"dc-page-app__header ":n}),children:(0,i.jsxs)("div",{className:"dc-page-overlay__header-wrapper",children:[(0,i.jsxs)("div",{className:F()("dc-page-overlay__header-title",d),children:[u&&(0,i.jsx)(eJ.Z,{onClick:h,className:"dc-modal-header__icon"}),s]}),!n&&(0,i.jsx)("div",{"data-testid":"dt_page_overlay_header_close",className:"dc-page-overlay__header-close",onClick:o||window.history.back,children:(0,i.jsx)(E.Z,{height:"20px",width:"20px"})})]})}),(0,i.jsx)("div",{className:"dc-page-overlay__content",children:t})]});return c?eK.createPortal((0,i.jsx)(eE.Z,{appear:!0,in:r,timeout:250,classNames:{appear:"dc-page-overlay--enter",enter:"dc-page-overlay--enter",enterDone:"dc-page-overlay--enter-done",exit:"dc-page-overlay--exit"},unmountOnExit:!0,children:m}),document.getElementById(c)):(0,i.jsx)(l.Fragment,{children:m})},e0=e=>{let[t,s]=l.useState(""),{is_onscreen_keyboard_active:a,is_logged_in:n,initial_values:r,api_max_losses:o,onRunButtonClick:c,resetSelfExclusion:d,updateSelfExclusion:u,setRunLimit:h,is_mobile:_}=e;l.useEffect(()=>{!n&&d()});let m=async e=>{if(e.form_max_losses!==o){let t=await u({max_losses:e.form_max_losses});if(null==t?void 0:t.error){s((0,y.NC)(t.error.message));return}}h(e.run_limit),c()};return(0,i.jsx)("div",{className:"db-self-exclusion",children:(0,i.jsxs)("div",{className:"db-self-exclusion__content",children:[(0,i.jsx)("div",{className:"db-self-exclusion__info",children:(0,y.NC)("Enter limits to stop your bot from trading when any of these conditions are met.")}),(0,i.jsx)(eU.J9,{initialValues:r,validate:e=>{let t={},a=/^\d+(\.\d+)?$/,n=/^\d+$/,i=(0,y.NC)("This field is required."),l=(0,y.NC)("Should be a valid number"),r=(0,y.NC)("Reached maximum number of digits"),c=(0,y.NC)("Reached maximum number of decimals"),d=(0,y.NC)("Please enter a number between 0 and {{api_max_losses}}.",{api_max_losses:o});return["run_limit","form_max_losses"].forEach(s=>{!e[s]&&(t[s]=i)}),["run_limit","form_max_losses"].forEach(s=>{e[s]&&(a.test(e[s])?+e[s]>0x9184e729fff&&(t[s]=r):t[s]=l)}),["run_limit"].forEach(s=>{e[s]&&!n.test(e[s])&&(t[s]=l)}),["form_max_losses"].forEach(s=>{let a=e[s].toString().split(".")[1];(a&&a.length||0)>2&&(t[s]=c)}),["form_max_losses"].forEach(a=>{0!==o&&o!==e[a]&&o<e[a]?t[a]=d:s("")}),t},onSubmit:m,children:e=>{let{values:s,touched:n,errors:l,isValid:r,handleChange:o}=e;return(0,i.jsxs)(eU.l0,{children:[(0,i.jsx)("div",{className:"db-self-exclusion__form-group",children:(0,i.jsx)(eU.gN,{name:"form_max_losses",children:e=>{let{field:a}=e;return(0,i.jsx)(eY,{...a,className:"db-self-exclusion__input",type:"text",label:(0,y.NC)("Daily loss limit"),value:s.form_max_losses,onChange:o,error:t||n[a.name]&&l[a.name],hint:(0,y.NC)("Limits your potential losses for the day across all Deriv platforms.")})}})}),(0,i.jsx)("div",{className:"db-self-exclusion__form-group",children:(0,i.jsx)(eU.gN,{name:"run_limit",children:e=>{let{field:t}=e;return(0,i.jsx)(eY,{...t,className:"db-self-exclusion__input",type:"text",label:(0,y.NC)("Maximum consecutive trades"),value:s.run_limit,onChange:o,error:n[t.name]&&l.run_limit,hint:(0,y.NC)("Maximum number of trades your bot will execute for this run.")})}})}),(0,i.jsx)("div",{className:F()("db-self-exclusion__footer",{"db-self-exclusion__footer--relative":_&&a}),children:(0,i.jsxs)("div",{className:"db-self-exclusion__footer-btn-group",children:[(0,i.jsx)(eD.Z,{large:!0,text:(0,y.NC)("Cancel"),onClick:d,secondary:!0,type:"button"}),(0,i.jsx)(eD.Z,{type:"submit",large:!0,text:(0,y.NC)("Apply and run"),is_disabled:!r||!s.run_limit||!s.form_max_losses||""!==t,primary:!0})]})})]})}})]})})},e1=(0,r.Pi)(e=>{let{onRunButtonClick:t}=e,{self_exclusion:s}=(0,j.oR)(),{ui:a,client:n}=(0,j.oR)(),{is_restricted:l,resetSelfExclusion:r,initial_values:o,api_max_losses:c,run_limit:d,setRunLimit:u}=s,{is_onscreen_keyboard_active:h}=a,{is_logged_in:_,updateSelfExclusion:m,virtual_account_loginid:x}=n,{isDesktop:p}=(0,N.F)(),v={is_onscreen_keyboard_active:h,is_logged_in:_,initial_values:o,api_max_losses:c,onRunButtonClick:t,resetSelfExclusion:r,updateSelfExclusion:m,setRunLimit:u,virtual_account_loginid:x,run_limit:d,isDesktop:p};return(0,i.jsx)(i.Fragment,{children:p?(0,i.jsx)(C.Z,{is_open:l,has_close_icon:!0,width:"440px",height:"374px",toggleModal:r,className:"db-self-exclusion__modal",title:(0,y.NC)("Limits"),children:(0,i.jsx)(e0,{...v})}):(0,i.jsx)(eG,{is_visible:l,className:"limits__wrapper",keyname:"limitis__wrapper",children:(0,i.jsx)(eQ,{header:(0,y.NC)("Limits"),onClickClose:r,children:(0,i.jsx)(eW.Z,{children:(0,i.jsx)(ez.Z,{className:"limits__wrapper--is-mobile",children:(0,i.jsx)(e0,{...v})})})})})})});e1.propTypes={onRunButtonClick:eZ().func};var e2=s("65342"),e5=s("51729");let e8=e=>{let{anchor:t="left",children:s,className:a,contentClassName:n,footer:r,header:o,width:c=250,zIndex:d=4,...u}=e,[h,_]=l.useState(u.is_open),{isDesktop:m}=(0,N.F)();return l.useEffect(()=>{_(u.is_open)},[u.is_open]),(0,i.jsxs)("div",{"data-testid":"drawer",className:F()("dc-drawer",a,{[`dc-drawer--${t}`]:m,"dc-drawer--open":h}),style:{zIndex:d,transform:h&&m?"left"===t?`translateX(calc(${c}px - 16px))`:`translateX(calc(-${c}px + 16px))`:void 0},children:[(0,i.jsx)("div",{className:F()("dc-drawer__toggle",{"dc-drawer__toggle--open":h}),onClick:()=>{_(!h),u.toggleDrawer&&u.toggleDrawer(!h)},children:m?(0,i.jsx)(e2.Z,{className:F()("dc-drawer__toggle-icon",{[`dc-drawer__toggle-icon--${t}`]:m})}):(0,i.jsx)(e5.Z,{iconSize:"sm",className:"dc-drawer__toggle-icon"})}),(0,i.jsxs)("div",{className:F()("dc-drawer__container",{[`dc-drawer__container--${t}`]:m}),children:[o&&(0,i.jsx)("div",{className:"dc-drawer__header",children:o}),(0,i.jsx)("div",{className:F()("dc-drawer__content",n),children:s}),r&&(0,i.jsx)("div",{className:"dc-drawer__footer",children:r})]})]})};var e3=s("87537");let e4=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>void 0,t=l.useRef(!1);!t.current&&(e(),t.current=!0)};var e7=s("40150"),e6=s("89606");let e9=e=>{let{className:t,count:s}=e;return(0,i.jsx)("div",{className:F()("dc-counter",t),children:s})},te=e=>{let{active_icon_color:t="",active_tab_ref:s,bottom:a=!1,className:n="",count:r,header_content:o,header_fit_content:c=!1,icon_color:d="",icon_size:u=0,icon:h,id:_="",is_active:m,is_label_hidden:x,is_scrollable:p,label:j,onClick:v,setActiveLineStyle:b,top:g}=e;l.useEffect(()=>{b()},[r,j,o,b]);let f=F()("dc-tabs__item",{"dc-tabs__active":m,[`dc-tabs__active--${n}`]:n&&m,"dc-tabs__item--top":g,"dc-tabs__item--bottom":a,"dc-tabs__item--header-fit-content":c,"dc-tabs__item--is-hidden":x,[`dc-tabs__item--${n}`]:n,"dc-tabs__item--is-scrollable-and-active":p&&m}),y=m?t:d;return(0,i.jsxs)("li",{id:_,className:f,style:{color:y},onClick:v,ref:s,children:[h&&(0,i.jsx)(e6.J,{icon:h,size:u,custom_color:y,className:"dc-tabs__item__icon"}),o||j,!!r&&(0,i.jsx)(e9,{className:"dc-tabs__item__counter",count:r})]})},tt=e=>{let t,{active_icon_color:s="",active_index:a=0,background_color:n="",bottom:r=!1,center:o=!1,children:c,className:d="",fit_content:u=!1,has_active_line:h=!0,has_bottom_line:_=!0,header_fit_content:m=!1,history:x,icon_color:p="",icon_size:j=0,is_100vw:v=!1,is_full_width:b=!1,is_overflow_hidden:g=!1,is_scrollable:f=!1,onTabItemClick:y,should_update_hash:N=!1,single_tab_has_no_label:C=!1,top:k}=e,[T,S]=l.useState({}),w=l.useRef(null),E=l.useRef(null),I=e=>{x.replace(`${x.location.pathname}${window.location.search}#${e}`)},A=l.useCallback(()=>{var e,t;let s=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.getBoundingClientRect(),a=null==w?void 0:null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect();s&&a?S({left:a.left-s.left,width:a.width}):setTimeout(()=>{A()},500)},[]),R=0;e4(()=>{if(R=a,N){let t=location.hash.slice(1),s=c.findIndex(e=>e&&e.props&&e.props.hash===t);if(s>-1)R=s;else{var e;let t=null===(e=c[R])||void 0===e?void 0:e.props,s=t&&t.hash;s&&I(s)}}A()});let[D,O]=l.useState(R);l.useEffect(()=>{D>=0&&a!==D&&(null==y||y(D)),A()},[D,A]),l.useEffect(()=>{a>=0&&a!==D&&O(a)},[a]);let L=e=>{if(N){var t;I(null===(t=c[e])||void 0===t?void 0:t.props["data-hash"])}O(e),A()},M=c.filter(e=>e);return t=f?"unset":u?"150px":`${(100/M.length).toFixed(2)}%`,(0,i.jsxs)("div",{className:F()("dc-tabs",{[`dc-tabs--${d}`]:d,"dc-tabs--top":k,"dc-tabs--100vw":v}),style:{"--tab-width":`${t}`,background:n},children:[(0,i.jsx)("div",{className:F()({[`dc-tabs__list--header--${d}`]:d}),children:(0,i.jsx)("ul",{className:F()("dc-tabs__list",{"dc-tabs__list--top":k,"dc-tabs__list--border-bottom":_,"dc-tabs__list--bottom":r,"dc-tabs__list--center":o,"dc-tabs__list--header-fit-content":m,"dc-tabs__list--full-width":b,[`dc-tabs__list--${d}`]:d,"dc-tabs__list--overflow-hidden":g}),ref:E,children:(0,i.jsxs)(e7.Z,{className:"dc-themed-scrollbars-wrapper",is_only_horizontal:!0,is_scrollbar_hidden:!0,is_bypassed:!f,children:[l.Children.map(c,(e,t)=>{if(!e)return null;let{icon:a,label:n,id:l}=e.props,o=e.props["data-header-content"],u=e.props["data-count"];return(0,i.jsx)(te,{active_icon_color:s,className:d,count:u,icon:a,icon_color:p,icon_size:j,is_active:t===D,is_label_hidden:1===c.length&&C,label:n,id:l,is_scrollable:f,top:k,bottom:r,header_fit_content:m,active_tab_ref:t===D?w:null,header_content:o,onClick:()=>L(t),setActiveLineStyle:A},n)}),h&&!f&&(0,i.jsx)("span",{className:F()("dc-tabs__active-line",{"dc-tabs__active-line--top":k,"dc-tabs__active-line--bottom":r,"dc-tabs__active-line--fit-content":u,"dc-tabs__active-line--header-fit-content":m,"dc-tabs__active-line--is-hidden":1===c.length&&C}),style:T})]})})}),(0,i.jsx)("div",{className:F()("dc-tabs__content",{[`dc-tabs__content--${d}`]:d}),children:l.Children.map(c,(e,t)=>{if(!e)return null;if(t===D)return e.props.children})})]})};var ts=s("88817"),ta=s("50220");let tn=(0,y.NC)("Your bot is running and waiting for a signal to buy a contract."),ti=()=>(0,i.jsxs)("div",{className:"db-contract-card-running-loader",children:[(0,i.jsx)(ta.Z,{id:"rotate-icon",fontSize:16,fill:"var(--text-general)"}),(0,i.jsx)(es.Z,{color:"less-prominent",lineHeight:"xs",size:"xs",weight:"bold",align:"center",className:"dc-contract-card-message",children:tn})]}),tl=e=>{let{speed:t=3,contract_stage:s}=e;return(0,i.jsx)(i.Fragment,{children:s===ea.K.RUNNING?(0,i.jsx)(ti,{}):(0,i.jsxs)(U.ZP,{height:153,width:334,speed:t,backgroundColor:"var(--general-section-2)",foregroundColor:"var(--general-hover)","data-testid":"contract-card-loader",children:[(0,i.jsx)("rect",{x:"12",y:"15",rx:"0",ry:"0",width:"41",height:"25"}),(0,i.jsx)("rect",{x:"61",y:"24",rx:"0",ry:"0",width:"91",height:"8"}),(0,i.jsx)("rect",{x:"180",y:"15",rx:"0",ry:"0",width:"41",height:"25"}),(0,i.jsx)("rect",{x:"229",y:"24",rx:"0",ry:"0",width:"91",height:"8"}),(0,i.jsx)("rect",{x:"12",y:"48",rx:"0",ry:"0",width:"60",height:"8"}),(0,i.jsx)("rect",{x:"12",y:"64",rx:"0",ry:"0",width:"308",height:"8"}),(0,i.jsx)("rect",{x:"12",y:"80",rx:"0",ry:"0",width:"308",height:"1"}),(0,i.jsx)("rect",{x:"12",y:"89",rx:"0",ry:"0",width:"140",height:"8"}),(0,i.jsx)("rect",{x:"12",y:"105",rx:"0",ry:"0",width:"60",height:"8"}),(0,i.jsx)("rect",{x:"12",y:"121",rx:"0",ry:"0",width:"140",height:"8"}),(0,i.jsx)("rect",{x:"12",y:"137",rx:"0",ry:"0",width:"60",height:"8"}),(0,i.jsx)("rect",{x:"180",y:"89",rx:"0",ry:"0",width:"140",height:"8"}),(0,i.jsx)("rect",{x:"180",y:"105",rx:"0",ry:"0",width:"60",height:"8"}),(0,i.jsx)("rect",{x:"180",y:"121",rx:"0",ry:"0",width:"140",height:"8"}),(0,i.jsx)("rect",{x:"180",y:"137",rx:"0",ry:"0",width:"60",height:"8"})]})})};var tr=s("91761"),to=s("48766"),tc=s("54802"),td=s("23406");let tu=l.memo(e=>{let{className:t,value:s}=e,[a,n]=l.useState(!1),[r,o]=l.useState({icon:"",previous_icon:""}),{icon:c,previous_icon:d,previous_value:u}=r,h=!isNaN(Number(r.value))&&!isNaN(Number(s)),_=l.useRef();return l.useEffect(()=>(n(!0),o(e=>{let t=Number(e.value)<Number(s)?(0,i.jsx)(tc.Z,{fill:"var(--text-profit-success)",iconSize:"sm"}):(0,i.jsx)("div",{style:{position:"relative",top:"-0.7rem"},children:(0,i.jsx)(td.Z,{fill:"var(--text-loss-danger)",iconSize:"sm"})});return{icon:h?t:"",previous_icon:e.icon,previous_value:e.value,value:s}}),clearTimeout(_.current),_.current=setTimeout(()=>{n(!1)},3e3),()=>clearTimeout(_.current)),[s]),(0,i.jsx)("div",{className:t,"data-testid":"dt_arrow_indicator",children:h&&a?(0,i.jsx)("div",{children:u===Number(s)?d:c}):null})}),th=e=>{let{currency:t}=e;return(0,i.jsx)(es.Z,{className:"dc-currency-badge",color:"colored-background",lineHeight:"unset",size:"xxxs",weight:"bold",children:(0,m.O$T)(t)})};var t_=s("73728");let tm=e=>{let{className:t,danger_limit:s=20,is_clockwise:a=!1,progress:n=0,radius:l=22,stroke:r=3,warning_limit:o=50}=e,c=l-r/2,d=2*c*Math.PI;return(0,i.jsxs)("div",{className:F()("dc-circular-progress",t),children:[(0,i.jsx)("div",{className:"dc-circular-progress__icon",children:(0,i.jsx)(t_.Z,{iconSize:"xs"})}),(0,i.jsx)("svg",{height:2*l,width:2*l,children:(0,i.jsx)("circle",{className:F()("dc-circular-progress__bar",{"dc-circular-progress--clockwise":a,"dc-circular-progress__bar--warning":n<=o&&n>s,"dc-circular-progress__bar--danger":n<=s}),cx:l,cy:l,fill:"transparent",r:c,strokeDasharray:`${d} ${d}`,strokeWidth:r,style:{strokeDashoffset:d-n/100*d}})})]})},tx=e=>{let{end_time:t,format:s,getCardLabels:a,start_time:n}=e;if(!t||n.unix()>+t)return(0,i.jsx)(l.Fragment,{children:""});let{days:r,timestamp:o}=(0,m.LUK)((0,m.QRc)(n.unix(),t),s),c=o;r>0&&(c=`${r} ${r>1?a().DAYS:a().DAY} ${o}`);let d=/^00:00$/.test(c);return(0,i.jsx)(l.Fragment,{children:!d&&(0,i.jsx)("div",{className:"dc-remaining-time",children:c})})},tp=e=>{let{is_on:t}=e;return(0,i.jsx)("div",{className:F()("dc-tick-progress__tick",{"dc-tick-progress__tick--on":t})})},tj=e=>{let{className:t,rows:s=2,columns:a=5,size:n=10,value:l=0}=e;return(0,i.jsx)("div",{className:F()("dc-tick-progress",t),style:{gridTemplateRows:`repeat(${s}, 1fr)`,gridTemplateColumns:`repeat(${a}, 1fr)`},children:Array(n).fill(null).map((e,t)=>(0,i.jsx)(tp,{is_on:t<Number(l)},t))})},tv=e=>{let{current_tick:t,getCardLabels:s,ticks_count:a}=e;return(0,i.jsxs)("div",{className:"dc-progress-slider__ticks",children:[(0,i.jsxs)(es.Z,{styles:{lineHeight:"18px"},size:"xxs",className:"dc-progress-slider__ticks-caption",children:[s().TICK," ",t]}),(0,i.jsx)(tj,{columns:5,rows:a>5?2:1,size:a,value:t})]})},tb=e=>{let{className:t,current_tick:s,getCardLabels:a,is_loading:n,start_time:r,expiry_time:o,server_time:c,ticks_count:d}=e,u=(0,m.dq6)(c,Number(r),Number(o));return(0,i.jsx)("div",{className:F()("dc-progress-slider-mobile",t),children:d?(0,i.jsx)(tv,{current_tick:s,getCardLabels:a,ticks_count:d}):(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(es.Z,{size:"xxs",children:(0,i.jsx)(tx,{end_time:o,getCardLabels:a,start_time:c})}),n||u<1?(0,i.jsx)("div",{className:"dc-progress-slider-mobile__infinite-loader",children:(0,i.jsx)("div",{className:"dc-progress-slider-mobile__infinite-loader--indeterminate"})}):(0,i.jsx)(tm,{className:"dc-progress-slider-mobile__timer",danger_limit:20,progress:u,warning_limit:50})]})})};var tg=s("96672");let tf=e=>{let{getCardLabels:t,is_contract_won:s}=e;return(0,i.jsxs)("span",{className:F()("dc-result__caption",{"dc-result__caption--won":s,"dc-result__caption--lost":!s}),children:[(0,i.jsx)("div",{className:"dc-result__icon",children:(0,i.jsx)(tg.Z,{iconSize:"sm",fill:s?"var(--text-profit-success)":"var(--text-loss-danger)"})}),t().CLOSED]})},ty=e=>{let{className:t,children:s,header:a,is_crypto:n,is_loss:l,is_won:r}=e;return(0,i.jsxs)("div",{className:F()("dc-contract-card-item",t),children:[(0,i.jsx)("div",{className:"dc-contract-card-item__header",children:a}),(0,i.jsx)("div",{className:F()("dc-contract-card-item__body",{"dc-contract-card-item__body--crypto":n,"dc-contract-card-item__body--loss":l,"dc-contract-card-item__body--profit":r}),children:s})]})};var tN=s("54996"),tC=s("94145");let tk=l.forwardRef((e,t)=>{let{children:s,is_visible:a,left:n,toggleDialog:l,toggle_ref:r,top:o}=e;(0,ev.t)(t,l,e=>{var t;return a&&!(null==r?void 0:null===(t=r.current)||void 0===t?void 0:t.contains(e.target))});let c=(0,i.jsx)(eE.Z,{in:a,classNames:{enter:"dc-contract-card-dialog--enter",enterDone:"dc-contract-card-dialog--enter-done",exit:"dc-contract-card-dialog--exit"},timeout:150,unmountOnExit:!0,children:(0,i.jsx)("div",{ref:t,className:"dc-contract-card-dialog",style:{top:o,left:`calc(${n}px + 32px)`},children:s})}),d=document.getElementById("deriv_app");return eK.createPortal(c,d||document.body)});tk.displayName="ContractCardDialog";var tT=s("11527"),tS=s("86278"),tw=s("14244");let tE=e=>{let{alignment:t,children:s,className:a,classNameIcon:n,has_error:r,icon:o,message:c}=e,[d,u]=(0,tS.X)(),h=F()(n,o);return(0,i.jsxs)("span",{className:F()(a,"dc-tooltip",{"dc-tooltip--error":r}),"data-tooltip":c||void 0,"data-tooltip-pos":t,children:["info"===o&&(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(tw.Z,{className:h,ref:d}),(0,i.jsx)(tw.Z,{className:F()(`${n}-balloon-icon`,"dc-tooltip__balloon-icon",{"dc-tooltip__balloon-icon--show":u})})]}),"question"===o&&(0,i.jsx)(e6.J,{icon:"IcUnknown",className:h}),"dot"===o&&(0,i.jsx)(e6.J,{icon:"IcCircle",className:h,size:4}),s]})},tI=e=>{let{decrementValue:t,id:s,incrementValue:a,max_is_disabled:n,min_is_disabled:r,is_incrementable_on_long_press:o,onLongPressEnd:c,type:d}=e,u=l.useRef(),h=l.useRef(),_=l.useRef(!1),m=e=>t=>{h.current=setTimeout(()=>{_.current=!0;let s=1;e(t,1),u.current=setInterval(()=>{e(t,++s)},50)},300)},x=()=>{clearInterval(u.current),clearTimeout(h.current),c&&_.current&&c(),_.current=!1},p=e=>o?{onContextMenu:e=>e.preventDefault(),onTouchStart:m(e),onTouchEnd:x,onMouseDown:m(e),onMouseUp:x}:{};return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(eD.Z,{id:`${s}_add`,className:F()("dc-input-wrapper__button dc-input-wrapper__button--increment",{"dc-input-wrapper__button--disabled":!!n}),disabled:!!n,onClick:a,tabIndex:-1,"aria-label":"Increment value",type:d,...p(a),children:(0,i.jsx)(e6.J,{icon:"IcAdd",className:"dc-input-wrapper__icon dc-input-wrapper__icon--plus",color:n?"disabled":void 0})}),(0,i.jsx)(eD.Z,{id:`${s}_sub`,className:F()("dc-input-wrapper__button dc-input-wrapper__button--decrement",{"dc-input-wrapper__button--disabled":!!r}),disabled:!!r,onClick:t,tabIndex:-1,"aria-label":"Decrement value",type:d,...p(t),children:(0,i.jsx)(e6.J,{icon:"IcMinus",className:"dc-input-wrapper__icon dc-input-wrapper__icon--minus",color:r?"disabled":void 0})})]})},tA=e=>{let{ariaLabel:t,changeValue:s,checked:a,className:n,classNameDynamicSuffix:r,classNameInlinePrefix:o,current_focus:c,data_testid:d,data_tip:u,data_value:h,display_value:_,fractional_digits:x,id:p,inline_prefix:j,inputmode:v,is_autocomplete_disabled:b,is_disabled:g,is_hj_whitelisted:f,is_incrementable:y,is_read_only:N,max_length:C,name:k,onBlur:T,onClick:S,onKeyPressed:w,placeholder:E,required:I,setCurrentFocus:A,type:R}=e,D=l.useRef(null);return l.useEffect(()=>{if(c===k){var e;null==D||null===(e=D.current)||void 0===e||e.focus()}},[c,k]),(0,i.jsxs)("div",{className:r,children:[j?(0,i.jsx)("div",{className:o,children:(0,i.jsx)(es.Z,{className:F()(o?`${o}--symbol`:"",{disabled:!!g}),size:"xs",children:"UST"===j?(0,m.O$T)(j):j})}):null,(0,i.jsx)("input",{autoComplete:b?"off":void 0,checked:a,className:F()(n),"data-for":`error_tooltip_${k}`,"data-hj-whitelist":f,"data-tip":u,"data-testid":d,"data-value":h,disabled:!!g,id:p,maxLength:x&&C?C+x+1:C,name:k,onBlur:e=>{null==A||A(null),null==T||T(e)},onChange:e=>{if(-1!==navigator.userAgent.indexOf("Safari")&&"checkbox"!==R){let t=e.target.selectionStart;s(e,e=>{e.target.selectionEnd=t})}else s(e)},onClick:S,onFocus:()=>null==A?void 0:A(k),onKeyDown:y?w:void 0,placeholder:E||void 0,readOnly:N,ref:D,required:I||void 0,inputMode:v,type:"number"===R?"text":R,value:_??"","aria-label":t,"data-lpignore":"password"!==R})]})},tR=e=>{let{ariaLabel:t,checked:s,className:a,classNameDynamicSuffix:n,classNameInlinePrefix:r,classNameInput:o,classNamePrefix:c,classNameWrapper:d,currency:u,current_focus:h,data_tip:_,data_value:x,decimal_point_change:p,error_messages:j,error_message_alignment:v,fractional_digits:b,helper:g,icon:f,id:y,inline_prefix:N,is_autocomplete_disabled:C,is_disabled:k,is_error_tooltip_hidden:T=!1,is_float:S,is_hj_whitelisted:w=!1,is_incrementable:E,is_incrementable_on_long_press:I,is_negative_disabled:A,is_read_only:R=!1,is_signed:D=!1,is_unit_at_right:O=!1,inputmode:L,increment_button_type:M,label:U,max_length:P,max_value:Z,min_value:z,name:B="",format:V,onBlur:$,onChange:X,onClick:G,onClickInputWrapper:H,placeholder:q,prefix:Y,required:W,setCurrentFocus:K,type:J="",unit:Q,value:ee,data_testid:et}=e,[ea,en]=l.useState(),ei=j&&!!j.length&&!T,el=Z&&(+ee>=+Z||Number(ea)>=+Z),er=z&&(+ee<=+z||Number(ea)<=+z),eo=!0,ec=e=>{let t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},ed=e=>{let t=e;return z&&(t=Math.max(t,z)),Z&&(t=Math.min(t,Z)),t},eu=(e,t)=>{let s;if(el)return;let a=ea||ee.toString(),n=a?ec(a):0,i=!!u&&(0,m.oS6)(u);if(t){let e=Math.min(t,Math.max(t,10))/10*+ee/100;s=parseFloat(ed(parseFloat(a||"0")+Math.abs(e)).toString()).toFixed(n)}else s=i||!u&&S?parseFloat((parseFloat(a||"0")+parseFloat((1*10**(0-(p||n))).toString())).toString()).toFixed(p||n):parseFloat(((+a||0)+1).toString()).toFixed(n);em(s,!!t)},eh=e=>{let t;let s=ea||(null==ee?void 0:ee.toString()),a=s?ec(s):0,n=!!u&&(0,m.oS6)(u);if(e){let n=Math.min(e,Math.max(e,10))/10*+ee/100;t=parseFloat(ed(parseFloat(s||"0")-Math.abs(n)).toString()).toFixed(a)}else t=n||!u&&S?parseFloat((parseFloat(s||"0")-parseFloat((1*10**(0-(p||a))).toString())).toString()).toFixed(p||a):parseFloat(((+s||0)-1).toString()).toFixed(a);return t},e_=(e,t)=>{if(er)return;let s=eh(t);if(!A||!(0>+s))em(s,!!t)},em=(e,t)=>{let s=V?V(e):e;t?en(s):(D&&/^\d+/.test(s)&&+s>0&&(s=`+${s}`),null==X||X({target:{value:s,name:B}}))},ex=ea||ee;Q&&(ex=O?`${ee} ${Q}`:`${Q} ${ee}`);let ep=E&&("number"===J||"tel"===J),ej=(0,i.jsx)(tA,{ariaLabel:t,changeValue:(e,t)=>{if(Q&&(e.target.value=e.target.value.replace(Q,"").trim()),e.target.value!==ee||"checkbox"===J){if("number"===J||"tel"===J){let t=!e.target.value||""===e.target.value||"  "===e.target.value,s=D?"^([+-.0-9])":"^";e.target.value=e.target.value.replace(",",".");let a=RegExp(`${s}(\\d*)?${S?"(\\.\\d+)?":""}$`).test(e.target.value),n=S&&RegExp(`${s}(\\.|\\d+\\.)?$`).test(e.target.value),i=RegExp(`${s}(\\d+)?\\.(\\d+)?[0]+$`).test(e.target.value),l=/e/.test(`${+e.target.value}`);if(P&&(b||0===b)&&(eo=RegExp(`${s}(\\d{0,${P}})(\\${b&&"."}\\d{0,${b}})?$`).test(e.target.value)),(a||t)&&eo)e.target.value=t||D||i||l||"tel"===J?e.target.value:+e.target.value;else if(!n){e.target.value=ee;return}}null==X||X(e),t&&t(e)}},checked:s,current_focus:h,className:F()(ep?"dc-input-wrapper__input":"",N?"input--has-inline-prefix":"","input",{"input--error":j&&!!j.length},o),classNameDynamicSuffix:n,classNameInlinePrefix:r,data_tip:_,data_testid:et,data_value:x,display_value:ex,fractional_digits:b,has_error:ei,id:y,inline_prefix:N,is_autocomplete_disabled:C,is_disabled:k,is_hj_whitelisted:w,is_incrementable:ep,is_read_only:R,max_length:P,name:B,onBlur:$,onClick:G,onKeyPressed:e=>{38===e.keyCode&&eu(),40===e.keyCode&&e_()},placeholder:q,required:W,setCurrentFocus:K,type:J,inputmode:L}),ev=(0,i.jsx)(tI,{id:y,max_is_disabled:el||!!k,incrementValue:eu,min_is_disabled:er||A&&0>+eh()||!!k,decrementValue:e_,onLongPressEnd:()=>{let e=V?V(ea):ea;null==X||X({target:{value:e||"",name:B}}),en("")},is_incrementable_on_long_press:I,type:M}),eb=(0,i.jsxs)(tE,{className:F()("trade-container__tooltip",{"dc-tooltip--with-label":U}),alignment:v||"left",message:ei?j[0]:null,has_error:ei,children:[!!U&&(0,i.jsx)("label",{htmlFor:B,className:"dc-input-field__label",children:U}),!!g&&(0,i.jsx)(es.Z,{size:"xxs",color:"less-prominent",weight:"lighter",children:g}),ep?(0,i.jsxs)("div",{className:F()("dc-input-wrapper",{"dc-input-wrapper--disabled":!!k},d),children:[ev,ej]}):ej]});return(0,i.jsxs)(l.Fragment,{children:[!!Y&&(0,i.jsx)("div",{className:c,children:(0,i.jsx)("span",{className:F()(`${c}--symbol`,"symbols"),children:(0,m.O$T)(u)})}),(0,i.jsxs)("div",{className:F()("dc-input-field",a),onClick:H,children:[f&&(0,i.jsx)(f,{onClick:G}),eb]})]})},tD=e=>{let{addToast:t,checkbox_tooltip_label:s,classNameBubble:a,classNameInlinePrefix:n,classNameInput:r,className:o,currency:c,current_focus:d,defaultChecked:u,error_message_alignment:h,error_messages:_,is_disabled:x,is_single_currency:p,is_negative_disabled:j,is_input_hidden:v,label:b,max_value:g,name:f,onChange:y,removeToast:N,setCurrentFocus:C,tooltip_alignment:k,tooltip_label:T,value:S}=e,w=l.useRef(null),E=l.useRef(null),[I,A]=l.useState(u),R=`has_${f}`;l.useEffect(()=>{A(u)},[u]),l.useEffect(()=>{if((0,m.tqC)()){let e=()=>{"function"==typeof N&&N(`${f}__error`)};if((null==_?void 0:_.length)!==void 0&&(null==_?void 0:_.length)>0)return"function"==typeof t&&t({key:`${f}__error`,content:String(_),type:"error"}),()=>{e()}}},[_,t,N,f]);let D=()=>{setTimeout(()=>{var e,t,s,a;let n=null===(s=E.current)||void 0===s?void 0:null===(t=s.nextSibling)||void 0===t?void 0:null===(e=t.querySelector)||void 0===e?void 0:e.call(t,"input.dc-input-wrapper__input");null==n||null===(a=n.focus)||void 0===a||a.call(n)})},O=(0,i.jsx)(tR,{className:o,classNameInlinePrefix:n,classNameInput:r,currency:c,current_focus:d||"",error_messages:_,error_message_alignment:h,is_error_tooltip_hidden:(0,m.tqC)(),is_disabled:!!x,fractional_digits:(0,m.i4S)(c),id:`dc_${f}_input`,inline_prefix:p?c:void 0,is_autocomplete_disabled:!0,is_float:(0,m.i4S)(c)>0,is_hj_whitelisted:!0,is_incrementable:!0,is_negative_disabled:j,max_length:10,max_value:g,name:f,onChange:y,onClickInputWrapper:x?void 0:()=>{!I&&(A(!0),null==y||y({target:{name:R,value:!0}}),D())},type:"number",ariaLabel:"",inputmode:"decimal",value:S,setCurrentFocus:C}),L=(0,i.jsx)(eg,{className:`${f}-checkbox__input`,ref:w,id:`dc_${f}-checkbox_input`,onChange:()=>{let e=!I;null==y||y({target:{name:R,value:e}}),e&&D()},name:R,label:b,classNameLabel:`${f}-checkbox__label`,defaultChecked:u,disabled:x});return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{ref:E,className:"dc-input-wrapper--inline",children:[s?(0,i.jsx)($.Z,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:s,relative_render:!0,children:L}):(0,i.jsx)(l.Fragment,{children:L}),T&&(0,i.jsx)($.Z,{alignment:k||"left",classNameBubble:a,icon:"info",id:`dc_${f}-checkbox__tooltip`,is_bubble_hover_enabled:!0,message:T,margin:(0,m.tqC)()||"right"===k?0:216,zIndex:"9999",...(0,m.nIE)()?{relative_render:"left"===k}:{}})]}),!v&&O]})},tO=e=>{let t,s,{addToast:a,contract:n,current_focus:r,error_message_alignment:o,getCardLabels:c,isMobile:d,is_turbos:u,is_accumulator:h,onMouseLeave:_,removeToast:x,setCurrentFocus:p,toggleDialog:j,totalProfit:v}=e;l.useEffect(()=>()=>n.clearContractUpdateConfigValues(),[n]);let{contract_info:b,contract_update_take_profit:g,has_contract_update_take_profit:f,contract_update_stop_loss:N,has_contract_update_stop_loss:C,updateLimitOrder:k,validation_errors:T}=n,[S,w]=l.useState({contract_update_take_profit:g,contract_update_stop_loss:N}),{buy_price:E,currency:I="",is_valid_to_cancel:A,is_sold:R}=b,{stop_loss:D,take_profit:O}=(0,m.gNN)(b.limit_order),{contract_update_stop_loss:L,contract_update_take_profit:M}=T,U={take_profit:f?M:void 0,stop_loss:C?L:void 0},P=Object.keys(U).some(e=>{var t;return null===(t=U[e])||void 0===t?void 0:t.length}),Z=(0,m.L8o)(b.contract_type||"");let z=f?+g>0:null!=(t=Z?D:O);let B=C?+N>0:null!=(s=O),V=Z?!A&&!!(z||B):!!z,$=e=>{let t=["has_contract_update_take_profit","has_contract_update_stop_loss",e.has_contract_update_take_profit&&"contract_update_take_profit",e.has_contract_update_stop_loss&&"contract_update_stop_loss"];return(0,m.eiS)(e,t)},X=e=>{var t;let{name:s,value:a}=e.target;w({...S,[s]:a}),null===(t=n.onChange)||void 0===t||t.call(n,{name:s,value:a})},G=(0,i.jsx)(tD,{addToast:a,removeToast:x,current_focus:r,classNameBubble:"dc-popover__trade-params",classNameInlinePrefix:"dc-contract-card-dialog__input--currency",currency:I,error_messages:U.take_profit,is_input_hidden:d&&!f,is_single_currency:!0,is_negative_disabled:!0,defaultChecked:f,label:c().TAKE_PROFIT,name:"contract_update_take_profit",onChange:X,error_message_alignment:o||"right",value:S.contract_update_take_profit,is_disabled:Z&&!!A,setCurrentFocus:p,tooltip_alignment:d?"left":"right",tooltip_label:(0,i.jsx)(y.Xx,{i18n_default_text:"When your profit reaches or exceeds this amount, your trade will be closed automatically."})}),H=(0,m.CeH)(b),q=(0,i.jsx)(tD,{addToast:a,removeToast:x,current_focus:r,classNameBubble:"dc-popover__trade-params",classNameInlinePrefix:"dc-contract-card-dialog__input--currency",currency:I,defaultChecked:C,error_messages:U.stop_loss,is_input_hidden:d&&!C,is_single_currency:!0,is_negative_disabled:!0,label:c().STOP_LOSS,max_value:Number(E)-H,name:"contract_update_stop_loss",onChange:X,error_message_alignment:o||"right",value:S.contract_update_stop_loss,is_disabled:!!A,setCurrentFocus:p,tooltip_alignment:d?"left":"right",tooltip_label:(0,i.jsx)(y.Xx,{i18n_default_text:"When your loss reaches or exceeds this amount, your trade will be closed automatically."})});return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(eW.Z,{children:(0,i.jsxs)("div",{className:"dc-contract-card-dialog__total-profit",children:[(0,i.jsx)(es.Z,{color:"less-prominent",size:"xs",weight:"bold",children:c().TOTAL_PROFIT_LOSS}),(0,i.jsxs)("div",{className:F()("dc-contract-card__profit-loss dc-contract-card-item__total-profit-loss-value",{"dc-contract-card__profit-loss--is-crypto":(0,m.oS6)(I),"dc-contract-card__profit-loss--negative":v<0,"dc-contract-card__profit-loss--positive":v>0}),children:[(0,i.jsx)(e3.Z,{amount:v,currency:I,show_currency:!0}),!R&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:v})]})]})}),(0,i.jsxs)("div",{className:F()("dc-contract-card-dialog__form",{"dc-contract-card-dialog__form--no-stop-loss":h||u}),children:[(0,i.jsx)("div",{className:"dc-contract-card-dialog__input",children:G}),Z&&(0,i.jsx)("div",{className:"dc-contract-card-dialog__input",children:q}),(0,i.jsx)("div",{className:"dc-contract-card-dialog__button",children:(0,i.jsx)(tT.z,{onClick:e=>{k(),j(e),null==_||_()},disabled:P||!V||(0,m.xb4)($((0,m.W9k)(b)),$(e.contract)),isFullWidth:!0,children:c().APPLY})})]})]})},tL=e=>{let{addToast:t,contract_id:s,getCardLabels:a,getContractById:n,is_valid_to_cancel:r,should_show_cancellation_warning:o,toggleCancellationWarning:c,...d}=e,[u,h]=l.useState(!1),[_,x]=l.useState(0),[p,j]=l.useState(0),v=l.useRef(null),b=l.useRef(null),g=n(Number(s));l.useEffect(()=>{if(u&&(null==v?void 0:v.current)&&(null==b?void 0:b.current)){let e=v.current.getBoundingClientRect(),t=b.current.getBoundingClientRect(),s=document.body.getBoundingClientRect(),{top:a}=e,{right:n}=e;a+(null==t?void 0:t.height)>s.height&&(a-=(null==t?void 0:t.height)-e.height),n+(null==t?void 0:t.width)>s.width?j(n-(null==t?void 0:t.width)-16):j(n-16),x(a)}},[u]);let f=e=>{e.preventDefault(),e.stopPropagation(),(0,m.tqC)()&&o&&r&&t({key:"deal_cancellation_active",content:a().TAKE_PROFIT_LOSS_NOT_AVAILABLE,type:"error"}),!r&&h(!u)},y=l.useCallback(f,[f]),N=(0,i.jsx)("div",{className:"dc-contract-card-dialog-toggle__icon",children:(0,i.jsx)(tN.Z,{height:12,width:12})});return(0,i.jsxs)("div",{onClick:e=>{e.stopPropagation()},children:[r&&o&&(0,m.nIE)()?(0,i.jsx)($.Z,{alignment:"right",classNameBubble:"dc-contract-card-dialog__popover-bubble",className:"dc-contract-card-dialog__popover",is_bubble_hover_enabled:!0,margin:2,zIndex:"2",message:a().TAKE_PROFIT_LOSS_NOT_AVAILABLE,onBubbleClose:()=>{null==c||c()},children:(0,i.jsx)("button",{ref:v,className:"dc-contract-card-dialog-toggle",onClick:y,children:N})}):(0,i.jsx)("button",{ref:v,className:"dc-contract-card-dialog-toggle",onClick:y,children:N}),(0,i.jsx)(eW.Z,{children:(0,i.jsx)(tC.Z,{portal_element_id:"modal_root",visible:u,onClose:y,wrapper_classname:"contract-update",children:(0,i.jsx)(ez.Z,{className:"contract-update__wrapper",height_offset:"40px",children:(0,i.jsx)(tO,{addToast:t,contract:g,getCardLabels:a,getContractById:n,isMobile:!0,toggleDialog:y,...d})})})}),(0,i.jsx)(to.Z,{children:(0,i.jsx)(tk,{ref:b,is_visible:u,left:p,top:_,toggle_ref:v,toggleDialog:y,children:(0,i.jsx)(tO,{addToast:t,contract:g,getCardLabels:a,getContractById:n,toggleDialog:y,...d})})})]})};tL.displayName="ToggleCardDialog";let tM=l.memo(tL),tF=l.memo(e=>{let t,s,{contract_info:a,contract_update:n,currency:r,getCardLabels:o,indicative:c,is_sold:d,is_positions:u,...h}=e,{buy_price:_,profit:x,limit_order:p,sell_price:j}=a,{take_profit:v}=(0,m.gNN)(n||p),b=(0,m.iBr)(a),{CONTRACT_VALUE:g,STAKE:f,TAKE_PROFIT:y,TOTAL_PROFIT_LOSS:N}=o();return x&&(t=+x>0,s=0>+x),(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,i.jsx)(ty,{header:f,className:"dc-contract-card__stake",children:(0,i.jsx)(e3.Z,{amount:_,currency:r})}),(0,i.jsxs)(ty,{header:g,className:"dc-contract-card__current-stake",children:[(0,i.jsx)("div",{className:F()({"dc-contract-card--profit":t,"dc-contract-card--loss":s}),children:(0,i.jsx)(e3.Z,{amount:j||c,currency:r})}),!d&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:j||c})]}),(0,i.jsxs)(ty,{header:N,is_crypto:(0,m.oS6)(r),is_loss:s,is_won:t,children:[(0,i.jsx)(e3.Z,{amount:x,currency:r}),!d&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:x})]}),(0,i.jsxs)(ty,{header:y,className:"dc-contract-card__take-profit",children:[v?(0,i.jsx)(e3.Z,{amount:v,currency:r}):(0,i.jsx)("strong",{children:"-"}),b&&(0,i.jsx)(tM,{contract_id:a.contract_id,getCardLabels:o,is_accumulator:!0,...h})]})]}),!!d&&(0,i.jsx)(eW.Z,{children:(0,i.jsx)("div",{className:F()("dc-contract-card__status",{"dc-contract-card__status--accumulator-mobile-positions":u}),children:(0,i.jsx)(tf,{getCardLabels:o,is_contract_won:t})})})]})}),tU=l.memo(e=>{var t,s;let a,{contract_info:n,currency:r,is_sold:o,indicative:c,progress_slider_mobile_el:d}=e,{buy_price:u,contract_type:h,sell_price:_,profit:x,multiplier:p}=n,{INDICATIVE_PRICE:j,MULTIPLIER:v,PROFIT_LOSS:b,POTENTIAL_PROFIT_LOSS:g,PAYOUT:f,PURCHASE_PRICE:N}=(0,m.gk9)();return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper dc-contract-card--lookbacks",children:[(0,i.jsxs)(ty,{header:o?b:g,is_crypto:(0,m.oS6)(r),is_loss:0>Number(x),is_won:Number(x)>0,children:[(0,i.jsx)(e3.Z,{amount:x,currency:r}),!o&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:x})]}),(0,i.jsxs)(ty,{header:o?f:j,children:[(0,i.jsx)(e3.Z,{currency:r,amount:Number(_||c)}),!o&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:Number(_||c)})]}),(0,i.jsx)(ty,{header:N,children:(0,i.jsx)(e3.Z,{amount:u,currency:r})}),(0,i.jsx)(ty,{header:v,children:`x${p}`}),(0,i.jsx)(eW.Z,{children:(0,i.jsx)("div",{className:"dc-contract-card__status",children:o?(0,i.jsx)(tf,{getCardLabels:m.gk9,is_contract_won:"won"===(0,m.efd)(n)}):d})})]}),(0,i.jsx)(ty,{className:"dc-contract-card-item__payout-limit",children:(0,i.jsx)(es.Z,{align:"center",lineHeightt:"l",size:"xxs",children:(t=h,s=p,a="",t===m.FTx.LB_PUT?a=(0,i.jsx)(y.Xx,{i18n_default_text:"(High - Close)"}):t===m.FTx.LB_CALL?a=(0,i.jsx)(y.Xx,{i18n_default_text:"(Close - Low)"}):t===m.FTx.LB_HIGH_LOW&&(a=(0,i.jsx)(y.Xx,{i18n_default_text:"(High - Low)"})),(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(y.Xx,{i18n_default_text:"Payout limit: {{multiplier}} x ",values:{multiplier:s}}),a]}))})})]})}),tP=e=>{let{contract_info:t,contract_update:s,currency:a,getCardLabels:n,has_progress_slider:r,progress_slider:o,is_mobile:c,is_sold:d,should_show_cancellation_warning:u,toggleCancellationWarning:h,..._}=e,{buy_price:x,bid_price:p,limit_order:j}=t,{take_profit:v,stop_loss:b}=(0,m.gNN)(s||j),g=(0,m.CeH)(t),f=(0,m.Dlf)(t),y=(0,m.iBr)(t),N=(0,m.vMw)(t),{CONTRACT_COST:C,CONTRACT_VALUE:k,DEAL_CANCEL_FEE:T,STAKE:S,STOP_LOSS:w,TAKE_PROFIT:E,TOTAL_PROFIT_LOSS:I}=n();return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:F()({"dc-contract-card-items-wrapper--mobile":c,"dc-contract-card-items-wrapper":!c,"dc-contract-card-items-wrapper--has-progress-slider":r&&!d}),children:[(0,i.jsx)(ty,{header:C,className:"dc-contract-card__stake",children:(0,i.jsx)(e3.Z,{amount:x-g,currency:a})}),(0,i.jsxs)(ty,{header:k,className:"dc-contract-card__current-stake",children:[(0,i.jsx)("div",{className:F()({"dc-contract-card--profit":N>0,"dc-contract-card--loss":N<0}),children:(0,i.jsx)(e3.Z,{amount:p,currency:a})}),!d&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:N})]}),(0,i.jsx)(ty,{header:T,className:F()("dc-contract-card__deal-cancel-fee",{"dc-contract-card__deal-cancel-fee__disabled":!g}),children:g?(0,i.jsx)(e3.Z,{amount:g,currency:a}):(0,i.jsx)(l.Fragment,{children:"-"})}),(0,i.jsx)(ty,{header:S,className:"dc-contract-card__buy-price",children:(0,i.jsx)(e3.Z,{amount:x,currency:a})}),r&&c&&!d&&(0,i.jsx)(ty,{className:"dc-contract-card__date-expiry",children:o}),(0,i.jsxs)("div",{className:"dc-contract-card__limit-order-info",children:[(0,i.jsx)(ty,{header:E,className:"dc-contract-card__take-profit",children:v?(0,i.jsx)(e3.Z,{amount:v,currency:a}):(0,i.jsx)("strong",{children:"-"})}),(0,i.jsx)(ty,{header:w,className:"dc-contract-card__stop-loss",children:b?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("strong",{children:"-"}),(0,i.jsx)(e3.Z,{amount:b,currency:a})]}):(0,i.jsx)("strong",{children:"-"})}),(y||f)&&(0,i.jsx)(tM,{contract_id:t.contract_id,getCardLabels:n,is_valid_to_cancel:f,should_show_cancellation_warning:u,toggleCancellationWarning:h,..._})]})]}),(0,i.jsxs)(ty,{className:"dc-contract-card-item__total-profit-loss",header:I,is_crypto:(0,m.oS6)(a),is_loss:N<0,is_won:N>0,children:[(0,i.jsx)(e3.Z,{amount:Math.abs(N),currency:a}),!d&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:N})]})]})};tP.propTypes={addToast:eZ().func,contract_info:eZ().object,contract_update:eZ().object,currency:eZ().string,current_focus:eZ().string,error_message_alignment:eZ().string,getCardLabels:eZ().func,getContractById:eZ().func,is_mobile:eZ().bool,is_sold:eZ().bool,onMouseLeave:eZ().func,progress_slider:eZ().node,removeToast:eZ().func,setCurrentFocus:eZ().func,should_show_cancellation_warning:eZ().bool,toggleCancellationWarning:eZ().func,totalProfit:eZ().number.isRequired,has_progress_slider:eZ().bool};let tZ=l.memo(tP),tz=l.memo(e=>{let{contract_info:t,contract_update:s,currency:a,getCardLabels:n,is_sold:r,progress_slider_mobile_el:o,...c}=e,{bid_price:d,buy_price:u,profit:h,barrier:_,entry_spot_display_value:x,limit_order:p={},sell_price:j}=t,{take_profit:v}=(0,m.gNN)(s||p),b=(0,m.iBr)(t),g=r?j:d,{BARRIER:f,CONTRACT_VALUE:y,ENTRY_SPOT:N,TAKE_PROFIT:C,TOTAL_PROFIT_LOSS:k,STAKE:T}=n();return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:F()("dc-contract-card-items-wrapper dc-contract-card--turbos"),children:[(0,i.jsx)(ty,{className:"dc-contract-card__buy-price",is_crypto:(0,m.oS6)(a),header:T,children:(0,i.jsx)(e3.Z,{amount:u,currency:a})}),(0,i.jsxs)(ty,{header:y,className:"dc-contract-card__contract-value",children:[(0,i.jsx)("div",{className:F()({"dc-contract-card--profit":Number(h)>0,"dc-contract-card--loss":0>Number(h)}),children:(0,i.jsx)(e3.Z,{amount:g,currency:a})}),!r&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:j||g})]}),(0,i.jsx)(ty,{header:N,is_crypto:(0,m.oS6)(a),className:"dc-contract-card__entry-spot",children:(0,m.oC5)(x)}),(0,i.jsx)("div",{className:"dc-contract-card__limit-order-info",children:(0,i.jsxs)(ty,{header:C,className:"dc-contract-card__take-profit",children:[v?(0,i.jsx)(e3.Z,{amount:v,currency:a}):(0,i.jsx)("strong",{children:"-"}),b&&(0,i.jsx)(tM,{contract_id:t.contract_id,getCardLabels:n,is_turbos:!0,...c})]})}),(0,i.jsx)(ty,{header:f,className:"dc-contract-card__barrier-level",children:(0,m.oC5)(_)}),(0,i.jsx)(eW.Z,{children:(0,i.jsx)("div",{className:"dc-contract-card__status",children:r?(0,i.jsx)(tf,{getCardLabels:n,is_contract_won:!!h&&h>0}):o})})]}),(0,i.jsxs)(ty,{className:"dc-contract-card-item__total-profit-loss",header:k,is_crypto:(0,m.oS6)(a),is_loss:0>Number(h),is_won:Number(h)>0,children:[(0,i.jsx)(e3.Z,{amount:h,currency:a}),!r&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:h})]})]})}),tB=l.memo(e=>{let{contract_info:t,currency:s,getCardLabels:a,is_sold:n,progress_slider:r}=e,{buy_price:o,bid_price:c,entry_spot_display_value:d,barrier:u,sell_price:h,profit:_}=t,x=n?h:c,{CONTRACT_VALUE:p,ENTRY_SPOT:j,STAKE:v,STRIKE:b,TOTAL_PROFIT_LOSS:g}=a();return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)(to.Z,{children:[(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,i.jsx)(ty,{header:v,children:(0,i.jsx)(e3.Z,{amount:o,currency:s})}),(0,i.jsxs)(ty,{className:"dc-contract-card-item__contract-value",header:p,children:[(0,i.jsx)("div",{className:F()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":0>Number(_)}),children:(0,i.jsx)(e3.Z,{amount:x,currency:s})}),!n&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:h||x})]}),(0,i.jsx)(ty,{header:j,children:d&&(0,m.oC5)(d)}),(0,i.jsx)(ty,{header:b,children:u&&(0,m.oC5)(u)})]}),(0,i.jsxs)(ty,{className:"dc-contract-card-item__total-profit-loss",header:g,is_crypto:(0,m.oS6)(s),is_loss:0>Number(_),is_won:Number(_)>0,children:[(0,i.jsx)(e3.Z,{amount:_,currency:s}),!n&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:_})]})]}),(0,i.jsx)(eW.Z,{children:(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper--mobile",children:[(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper-group",children:[(0,i.jsx)(ty,{header:v,children:(0,i.jsx)(e3.Z,{amount:o,currency:s})}),(0,i.jsx)(ty,{header:j,children:d&&(0,m.oC5)(d)})]}),(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper-group",children:[(0,i.jsxs)(ty,{header:p,children:[(0,i.jsx)("div",{className:F()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":0>Number(_)}),children:(0,i.jsx)(e3.Z,{amount:x,currency:s})}),!n&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:h||x})]}),(0,i.jsx)(ty,{header:b,children:u&&(0,m.oC5)(u)})]}),n?(0,i.jsx)(tf,{getCardLabels:a,is_contract_won:"won"===(0,m.efd)(t)}):r,(0,i.jsxs)(ty,{className:"dc-contract-card-item__total-profit-loss",header:g,is_crypto:(0,m.oS6)(s),is_loss:0>Number(_),is_won:Number(_)>0,children:[(0,i.jsx)(e3.Z,{amount:_,currency:s}),!n&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:_})]})]})})]})}),tV=e=>{let{contract_info:t,getCardLabels:s,is_sell_requested:a,onClickSell:n}=e,r=(0,m.iBr)(t),o=((0,m._mr)(t)||(0,m.s0r)((null==t?void 0:t.shortcode)??"",t.purchase_time))&&(0,m.FJ7)(t);return o?(0,i.jsx)(l.Fragment,{children:r?(0,i.jsx)(tT.z,{className:F()("dc-btn--sell",{"dc-btn--loading":a}),"data-testid":"dt_contract_card_sell",disabled:a,onClick:e=>{null==n||n(t.contract_id),e.stopPropagation(),e.preventDefault()},variant:"outlined",children:s().SELL}):(0,i.jsx)("div",{className:"dc-contract-card__no-resale-msg",children:s().RESALE_NOT_OFFERED})}):null},t$=e=>{let{className:t,contract_info:s,getCardLabels:a,is_sell_requested:n,onClickCancel:r,onClickSell:o,server_time:c}=e,{contract_id:d,cancellation:{date_expiry:u}={},profit:h}=s,_=(0,m.Dlf)(s);return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(tT.z,{id:`dc_contract_card_${d}_button`,className:F()(t,{"dc-btn--loading":n}),disabled:n||0>Number(h)&&_,onClick:e=>{o(d),e.stopPropagation(),e.preventDefault()},variant:"outlined",children:a().CLOSE}),_&&(0,i.jsxs)(tT.z,{id:`dc_contract_card_${d}_cancel_button`,className:"dc-btn--cancel",disabled:Number(h)>=0,onClick:e=>{r(d),e.stopPropagation(),e.preventDefault()},variant:"outlined",children:[a().CANCEL,u&&(0,i.jsx)(tx,{end_time:u,format:"mm:ss",getCardLabels:a,start_time:c})]})]})},tX=e=>{let{current_tick:t,getCardLabels:s,ticks_count:a}=e,n=Array.from(Array(a).keys());return(0,i.jsxs)("div",{className:"dc-progress-slider__ticks",children:[(0,i.jsxs)(es.Z,{styles:{lineHeight:"18px"},size:"xxs",className:"dc-progress-slider__ticks-caption",children:[s().TICK," ",t]}),(0,i.jsx)("div",{className:"dc-progress-slider__ticks-wrapper",children:n.map(e=>(0,i.jsx)("div",{className:F()("dc-progress-slider__ticks-step",{"dc-progress-slider__ticks-step--marked":e+1<=Number(t)})},e))})]})},tG=e=>{let{className:t,current_tick:s,expiry_time:a,getCardLabels:n,is_loading:r,server_time:o,start_time:c,ticks_count:d}=e,u=(0,m.dq6)(o,Number(c),Number(a));return(0,i.jsx)("div",{className:F()("dc-progress-slider",t),children:d?(0,i.jsx)(tX,{current_tick:s,getCardLabels:n,ticks_count:d}):(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(es.Z,{size:"xxxs",className:"dc-progress-slider__remaining-time",children:(0,i.jsx)(tx,{end_time:a,getCardLabels:n,start_time:o})}),r||u<1?(0,i.jsx)("div",{className:"dc-progress-slider__infinite-loader",children:(0,i.jsx)("div",{className:"dc-progress-slider__infinite-loader--indeterminate"})}):(0,i.jsx)("div",{className:"dc-progress-slider__track",children:(0,i.jsx)("div",{className:F()("dc-progress-slider__line",{"dc-progress-slider__line--green":u>=50,"dc-progress-slider__line--yellow":u<50&&u>=20,"dc-progress-slider__line--red":u<20}),style:{width:`${u}%`}})})]})})},tH=e=>{let{displayed_trade_param:t,getContractTypeDisplay:s,is_high_low:a,is_multipliers:n,is_turbos:l,type:r=""}=e,o="";return a&&(o="CALL"===r?"HIGHER":"LOWER"),(0,i.jsxs)("div",{className:"dc-contract-type",children:[(0,i.jsx)("div",{className:"dc-contract-type__type-wrapper",children:(0,i.jsx)(G,{type:a&&!(0,m.Yeo)(r)?o:r,className:"category-type",size:"md"})}),(0,i.jsxs)("div",{className:F()("dc-contract-type__type-label",{"dc-contract-type__type-label--smarttrader-contract":(0,m.xGd)(r),"dc-contract-type__type-label--lookbacks-contract":(0,m.vxy)(r),"dc-contract-type__type-label--multipliers":n}),children:[(0,i.jsx)("div",{children:s(r,{isHighLow:a,showMainTitle:n||l})||""}),t&&(0,i.jsx)("div",{className:"dc-contract-type__type-label-trade-param",children:t})]})]})},tq=l.memo(e=>{let{current_tick:t,label:s,max_ticks_duration:a}=e;return(0,i.jsx)("div",{className:"dc-tick-counter-bar__container",children:(0,i.jsx)("div",{className:"dc-tick-counter-bar__track",children:(0,i.jsx)(es.Z,{size:"xxs",weight:"bold",align:"center",color:"profit-success",className:"dc-tick-counter-bar__text",children:`${t}/${a} ${s}`})})})}),tY=e=>{let{currency:t,contract_id:s,getCardLabels:a,getContractPath:n,is_positions:r,is_visible:o,onClickRemove:c,payout_info:d,result:u}=e,h="won"===u;return(0,i.jsx)(l.Fragment,{children:(0,i.jsx)(eE.Z,{in:o,timeout:250,classNames:{enter:"dc-contract-card__result--enter",enterDone:"dc-contract-card__result--enter-done",exit:"dc-contract-card__result--exit"},unmountOnExit:!0,children:(0,i.jsxs)("div",{id:`dc_contract_card_${s}_result`,className:F()("dc-contract-card__result",{"dc-result__positions-overlay":r,"dc-contract-card__result--won":h,"dc-contract-card__result--lost":!h}),children:[r&&(0,i.jsx)("span",{id:`dc_contract_card_${s}_result_close_icon`,className:"dc-result__close-btn",onClick:()=>{s&&(null==c||c(s))}}),n&&(0,i.jsx)(ec.OL,{className:"dc-result__caption-wrapper",to:n(s)}),(0,i.jsxs)("div",{className:"dc-result__content",children:[(0,i.jsx)(tf,{getCardLabels:a,is_contract_won:h}),(0,i.jsx)(es.Z,{weight:"bold",size:"s",lineHeight:"2xl",color:h?"profit-success":"loss-danger",children:(0,i.jsx)(e3.Z,{amount:d,currency:t,has_sign:!0,show_currency:!0})})]})]})})})},tW=e=>{let{children:t,contract_info:s,getCardLabels:a,getContractPath:n,is_multiplier:r,is_positions:o,onClickRemove:c,profit_loss:d,result:u,should_show_result_overlay:h}=e,_=r?(0,tr.vM)(s):d;return(0,i.jsxs)(l.Fragment,{children:[h&&(0,i.jsx)(to.Z,{children:(0,i.jsx)(tY,{contract_id:s.contract_id,currency:s.currency,getCardLabels:a,getContractPath:n,is_multiplier:r,is_visible:!!s.is_sold,onClickRemove:c,payout_info:_,result:u||(d>=0?"won":"lost"),is_positions:o})}),t]})};tW.Header=e=>{var t;let{contract_info:s,display_name:a,getCardLabels:n,getContractTypeDisplay:r,has_progress_slider:o,id:c,is_sell_requested:d,is_sold:u,is_valid_to_sell:h,onClickSell:_,server_time:x}=e,p=s.tick_count?(0,m.v3q)(s):null,{growth_rate:j,underlying:v,multiplier:b,contract_type:g,shortcode:f,purchase_time:y,date_expiry:C,tick_count:k,tick_passed:T}=s,S=!!s.is_sold||u,w=(0,m.XtD)(g),E=(0,m.xGd)(g),{isMobile:I}=(0,N.F)(),A=(0,m.MOe)(g),R=(0,m.L8o)(g),D=(0,m.CY$)({shortcode:f}),O=(null===(t=l.useMemo(()=>[{is_param_displayed:R,displayed_param:`${r(g??"",{isHighLow:D})} x${b}`.trim()},{is_param_displayed:w,displayed_param:`${(0,m.dR9)(j||0)}%`},{is_param_displayed:A,displayed_param:(0,m.Lp7)(g)}],[g,j,b,w,R,A,D]).find(e=>e.is_param_displayed))||void 0===t?void 0:t.displayed_param)||"";return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:F()("dc-contract-card__grid","dc-contract-card__grid-underlying-trade",{"dc-contract-card__grid-underlying-trade--trader":false,"dc-contract-card__grid-underlying-trade--trader--accumulator":false,"dc-contract-card__grid-underlying-trade--trader--sold":(w||A||R)&&S}),children:[(0,i.jsxs)("div",{id:"dc-contract_card_underlying_label",className:F()("dc-contract-card__underlying-name",{"dc-contract-card__underlying-name--accumulator":w}),children:[(0,i.jsx)(V,{type:v??"",size:"md"}),(0,i.jsx)(es.Z,{size:"xxs",className:F()("dc-contract-card__symbol",{"dc-contract-card__symbol--smarttrader-contract":E}),weight:"bold",children:a||s.display_name})]}),(0,i.jsx)("div",{id:"dc-contract_card_type_label",className:F()("dc-contract-card__type",{"dc-contract-card__type--accumulators":w}),children:(0,i.jsx)(tH,{displayed_trade_param:O,getContractTypeDisplay:r,is_high_low:D,is_multipliers:R,is_turbos:A,type:g})}),(0,i.jsx)(eW.Z,{children:h?(0,i.jsx)(eE.Z,{in:!!h,timeout:250,classNames:{enter:"dc-contract-card__sell-button--enter",enterDone:"dc-contract-card__sell-button--enter-done",exit:"dc-contract-card__sell-button--exit"},unmountOnExit:!0,children:(0,i.jsx)("div",{className:"dc-contract-card__sell-button-mobile",children:(0,i.jsx)(tT.z,{id:`dc_contract_card_${c}_button`,className:F()("dc-btn--sell",{"dc-btn--loading":d}),disabled:!h||d,onClick:()=>_(c),variant:"outlined",children:n().SELL})})}):null})]}),!S&&w&&(0,i.jsx)(tq,{current_tick:T,max_ticks_duration:k,label:n().TICKS}),(0,i.jsx)(eW.Z,{children:(0,i.jsx)("div",{className:"dc-progress-slider--completed"})}),(0,i.jsxs)(to.Z,{children:[(!o||!!S)&&(0,i.jsx)("div",{className:"dc-progress-slider--completed"}),o&&!S&&!w&&(0,i.jsx)(tG,{current_tick:p,expiry_time:C,getCardLabels:n,is_loading:!1,server_time:x,start_time:y,ticks_count:k})]})]})},tW.Body=e=>{let t,{addToast:s,contract_info:a,contract_update:n,currency:r,current_focus:o,error_message_alignment:c,getCardLabels:d,getContractById:u,has_progress_slider:h,is_accumulator:_,is_mobile:x,is_multiplier:p,is_positions:j,is_sold:v,is_turbos:b,is_vanilla:g,is_lookbacks:f,onMouseLeave:y,removeToast:N,server_time:C,setCurrentFocus:k,should_show_cancellation_warning:T,toggleCancellationWarning:S}=e,w=(0,m.Kq_)(a),{buy_price:E,sell_price:I,payout:A,profit:R,tick_count:D,date_expiry:O,purchase_time:L}=a,M=D?(0,m.v3q)(a):null,{CONTRACT_VALUE:U,POTENTIAL_PAYOUT:P,TOTAL_PROFIT_LOSS:Z,STAKE:z}=d(),B=(0,i.jsx)(tb,{current_tick:M,expiry_time:O,getCardLabels:d,is_loading:!1,server_time:C,start_time:L,ticks_count:D}),V={addToast:s,current_focus:o,error_message_alignment:c,getContractById:u,onMouseLeave:y,removeToast:N,setCurrentFocus:k,totalProfit:p&&!isNaN(Number(R))?(0,m.vMw)(a):Number(R)};return t=p?(0,i.jsx)(tZ,{contract_info:a,contract_update:n,currency:r,getCardLabels:d,has_progress_slider:h,progress_slider:B,is_mobile:x,is_sold:v,should_show_cancellation_warning:T,toggleCancellationWarning:S,...V}):_?(0,i.jsx)(tF,{contract_info:a,contract_update:n,currency:r,getCardLabels:d,indicative:w,is_sold:v,is_positions:j,...V}):b?(0,i.jsx)(tz,{contract_info:a,contract_update:n,currency:r,getCardLabels:d,is_sold:v,progress_slider_mobile_el:B,...V}):g?(0,i.jsx)(tB,{contract_info:a,currency:r,getCardLabels:d,is_sold:v,progress_slider:B}):f?(0,i.jsx)(tU,{contract_info:a,currency:r,is_sold:v,indicative:w,progress_slider_mobile_el:B}):(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,i.jsxs)(ty,{header:Z,is_crypto:(0,m.oS6)(r),is_loss:0>Number(R),is_won:Number(R)>0,children:[(0,i.jsx)(e3.Z,{amount:R,currency:r}),!v&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:R})]}),(0,i.jsxs)(ty,{header:U,children:[(0,i.jsx)("div",{className:F()({"dc-contract-card--profit":Number(R)>0,"dc-contract-card--loss":0>Number(R)}),children:(0,i.jsx)(e3.Z,{currency:r,amount:Number(I||w)})}),!v&&(0,i.jsx)(tu,{className:"dc-contract-card__indicative--movement",value:Number(I||w)})]}),(0,i.jsx)(ty,{header:z,children:(0,i.jsx)(e3.Z,{amount:E,currency:r})}),(0,i.jsx)(ty,{header:P,children:(0,i.jsx)(e3.Z,{currency:r,amount:A})})]}),(0,i.jsx)(eW.Z,{children:(0,i.jsx)("div",{className:"dc-contract-card__status",children:v?(0,i.jsx)(tf,{getCardLabels:d,is_contract_won:"won"===(0,m.efd)(a)}):B})})]}),(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(th,{currency:r}),(0,i.jsx)(to.Z,{children:t}),(0,i.jsx)(eW.Z,{children:(0,i.jsx)("div",{className:F()("dc-contract-card__separatorclass",{"dc-contract-card__body-wrapper":!p&&!b&&!f}),children:t})})]})},tW.Footer=e=>{let{contract_info:t,getCardLabels:s,is_multiplier:a,is_positions:n,is_sell_requested:r,is_lookbacks:o,onClickCancel:c,onClickSell:d,onFooterEntered:u,server_time:h,should_show_transition:_}=e,{in_prop:x}=(0,m.hwq)(!!_),p=(0,m.Dlf)(t),j=(0,m._mr)(t)&&(0,m.FJ7)(t),v=o&&(0,m.iBr)(t)&&j;return j?(0,i.jsx)(eE.Z,{in:x,timeout:_?250:0,classNames:_?{enter:"dc-contract-card__sell-button--enter",enterDone:"dc-contract-card__sell-button--enter-done",exit:"dc-contract-card__sell-button--exit"}:{},onEntered:u,unmountOnExit:!0,children:(0,i.jsx)("div",{className:"dc-contract-card-item__footer",children:a?(0,i.jsx)("div",{className:F()("dc-contract-card__sell-button",{"dc-contract-card__sell-button--has-cancel-btn":p,"dc-contract-card__sell-button--positions":n}),children:(0,i.jsx)(t$,{className:"dc-btn--sell",contract_info:t,getCardLabels:s,is_sell_requested:r,onClickCancel:c,onClickSell:d,server_time:h})}):(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:F()("dc-contract-card__sell-button",{"dc-contract-card__sell-button--positions":n}),children:(0,i.jsx)(tV,{contract_info:t,is_sell_requested:r,getCardLabels:s,onClickSell:d})}),v&&(0,i.jsx)(es.Z,{as:"div",size:"xxxs",color:"less-prominent",lineHeight:"s",className:"lookbacks--note",children:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Note:</0> Contract will be sold at the prevailing market price when the request is received by our servers. This price may differ from the indicated price.",components:[(0,i.jsx)("strong",{},0)]})})]})})}):null},tW.Loader=tl,tW.ContractTypeCell=tH,tW.MultiplierCloseActions=t$,tW.Sell=tV;let tK=(0,r.Pi)(e=>{let{contract_info:t,is_contract_loading:s,is_bot_running:a}=e,{summary_card:n,run_panel:r,ui:o,common:c}=(0,j.oR)(),{is_contract_completed:d,is_contract_inactive:u,is_multiplier:h,is_accumulator:_,setIsBotRunning:x}=n,{onClickSell:p,is_sell_requested:v,contract_stage:b}=r,{addToast:g,current_focus:f,removeToast:C,setCurrentFocus:k}=o,{server_time:T}=c,{isDesktop:S}=(0,N.F)();l.useEffect(()=>x(),[s]);let w=(0,i.jsx)(tW.Header,{contract_info:t,getCardLabels:m.gk9,getContractTypeDisplay:ts.h8,has_progress_slider:!h,is_sold:d,server_time:T}),E=(0,i.jsx)(tW.Body,{addToast:g,contract_info:t,currency:(null==t?void 0:t.currency)??"",current_focus:f,error_message_alignment:"left",getCardLabels:m.gk9,getContractById:()=>n,is_mobile:!S,is_multiplier:h,is_accumulator:_,is_sold:d,removeToast:C,server_time:T,setCurrentFocus:k}),I=(0,i.jsx)(tW.Footer,{contract_info:t,getCardLabels:m.gk9,is_multiplier:h,is_sell_requested:v,onClickSell:p}),A=(0,i.jsxs)(l.Fragment,{children:[w,E,I]});return(0,i.jsxs)("div",{className:F()("db-summary-card",{"db-summary-card--mobile":!S,"db-summary-card--inactive":u&&!s&&!t,"db-summary-card--completed":d,"db-summary-card--completed-mobile":d&&!S,"db-summary-card--delayed-loading":a}),"data-testid":"dt_mock_summary_card",children:[s&&!a&&(0,i.jsx)(tl,{speed:2}),a&&(0,i.jsx)(tl,{speed:2,contract_stage:b}),!s&&t&&!a&&(0,i.jsx)(tW,{contract_info:t,getCardLabels:m.gk9,is_multiplier:h,profit_loss:t.profit,should_show_result_overlay:!0,children:(0,i.jsx)("div",{className:F()("dc-contract-card",{"dc-contract-card--green":t.profit>0,"dc-contract-card--red":t.profit<0}),children:A})}),!s&&!t&&!a&&(0,i.jsxs)(es.Z,{as:"p",align:"center",lineHeight:"s",size:"xs",children:[(0,y.NC)("When you’re ready to trade, hit "),(0,i.jsx)("strong",{className:"summary-panel-inactive__strong",children:(0,y.NC)("Run")}),(0,y.NC)(". You’ll be able to track your bot’s performance here.")]})]})}),tJ=(0,r.Pi)(e=>{let{is_drawer_open:t}=e,{dashboard:s,summary_card:a}=(0,j.oR)(),{is_contract_loading:n,contract_info:l,is_bot_running:r}=a,{active_tour:o}=s,{isDesktop:c}=(0,N.F)();return(0,i.jsx)("div",{className:F()({"run-panel-tab__content":c,"run-panel-tab__content--mobile":!c&&t,"run-panel-tab__content--summary-tab":c&&t||o}),"data-testid":"mock-summary",children:(0,i.jsx)(er.Z,{className:F()({summary:!n&&!l||r,"summary--loading":!c&&n||!c&&!n&&l}),children:(0,i.jsx)(tK,{is_contract_loading:n,contract_info:l,is_bot_running:r})})})});var tQ=s("71766"),t0=s("54176");let t1=e=>{let{profit:t}=e,s=t>=0;return(0,i.jsx)("div",{className:F()("db-contract-card__result",{"db-contract-card__result--won":s,"db-contract-card__result--lost":!s}),children:(0,i.jsx)(es.Z,{weight:"bold",className:"db-contract-card__result-caption",children:s?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(y.Xx,{i18n_default_text:"Won"}),(0,i.jsx)(tQ.Z,{className:"db-contract-card__result-icon",color:"green"})]}):(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(y.Xx,{i18n_default_text:"Lost"}),(0,i.jsx)(t0.Z,{className:"db-contract-card__result-icon",color:"red"})]})})})};var t2=s("16854"),t5=s("67109"),t8=s("89057");let t3=e=>{let{className:t}=e;return(0,i.jsxs)("div",{className:F()("circular-wrapper",t),children:[(0,i.jsx)("span",{className:"static-circle"}),(0,i.jsx)("span",{className:"dynamic-circle"})]})},t4=Object.freeze({NOT_RUNNING:"Bot is not running",STARTING:"Bot is starting",RUNNING:"Bot running",PURCHASE_SENT:"Buying contract",PURCHASE_RECEIVED:"Contract bought",IS_STOPPING:"Bot is stopping",CONTRACT_CLOSED:"Contract closed"}),t7=e=>{let{contract_stage:t}=e;switch(t){case ea.K.STARTING:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.STARTING});case ea.K.RUNNING:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.RUNNING});case ea.K.PURCHASE_SENT:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.PURCHASE_SENT});case ea.K.PURCHASE_RECEIVED:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.PURCHASE_RECEIVED});case ea.K.IS_STOPPING:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.IS_STOPPING});case ea.K.CONTRACT_CLOSED:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.CONTRACT_CLOSED});case ea.K.NOT_RUNNING:default:return(0,i.jsx)(y.Xx,{i18n_default_text:t4.NOT_RUNNING})}},t6=(0,r.Pi)(e=>{let{className:t,should_show_overlay:s}=e,{dashboard:a,run_panel:n,summary_card:r}=(0,j.oR)(),{client:o}=(0,j.oR)(),{active_tab:c}=a,{is_contract_completed:d,profit:u}=r,{contract_stage:h,is_stop_button_visible:_,is_stop_button_disabled:m,onRunButtonClick:x,onStopBotClick:p,performSelfExclusionCheck:v}=n,{account_status:b}=o,g=null==b?void 0:b.cashier_validation,[f,N]=l.useState(!1),C=null==g?void 0:g.includes("WithdrawServiceUnavailableForPA");l.useEffect(()=>{v()},[]),l.useEffect(()=>{f&&setTimeout(()=>{N(!1)},1e3)},[f]);let k=["","",""],T=h===ea.K.PURCHASE_SENT,S=h===ea.K.PURCHASE_RECEIVED,w=h-(T||S?2:3);if(w>=0){w<k.length&&(k[w]="active"),d&&(w+=1);for(let e=0;e<w-1;e++)k[e]="completed"}let E=m||f,I=l.useMemo(()=>_?{id:"db-animation__stop-button",class:"animation__stop-button",text:(0,i.jsx)(y.Xx,{i18n_default_text:"Stop"}),icon:(0,i.jsx)(t2.Z,{fill:"#fff"})}:{id:"db-animation__run-button",class:"animation__run-button",text:(0,i.jsx)(y.Xx,{i18n_default_text:"Run"}),icon:(0,i.jsx)(t5.Z,{fill:"#fff"})},[_]),A=s&&d,R=["dashboard","bot_builder","charts","tutorials"],D=e=>R[e];return(0,i.jsxs)("div",{className:F()("animation__wrapper",t),children:[(0,i.jsx)(eD.Z,{is_disabled:E&&!C,className:I.class,id:I.id,icon:I.icon,onClick:()=>{if(N(!0),_){p();return}x(),(0,t8.GE)({subpage_name:D(c)})},has_effect:!0,..._||!C?{primary:!0}:{green:!0},children:I.text}),(0,i.jsxs)("div",{className:F()("animation__container",t,{"animation--running":h>0,"animation--completed":A}),children:[A&&(0,i.jsx)(t1,{profit:u}),(0,i.jsx)("span",{className:"animation__text",children:(0,i.jsx)(t7,{contract_stage:h})}),(0,i.jsxs)("div",{className:"animation__progress",children:[(0,i.jsx)("div",{className:"animation__progress-line",children:(0,i.jsx)("div",{className:`animation__progress-bar animation__progress-${h}`})}),k.map((e,t)=>(0,i.jsx)(t3,{className:e},`status_class-${e}-${t}`))]})]})]})}),t9=l.memo(e=>{var t,s;let{className:a,column:n,is_footer:l,passthrough:r,row:o}=e;if(!n)return null;let{col_index:c,title:d}=n,u=null==o?void 0:o[c],h=(0,m.MOe)(null==o?void 0:null===(t=o.contract_info)||void 0===t?void 0:t.contract_type),_=(0,m.Yeo)(null==o?void 0:null===(s=o.contract_info)||void 0===s?void 0:s.contract_type);return(0,i.jsxs)("div",{className:F()(a,n.col_index),children:[!l&&(0,i.jsx)("div",{className:F()(`${n.col_index}__row-title`,"data-list__row-title"),children:n.renderHeader?n.renderHeader({title:d,is_vanilla:_}):d}),(0,i.jsx)("div",{className:"data-list__row-content",children:n.renderCellContent?n.renderCellContent({cell_value:u,is_footer:l,passthrough:r,row_obj:o,is_vanilla:_,is_turbos:h}):u})]})}),se=l.memo(e=>{let{action_desc:t,destination_link:s,row_gap:a,row_key:n,rowRenderer:r,measure:o,is_dynamic_height:c,...d}=e,[u,h]=l.useState(!1),_=(0,m.tmR)(),x=eu(()=>h(!1),5e3),p=()=>{t&&(h(!u),x())},j=e=>{(0,m.K9$)(p,e)};return l.useEffect(()=>{_()&&c&&(null==o||o())},[u,c,o]),(0,i.jsx)("div",{className:"data-list__row--wrapper",style:{paddingBottom:`${a||0}px`},children:s?(0,i.jsx)(ec.OL,{className:"data-list__item--wrapper",id:`dt_reports_contract_${n}`,to:{pathname:s,state:{from_table_row:!0}},children:(0,i.jsx)("div",{className:"data-list__item",children:r({measure:o,...d})})}):(0,i.jsx)("div",{className:F()("data-list__item--wrapper",{"data-list__item--dynamic-height-wrapper":c}),children:t?(0,i.jsx)("div",{className:"data-list__item",onClick:j,onKeyDown:j,children:u?(0,i.jsx)("div",{className:"data-list__desc--wrapper",children:t.component&&(0,i.jsx)("div",{children:t.component})}):r({measure:o,...d})}):(0,i.jsx)("div",{className:"data-list__item",children:r({measure:o,...d})})})})}),st=el.aV,ss=el.qj,sa=el.Z8,sn=l.memo(e=>{let{children:t,className:s,data_source:a,footer:n,getRowSize:r,keyMapper:o,onRowsRendered:c,onScroll:d,setListRef:u,overscanRowCount:h,..._}=e,[x,p]=l.useState(!0),[j,v]=l.useState(!1),[b,g]=l.useState(0),f=l.useRef(),y=l.useRef(null),N=l.useRef({}),C=l.useRef(null);C.current=a;let k=!r,T=l.useCallback(()=>{a.forEach((e,t)=>{let s=(null==o?void 0:o(e))||`${t}-0`;N.current[s]=!0})},[a,o]);l.useEffect(()=>{k&&(f.current=new el.t1({fixedWidth:!0,keyMapper:e=>(null==C?void 0:C.current)&&e<(null==C?void 0:C.current.length)&&(null==o?void 0:o(C.current[e]))||e})),T(),p(!1)},[]),l.useEffect(()=>{if(k){var e,t;null===(t=y.current)||void 0===t||null===(e=t.recomputeGridSize)||void 0===e||e.call(t,{columnIndex:0,rowIndex:0})}T()},[a,k,T]);let S=e=>{let{style:t,index:s,key:n,parent:l}=e,{getRowAction:r,passthrough:c,row_gap:d}=_,u=a[s],{action_type:h,shortcode:x,purchase_time:p,transaction_time:v,id:b}=u;if((0,m.JIr)(h,x,p||v)){let e=!!(null==a?void 0:a.find(e=>"sell"===e.action_type&&e.id===b));u={...u,is_sold:e}}let g=r&&r(u),y="string"==typeof g?g:void 0,C="object"==typeof g?g:void 0,T=(null==o?void 0:o(u))||n,S=function(){let{measure:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.jsx)(se,{action_desc:C,destination_link:y,is_new_row:!N.current[T],is_scrolling:j,measure:e,passthrough:c,row_gap:d,row_key:T,row:u,rowRenderer:_.rowRenderer,is_dynamic_height:k})};return k&&f.current?(0,i.jsx)(sa,{cache:f.current,columnIndex:0,rowIndex:s,parent:l,children:e=>{let{measure:s}=e;return(0,i.jsx)("div",{style:t,children:S({measure:s})})}},T):(0,i.jsx)("div",{style:t,children:S()},T)},w=e=>{let t;clearTimeout(t),!j&&v(!0),t=setTimeout(()=>{!x&&v(!1)},200),g(e.target.scrollTop),"function"==typeof d&&d(e)},E=e=>{y.current=e,null==u||u(e)};return x?(0,i.jsx)("div",{}):(0,i.jsxs)("div",{"data-testid":"dt_data_list",className:F()(s,"data-list",{[`${s}__data-list`]:s}),children:[(0,i.jsxs)("div",{className:"data-list__body-wrapper",children:[(0,i.jsx)("div",{className:F()("data-list__body",{[`${s}__data-list-body`]:s}),children:(0,i.jsx)(ss,{children:e=>{var t,n;let{width:l,height:o}=e;return(0,i.jsx)(ei.Z,{style:{height:o,width:l},children:(0,i.jsx)(er.Z,{onScroll:w,autohide:!0,is_bypassed:(0,m.tqC)(),children:(0,i.jsx)(st,{className:s,deferredMeasurementCache:null==f?void 0:f.current,height:o,onRowsRendered:c,overscanRowCount:h||1,ref:e=>E(e),rowCount:a.length,rowHeight:k&&(null==f?void 0:null===(t=f.current)||void 0===t?void 0:t.rowHeight)?null==f?void 0:null===(n=f.current)||void 0===n?void 0:n.rowHeight:r||0,rowRenderer:S,scrollingResetTimeInterval:0,width:l,...(0,m.nIE)()?{scrollTop:b,autoHeight:!0}:{onScroll:e=>w({target:e})}})})})}})}),t]}),n&&(0,i.jsx)("div",{className:F()("data-list__footer",{[`${s}__data-list-footer`]:s}),children:(0,i.jsx)(l.Fragment,{children:_.rowRenderer({row:n,is_footer:!0})})})]})});sn.displayName="DataList",sn.Cell=t9;let si=Object.freeze({QUICK_STRATEGY:99999,TOOLBAR:100,TRANSACTION:10,SUMMARY_TOOLTIPS:5,RUN_PANEL:8});var sl=s("62017"),sr=s("49355");let so=e=>{let{icon:t,title:s,message:a,className:n}=e;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)($.Z,{className:F()(n,"transactions__icon"),alignment:(0,z.rK)()?"right":"left",message:s,zIndex:si.TRANSACTION.toString(),children:t}),a]})},sc=()=>(0,i.jsx)(U.ZP,{className:"transactions__loader-text",height:10,width:80,speed:3,backgroundColor:"var(--general-section-2)",foregroundColor:"var(--general-hover)",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100",height:"12"})}),sd=()=>(0,i.jsx)(U.ZP,{className:"transactions__loader-icon",speed:3,width:24,height:24,backgroundColor:"var(--general-section-1)",foregroundColor:"var(--general-hover)",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"24",height:"24"})}),su=e=>{let{icon:t,title:s,children:a}=e;return(0,i.jsxs)("div",{className:"transactions__popover-item",children:[t&&(0,i.jsx)("div",{className:"transaction__popover-icon",children:t}),(0,i.jsxs)("div",{className:"transactions__popover-details",children:[(0,i.jsx)("div",{className:"transactions__popover-title",children:s}),a]})]})},sh=e=>{let{contract:t}=e;return(0,i.jsxs)("div",{className:"transactions__popover-content",children:[t.transaction_ids&&(0,i.jsxs)(su,{title:(0,i.jsx)(y.Xx,{i18n_default_text:"Reference IDs"}),children:[t.transaction_ids.buy&&(0,i.jsx)("div",{className:"transactions__popover-value",children:`${t.transaction_ids.buy} ${(0,y.NC)("(Buy)")}`}),t.transaction_ids.sell&&(0,i.jsx)("div",{className:"transactions__popover-value",children:`${t.transaction_ids.sell} ${(0,y.NC)("(Sell)")}`})]}),t.tick_count&&(0,i.jsx)(su,{title:(0,y.NC)("Duration"),children:(0,i.jsx)("div",{className:"transactions__popover-value",children:`${t.tick_count} ${(0,y.NC)("ticks")}`})}),t.barrier&&(0,i.jsx)(su,{title:(0,y.NC)("Barrier"),children:(0,i.jsx)("div",{className:"transactions__popover-value",children:t.barrier})})||t.high_barrier&&t.low_barrier&&(0,i.jsxs)(su,{title:(0,y.NC)("Barriers"),children:[(0,i.jsx)("div",{className:"transactions__popover-value",children:`${t.high_barrier} ${(0,y.NC)("(High)")}`}),(0,i.jsx)("div",{className:"transactions__popover-value",children:`${t.low_barrier} ${(0,y.NC)("(Low)")}`})]}),t.date_start&&(0,i.jsx)(su,{title:(0,y.NC)("Start time"),children:(0,i.jsx)("div",{className:"transactions__popover-value",children:(0,m.fcq)(t.date_start,"YYYY-M-D HH:mm:ss [GMT]","YYYY-MM-DD HH:mm:ss [GMT]")})}),t.entry_tick&&(0,i.jsxs)(su,{title:(0,y.NC)("Entry spot"),children:[(0,i.jsx)("div",{className:"transactions__popover-value",children:t.entry_tick}),t.entry_tick_time&&(0,i.jsx)("div",{className:"transactions__popover-value",children:(0,m.fcq)(t.entry_tick_time,"YYYY-M-D HH:mm:ss [GMT]","YYYY-MM-DD HH:mm:ss [GMT]")})]}),t.exit_tick&&t.exit_tick_time&&(0,i.jsxs)(su,{title:(0,y.NC)("Exit spot"),children:[(0,i.jsx)("div",{className:"transactions__popover-value",children:t.exit_tick}),(0,i.jsx)("div",{className:"transactions__popover-value",children:(0,m.fcq)(t.exit_tick_time,"YYYY-M-D HH:mm:ss [GMT]","YYYY-MM-DD HH:mm:ss [GMT]")})]})||t.exit_tick&&(0,i.jsx)(su,{title:(0,y.NC)("Exit time"),children:(0,i.jsx)("div",{className:"transactions__popover-value",children:t.exit_tick})})]})},s_=e=>{var t;let{contract:s,active_transaction_id:a,onClickTransaction:n}=e;return(0,i.jsx)($.Z,{zIndex:si.TRANSACTION.toString(),alignment:(0,z.rK)()?"right":"left",className:"transactions__item-wrapper",is_open:!!(s&&a===(null==s?void 0:null===(t=s.transaction_ids)||void 0===t?void 0:t.buy)),message:s&&(0,i.jsx)(sh,{contract:s}),children:(0,i.jsxs)("div",{"data-testid":"dt_transactions_item",className:"transactions__item",onClick:()=>{var e;return n&&n((null==s?void 0:null===(e=s.transaction_ids)||void 0===e?void 0:e.buy)||null)},children:[(0,i.jsxs)("div",{className:"transactions__cell transactions__trade-type",children:[(0,i.jsx)("div",{className:"transactions__loader-container",children:s?(0,i.jsx)(so,{icon:(0,i.jsx)(V,{type:s.underlying}),title:s.display_name||""}):(0,i.jsx)(sd,{})}),(0,i.jsx)("div",{className:"transactions__loader-container",children:s?(0,i.jsx)(so,{icon:(0,i.jsx)(G,{type:s.contract_type||"",size:"sm"}),title:(0,Z.getContractTypeName)(s)}):(0,i.jsx)(sd,{})})]}),(0,i.jsx)("div",{className:"transactions__cell transactions__entry-spot",children:(0,i.jsx)(so,{icon:(0,i.jsx)(sl.Z,{height:10,width:10}),title:(0,y.NC)("Entry spot"),message:(null==s?void 0:s.entry_tick)??(0,i.jsx)(sc,{})})}),(0,i.jsx)("div",{className:"transactions__cell transactions__exit-spot",children:(0,i.jsx)(so,{icon:(0,i.jsx)(sr.C,{height:10,width:10}),title:(0,y.NC)("Exit spot"),message:(null==s?void 0:s.exit_tick)??(0,i.jsx)(sc,{})})}),(0,i.jsx)("div",{className:"transactions__cell transactions__stake",children:s?(0,i.jsx)(e3.Z,{amount:s.buy_price,currency:s.currency,show_currency:!0}):(0,i.jsx)(sc,{})}),(0,i.jsx)("div",{className:"transactions__cell transactions__profit",children:(null==s?void 0:s.is_completed)?(0,i.jsx)("div",{className:F()({"transactions__profit--win":(null==s?void 0:s.profit)&&(null==s?void 0:s.profit)>=0,"transactions__profit--loss":(null==s?void 0:s.profit)&&(null==s?void 0:s.profit)<0}),children:(0,i.jsx)(e3.Z,{amount:Math.abs(s.profit||0),currency:s.currency,show_currency:!0})}):(0,i.jsx)(sc,{})})]})})},sm=e=>{let{row:t=!1,onClickTransaction:s,active_transaction_id:a}=e;switch(t.type){case P.i.CONTRACT:{let{data:e}=t;return(0,i.jsx)(s_,{contract:e,onClickTransaction:s,active_transaction_id:a})}case P.i.DIVIDER:return(0,i.jsx)("div",{className:"transactions__divider",children:(0,i.jsx)("div",{className:"transactions__divider-line"})});default:return null}},sx=(0,r.Pi)(e=>{let{is_drawer_open:t}=e,[s,a]=l.useState(null),{run_panel:n,transactions:r}=(0,j.oR)(),{contract_stage:o}=n,{transactions:c,toggleTransactionDetailsModal:d,recoverPendingContracts:u}=r,{isDesktop:h}=(0,N.F)();l.useEffect(()=>(window.addEventListener("click",_),u(),()=>{window.removeEventListener("click",_)}),[]),l.useEffect(()=>{s&&a(null)},[null==c?void 0:c.length]);let _=e=>{!((null==e?void 0:e.composedPath())||[]).some(e=>{var t;return null===(t=e.classList)||void 0===t?void 0:t.contains("transactions__item-wrapper")})&&a(null)},m=e=>{e&&s===e?a(null):a(e)};return(0,i.jsxs)("div",{className:F()("transactions",{"run-panel-tab__content":h,"run-panel-tab__content--mobile":!h&&t}),children:[(0,i.jsxs)("div",{className:"download__container transaction-details__button-container",children:[(0,i.jsx)(eO,{tab:"transactions"}),(0,i.jsx)(eD.Z,{id:"download__container__view-detail-button",className:"download__container__view-detail-button",disabled:!(null==c?void 0:c.length),onClick:()=>{d(!0)},secondary:!0,children:(0,i.jsx)(y.Xx,{i18n_default_text:"View Detail"})})]}),(0,i.jsxs)("div",{className:"transactions__header",children:[(0,i.jsx)("span",{className:"transactions__header-column transactions__header-type",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Type"})}),(0,i.jsx)("span",{className:"transactions__header-column transactions__header-spot",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Entry/Exit spot"})}),(0,i.jsx)("span",{className:"transactions__header-column transactions__header-profit",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Buy price and P/L"})})]}),(0,i.jsx)("div",{className:F()({transactions__content:h,"transactions__content--mobile":!h}),children:(0,i.jsx)("div",{className:"transactions__scrollbar",children:(null==c?void 0:c.length)?(0,i.jsx)(sn,{className:"transactions",data_source:c,rowRenderer:e=>(0,i.jsx)(sm,{onClickTransaction:m,active_transaction_id:s,...e}),keyMapper:e=>{switch(e.type){case P.i.CONTRACT:return e.data.transaction_ids.buy;case P.i.DIVIDER:return e.data;default:return null}},getRowSize:e=>{let{index:t}=e;switch((null==c?void 0:c[t]).type){case P.i.CONTRACT:return 50;case P.i.DIVIDER:return 21;default:return 0}}}):(0,i.jsx)(i.Fragment,{children:o>=ea.K.STARTING?(0,i.jsx)(s_,{contract:null}):(0,i.jsx)(er.Z,{children:(0,i.jsx)("div",{className:"transactions-empty-box",children:(0,i.jsxs)("div",{className:"transactions-empty",children:[(0,i.jsx)("div",{className:"transactions-empty__icon-box",children:(0,i.jsx)(en.Z,{height:"64px",width:"64px",className:"transactions-empty__icon icon-general-fill-g-path",color:"secondary",fill:"var(--text-general)"})}),(0,i.jsx)(es.Z,{as:"h4",size:"xs",weight:"bold",align:"center",color:"less-prominent",lineHeight:"xxs",className:"transactions-empty__header",children:(0,i.jsx)(y.Xx,{i18n_default_text:"There are no transactions to display"})}),(0,i.jsxs)("div",{className:"transactions-empty__message",children:[(0,i.jsx)(es.Z,{size:"xxs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Here are the possible reasons:"})}),(0,i.jsxs)("ul",{className:"transactions-empty__list",children:[(0,i.jsx)("li",{children:(0,i.jsx)(es.Z,{size:"xs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The bot is not running"})})}),(0,i.jsx)("li",{children:(0,i.jsx)(es.Z,{size:"xs",color:"less-prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The stats are cleared"})})})]})]})]})})})})})})]})});var sp=s("24335");let sj=e=>{let{content:t,contentClassName:s,title:a}=e;return(0,i.jsxs)("div",{className:"run-panel__tile",children:[(0,i.jsx)("div",{className:"run-panel__tile-title",children:a}),(0,i.jsx)("div",{className:F()("run-panel__tile-content",s),children:t})]})},sv=e=>{let{currency:t,is_mobile:s,lost_contracts:a,number_of_runs:n,total_stake:l,total_payout:r,toggleStatisticsInfoModal:o,total_profit:c,won_contracts:d}=e;return(0,i.jsxs)("div",{className:F()("run-panel__stat",{"run-panel__stat--mobile":s}),children:[(0,i.jsx)("div",{className:"run-panel__stat--info",onClick:o,children:(0,i.jsx)("div",{className:"run-panel__stat--info-item",children:(0,i.jsx)(y.Xx,{i18n_default_text:"What's this?"})})}),(0,i.jsxs)("div",{className:"run-panel__stat--tiles",children:[(0,i.jsx)(sj,{title:(0,y.NC)("Total stake"),alignment:"top",content:(0,i.jsx)(e3.Z,{amount:l,currency:t,show_currency:!0})}),(0,i.jsx)(sj,{title:(0,y.NC)("Total payout"),alignment:"top",content:(0,i.jsx)(e3.Z,{amount:r,currency:t,show_currency:!0})}),(0,i.jsx)(sj,{title:(0,y.NC)("No. of runs"),alignment:"top",content:n}),(0,i.jsx)(sj,{title:(0,y.NC)("Contracts lost"),alignment:"bottom",content:a}),(0,i.jsx)(sj,{title:(0,y.NC)("Contracts won"),alignment:"bottom",content:d}),(0,i.jsx)(sj,{title:(0,y.NC)("Total profit/loss"),content:(0,i.jsx)(e3.Z,{amount:c,currency:t,has_sign:!0,show_currency:!0}),alignment:"bottom",contentClassName:F()("run-panel__stat-amount",{"run-panel__stat-amount--positive":c>0,"run-panel__stat-amount--negative":c<0})})]})]})},sb=e=>{let{is_clear_stat_disabled:t,is_mobile:s,is_drawer_open:a,onClearStatClick:n}=e;return s&&a&&(0,i.jsx)(eD.Z,{id:"db-run-panel__clear-button",className:"run-panel__clear-button",disabled:t,text:(0,y.NC)("Reset"),onClick:n,secondary:!0})},sg=e=>{let{active_index:t,is_drawer_open:s,active_tour:a,setActiveTabIndex:n,...l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(tt,{active_index:t,onTabItemClick:n,top:!0,children:[(0,i.jsx)("div",{id:"db-run-panel-tab__summary",label:(0,i.jsx)(y.Xx,{i18n_default_text:"Summary"}),children:(0,i.jsx)(tJ,{is_drawer_open:s})}),(0,i.jsx)("div",{id:"db-run-panel-tab__transactions",label:(0,i.jsx)(y.Xx,{i18n_default_text:"Transactions"}),children:(0,i.jsx)(sx,{is_drawer_open:s})}),(0,i.jsx)("div",{id:"db-run-panel-tab__journal",label:(0,i.jsx)(y.Xx,{i18n_default_text:"Journal"}),children:(0,i.jsx)(eF,{})})]}),(s&&2!==t||a)&&(0,i.jsx)(sv,{...l})]})},sf=e=>{let{is_clear_stat_disabled:t,onClearStatClick:s}=e;return(0,i.jsx)("div",{className:"run-panel__footer",children:(0,i.jsx)(eD.Z,{id:"db-run-panel__clear-button",className:"run-panel__footer-button",disabled:t,onClick:s,has_effect:!0,secondary:!0,children:(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Reset"})})})})},sy=()=>(0,i.jsx)("div",{className:"controls__section",children:(0,i.jsx)("div",{className:"controls__buttons",children:(0,i.jsx)(t6,{className:"controls__animation",should_show_overlay:!0})})}),sN=e=>{let{is_mobile:t,is_statistics_info_modal_open:s,toggleStatisticsInfoModal:a}=e;return(0,i.jsx)(C.Z,{className:F()("statistics__modal",{"statistics__modal--mobile":t}),title:(0,y.NC)("What's this?"),is_open:s,toggleModal:a,width:"440px",children:(0,i.jsx)(C.Z.Body,{children:(0,i.jsx)("div",{className:F()("statistics__modal-body",{"statistics__modal-body--mobile":t}),children:(0,i.jsxs)(er.Z,{className:"statistics__modal-scrollbar",children:[(0,i.jsx)(es.Z,{as:"p",weight:"bold",className:"statistics__modal-body--content no-margin",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Total stake"})}),(0,i.jsx)(es.Z,{as:"p",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Total stake since you last cleared your stats."})}),(0,i.jsx)(es.Z,{as:"p",weight:"bold",className:"statistics__modal-body--content",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Total payout"})}),(0,i.jsx)(es.Z,{as:"p",children:(0,y.NC)("Total payout since you last cleared your stats.")}),(0,i.jsx)(es.Z,{as:"p",weight:"bold",className:"statistics__modal-body--content",children:(0,i.jsx)(y.Xx,{i18n_default_text:"No. of runs"})}),(0,i.jsx)(es.Z,{as:"p",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The number of times your bot has run since you last cleared your stats. Each run includes the execution of all the root blocks."})}),(0,i.jsx)(es.Z,{as:"p",weight:"bold",className:"statistics__modal-body--content",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Contracts lost"})}),(0,i.jsx)(es.Z,{as:"p",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The number of contracts you have lost since you last cleared your stats."})}),(0,i.jsx)(es.Z,{as:"p",weight:"bold",className:"statistics__modal-body--content",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Contracts won"})}),(0,i.jsx)(es.Z,{as:"p",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The number of contracts you have won since you last cleared your stats."})}),(0,i.jsx)(es.Z,{as:"p",weight:"bold",className:"statistics__modal-body--content",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Total profit/loss"})}),(0,i.jsx)(es.Z,{as:"p",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Your total profit/loss since you last cleared your stats. It is the difference between your total payout and your total stake."})})]})})})})},sC=(0,r.Pi)(()=>{let{run_panel:e,dashboard:t,transactions:s}=(0,j.oR)(),{client:a}=(0,j.oR)(),{isDesktop:n}=(0,N.F)(),{currency:r}=a,{active_index:o,is_drawer_open:c,is_statistics_info_modal_open:d,is_clear_stat_disabled:u,onClearStatClick:h,onMount:_,onRunButtonClick:m,onUnmount:x,setActiveTabIndex:p,toggleDrawer:v,toggleStatisticsInfoModal:b}=e,{statistics:g}=s,{active_tour:f,active_tab:y}=t,{total_payout:C,total_profit:k,total_stake:T,won_contracts:S,lost_contracts:w,number_of_runs:E}=g,{RANDOMBOTS:I,DASHBOARD:A,BOT_BUILDER:R,FREEBOTS:D,ANALYSISTOOL:O,CHART:L,COPYTRADING:M,D:U}=sp.ve;l.useEffect(()=>(_(),()=>x()),[_,x]),l.useEffect(()=>{!n&&v(!1)},[]);let P=(0,i.jsx)(sg,{active_index:o,currency:r,is_drawer_open:c,is_mobile:!n,lost_contracts:w,number_of_runs:E,setActiveTabIndex:p,toggleStatisticsInfoModal:b,total_payout:C,total_profit:k,total_stake:T,won_contracts:S,active_tour:f}),Z=(0,i.jsx)(sf,{is_clear_stat_disabled:u,onClearStatClick:h}),z=(0,i.jsx)(sb,{is_clear_stat_disabled:u,is_mobile:!n,is_drawer_open:c,onClearStatClick:h});return!([I,A,R,D,O,L,M,U].includes(y)||f)&&n||"bot_builder"===f?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:!n&&c?"run-panel__container--mobile":"run-panel",children:[(0,i.jsx)(e8,{anchor:"right",className:F()("run-panel",{"run-panel__container":n,"run-panel__container--tour-active":n&&f}),contentClassName:"run-panel__content",header:z,footer:n&&Z,is_open:c,toggleDrawer:v,width:366,zIndex:si.RUN_PANEL,children:P}),!n&&(0,i.jsx)(sy,{})]}),(0,i.jsx)(e1,{onRunButtonClick:m}),(0,i.jsx)(sN,{is_mobile:!n,is_statistics_info_modal_open:d,toggleStatisticsInfoModal:b})]})}),sk=e=>{let{body_className:t,className:s,should_header_stick_body:a,header:n,header_background_color:r,height_offset:o="0px",is_flex:c,is_popup:d,is_modal_open:u,onClickClose:h,renderPageFooterChildren:_,page_footer_className:m,page_footer_parent:x,page_footer_parent_className:p,page_header_className:j,page_header_text:v,renderPageHeaderTrailingIcon:b,pageHeaderReturnFn:g,renderPageHeader:f,renderPageHeaderElement:y,children:N,container_children:C}=e;return(0,i.jsx)(eG,{is_visible:u,className:F()("dc-mobile-full-page-modal",s),keyname:`${s}__wrapper`,children:(0,i.jsx)(eQ,{header:n,onClickClose:h,children:(0,i.jsxs)(ez.Z,{className:F()("dc-mobile-full-page-modal",{"dc-mobile-full-page-modal--flex":c,"dc-mobile-full-page-modal--popup":d}),height_offset:o,children:[(f||v||y)&&(0,i.jsxs)("div",{className:F()("dc-mobile-full-page-modal__header",{"dc-mobile-full-page-modal__header--border-bottom":!a,...j?{[j]:!!j}:{}}),style:{background:r},children:[g&&(0,i.jsx)("div",{className:"dc-mobile-full-page-modal__header-return",children:(0,i.jsx)(eJ.Z,{onClick:g,"data-testid":"dt_mobile_full_page_return_icon"})}),f&&f(),(0,i.jsx)("div",{className:"dc-mobile-full-page-modal__header-text",children:y??(0,i.jsx)(es.Z,{as:"p",color:"prominent",lineHeight:"m",size:"s",weight:"bold",children:v})}),b&&(0,i.jsx)("div",{className:"dc-mobile-full-page-modal__header-trailing-icon",children:b()})]}),(0,i.jsx)("div",{className:F()("dc-mobile-full-page-modal__body",t),children:N}),_&&(0,i.jsxs)(l.Fragment,{children:[x&&(0,i.jsx)("div",{className:F()("dc-mobile-full-page-modal__footer-parent",p),children:x}),(0,i.jsx)("div",{className:F()("dc-mobile-full-page-modal__footer",m),children:_()})]}),C]})})})},sT="transaction-details-modal-mobile",sS=()=>(0,i.jsx)(U.ZP,{className:"transactions__loader-text","data-testid":"transaction_details_card_cell_loader",height:10,width:80,speed:3,foregroundColor:"var(--general-section-2)",backgroundColor:"var(--general-hover)",children:(0,i.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100",height:"12"})}),sw=e=>{let{label:t="",large_title:s=!1,right_aligned:a=!1,title:n="",loader:l=!1}=e;return(0,i.jsxs)("div",{className:F()(`${sT}__card__column`,{[`${sT}__right-align`]:a}),children:[n&&(0,i.jsx)("div",{className:F()({[`${sT}__small-title`]:!s,[`${sT}__large-title`]:s}),children:(0,y.NC)(n)}),(0,i.jsx)("div",{className:`${sT}__label`,children:l?(0,i.jsx)(sS,{}):t})]})},sE=e=>{let{message:t,icon:s}=e;return(0,i.jsx)("div",{className:F()(`${sT}__table-cell`,`${sT}__table-cell__icon-wrapper`),children:t&&(0,i.jsx)($.Z,{alignment:(0,z.rK)()?"left":"right",message:t,zIndex:"7",children:s})})};function sI(e){var t;let{transaction:s}=e;return(0,i.jsxs)("div",{className:`${sT}__card`,"data-testid":"dt_mobile_transaction_card",children:[(0,i.jsx)("div",{className:`${sT}__card__row`,children:(0,i.jsx)(sw,{label:(0,i.jsxs)("div",{className:`${sT}__icon-wrapper`,children:[(0,i.jsx)(sE,{message:null==s?void 0:s.display_name,icon:(0,i.jsx)(V,{type:null==s?void 0:s.underlying,size:"md"})}),(0,i.jsx)(sE,{message:(0,Z.getContractTypeName)(s),icon:(0,i.jsx)(G,{type:null==s?void 0:s.contract_type,size:"md"})})]})})}),(0,i.jsx)("div",{className:`${sT}__card__row`,children:(0,i.jsx)(sw,{title:"Ref. ID",label:null==s?void 0:null===(t=s.transaction_ids)||void 0===t?void 0:t.buy})}),(0,i.jsxs)("div",{className:`${sT}__card__row`,children:[(0,i.jsx)(sw,{title:"Timestamp",label:(0,m.fcq)(null==s?void 0:s.date_start,"YYYY-M-D HH:mm:ss [GMT]","YYYY-MM-DD HH:mm:ss [GMT]")}),(0,i.jsx)(sw,{title:"Entry Spot",label:null==s?void 0:s.entry_tick,right_aligned:!0,loader:!s.entry_tick})]}),(0,i.jsxs)("div",{className:`${sT}__card__row`,children:[(0,i.jsx)(sw,{title:"Buy Price",label:Math.abs((null==s?void 0:s.buy_price)??0).toFixed(2)}),(0,i.jsx)(sw,{title:"Exit Spot",label:null==s?void 0:s.exit_tick,right_aligned:!0,loader:!s.exit_tick})]}),(0,i.jsxs)("div",{className:`${sT}__card__row`,children:[(0,i.jsx)(sw,{title:"Profit / Loss",large_title:!0}),(0,i.jsx)(sw,{label:(0,i.jsx)("div",{className:F()({[`${sT}__card__profit--win`]:(null==s?void 0:s.profit)>0,[`${sT}__card__profit--loss`]:(null==s?void 0:s.profit)<0}),children:Math.abs((null==s?void 0:s.profit)??0).toFixed(2)}),right_aligned:!0,loader:!s.is_completed})]})]})}let sA=(0,r.Pi)(()=>{let{client:e}=(0,j.oR)(),{transactions:t,run_panel:s}=(0,j.oR)(),{toggleTransactionDetailsModal:a,is_transaction_details_modal_open:n,transactions:l,statistics:r}=t,{toggleStatisticsInfoModal:o}=s;return(0,i.jsxs)(sk,{is_modal_open:n,className:"transaction-details-modal-mobile",header:(0,y.NC)("Transactions detailed summary"),onClickClose:()=>{a(!1)},height_offset:"80px",children:[(0,i.jsx)("div",{className:"transaction-details-modal-mobile__wrapper","data-testid":"transaction_details_cards",children:null==l?void 0:l.map(e=>{var t;let{data:s,type:a}=e;return a===P.i.CONTRACT?(0,i.jsx)(sI,{transaction:s},null==s?void 0:null===(t=s.transaction_ids)||void 0===t?void 0:t.buy):(0,i.jsx)("div",{className:"transaction-details-modal-mobile__divider",children:(0,i.jsx)("div",{className:"transactions__divider-line"})},`transaction-row-divider-${s}`)})}),(0,i.jsx)("div",{className:"transaction-details-modal-mobile__card__footer",children:(0,i.jsx)(sv,{is_mobile:!0,currency:null==e?void 0:e.currency,lost_contracts:(null==r?void 0:r.lost_contracts)??0,number_of_runs:(null==r?void 0:r.number_of_runs)??0,total_payout:(null==r?void 0:r.total_payout)??0,total_profit:(null==r?void 0:r.total_profit)??0,total_stake:(null==r?void 0:r.total_stake)??0,won_contracts:(null==r?void 0:r.won_contracts)??0,toggleStatisticsInfoModal:o})})]})}),sR=(0,r.Pi)(()=>{let{isDesktop:e}=(0,N.F)();return(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(T.a,{}),children:e?(0,i.jsx)(et,{}):(0,i.jsx)(sA,{})})});var sD=s("87383"),sO=s("89064"),sL=s("46543");let sM=e=>{let{featureFlagValue:t}=(0,sL.Z)({featureFlag:"enable_intercom_dbot"}),s=(0,ed.Gq)(t?"https://static.deriv.com/scripts/intercom/v1.0.2.js":null);(0,l.useEffect)(()=>{var a;let n;if(!!t&&"ready"===s&&!!(null===(a=window)||void 0===a?void 0:a.DerivInterCom))return window.DerivInterCom.initialize({hideLauncher:!0,token:e}),n=setInterval(()=>{var e;(null===(e=window)||void 0===e?void 0:e.Intercom)&&clearInterval(n)},500),()=>{clearInterval(n)}},[t,s,e])};var sF=s("83257"),sU=s("6388");let{TRACKJS_TOKEN:sP}={TRANSLATIONS_CDN_URL:void 0,R2_PROJECT_NAME:void 0,CROWDIN_BRANCH_NAME:void 0,TRACKJS_TOKEN:void 0,APP_ENV:void 0,REF_NAME:void 0,REMOTE_CONFIG_URL:void 0,GD_CLIENT_ID:void 0,GD_APP_ID:void 0,GD_API_KEY:void 0,DATADOG_SESSION_REPLAY_SAMPLE_RATE:void 0,DATADOG_SESSION_SAMPLE_RATE:void 0,DATADOG_APPLICATION_ID:void 0,DATADOG_CLIENT_TOKEN:void 0,RUDDERSTACK_KEY:void 0,GROWTHBOOK_CLIENT_KEY:void 0,GROWTHBOOK_DECRYPTION_KEY:void 0},sZ=()=>({initTrackJS:e=>{try{if(!sU.t.isInstalled()){var t;sU.t.install({application:"standalone-deriv-bot",dedupe:!1,enabled:!1,token:sP,userId:e,version:(null===(t=document.querySelector("meta[name=version]"))||void 0===t?void 0:t.content)??"undefined"})}}catch(e){console.error("Failed to initialize TrackJS",e)}}});s("99702");let sz=e=>{};var sB=s("72755");let sV=e=>{!function(t,s,a,n){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:3050531,hjsv:6};let i=s.getElementsByTagName("head")[0],l=s.createElement("script");l.async=1,l.src=a+t._hjSettings.hjid+n+t._hjSettings.hjsv,i.appendChild(l);let r=e.loginid,o=e.is_virtual?"Demo":"Real",c=e.account_open_date?(0,sB.vk)(e.account_open_date):void 0;window.hj("identify",r,{"Account created":c?(0,sB.gb)(c).format("YYYY-MM-DD"):"","Account type":o,"User country":e.clients_country})}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=")};var s$=s("47494"),sX=s("44740");let sG=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("audio",{id:"announcement","aria-label":"audio",src:`${window.__webpack_public_path__}assets/media/announcement.mp3`}),(0,i.jsx)("audio",{id:"earned-money","aria-label":"audio",src:`${window.__webpack_public_path__}assets/media/coins.mp3`}),(0,i.jsx)("audio",{id:"job-done","aria-label":"audio",src:`${window.__webpack_public_path__}assets/media/job-done.mp3`}),(0,i.jsx)("audio",{id:"error","aria-label":"audio",src:`${window.__webpack_public_path__}assets/media/out-of-bounds.mp3`}),(0,i.jsx)("audio",{id:"severe-error","aria-label":"audio",src:`${window.__webpack_public_path__}assets/media/i-am-being-serious.mp3`})]}),sH=(0,r.Pi)(()=>{let{blockly_store:e}=(0,j.oR)(),{is_loading:t}=e;return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsxs)("div",{className:"bot__loading","data-testid":"blockly-loader",children:[(0,i.jsx)(T.a,{}),(0,i.jsx)("div",{children:"Loading Blockly..."})]})})});var sq=s("10434");let sY=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{is_web_socket_intialised:t}=e,s=()=>{location.reload()};return(0,i.jsxs)(sq.Z,{is_visible:!t,is_mobile_full_width:!0,className:"dc-dialog bot-stopped-dialog",cancel_button_text:(0,y.NC)("Go to Reports"),confirm_button_text:(0,y.NC)("Back to Bot"),onCancel:()=>location.replace("reports/positions"),onConfirm:()=>location.reload(),children:[(0,i.jsxs)("div",{className:"dc-dialog__content__header",children:[(0,i.jsx)(es.Z,{"data-testid":"data-title",weight:"bold",as:"p",align:"left",size:"s",color:"prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"You're back online"})}),(0,i.jsx)("div",{"data-testid":"data-close-button",onClick:s,onKeyDown:e=>{"Enter"===e.key&&s()},tabIndex:0,children:(0,i.jsx)(E.Z,{height:"20px",width:"20px",fill:"var(--text-general)"})})]}),(0,i.jsx)(es.Z,{as:"p",align:"left",size:"xs",color:"prominent",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The bot has stopped, but your trade may still be running. You can check it on the Reports page."})})]})});var sW=s("64736"),sK=s("59462"),sJ=s("49985"),sQ=s("83571"),s0=s("13617");let s1=e=>{let{load_strategy_tab:t}=e;sQ.Analytics.trackEvent("ce_bot_form",{action:s0.om.SWITCH_LOAD_STRATEGY_TAB,form_name:s0.oH,load_strategy_tab:t,subform_name:"load_strategy",subpage_name:"bot_builder"})};var s2=s("66062"),s5=s("31865"),s8=s("97909");let s3=(0,r.Pi)(()=>{let{google_drive:e,load_modal:t}=(0,j.oR)(),{is_authorised:s,signIn:a,signOut:n}=e,{is_open_button_loading:r,onDriveOpen:o}=t,{isDesktop:c}=(0,N.F)(),d=c?"128":"96";return(0,i.jsx)("div",{className:"load-strategy__container","data-testid":"dt_google_drive",children:(0,i.jsxs)("div",{className:"load-strategy__google-drive",children:[(0,i.jsx)(s8.Z,{className:F()("load-strategy__google-drive-icon",{"load-strategy__google-drive-icon--disabled":!s}),height:d,width:d}),(0,i.jsx)("div",{className:"load-strategy__google-drive-connected-text",children:s?(0,i.jsx)(y.Xx,{i18n_default_text:"You are connected to Google Drive"}):"Google Drive"}),s?(0,i.jsxs)(eD.Z.Group,{children:[(0,i.jsx)(eD.Z,{onClick:()=>{n(),(0,t8.z9)()},has_effect:!0,secondary:!0,large:!0,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Disconnect"})}),(0,i.jsx)(eD.Z,{onClick:()=>{o()},is_loading:r,has_effect:!0,primary:!0,large:!0,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Open"})})]}):(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:"load-strategy__google-drive-terms",children:[(0,i.jsx)("div",{className:"load-strategy__google-drive-text",children:(0,i.jsx)(y.Xx,{i18n_default_text:"To import your bot from your Google Drive, you'll need to sign in to your Google account."})}),(0,i.jsx)("div",{className:"load-strategy__google-drive-text",children:(0,i.jsx)(y.Xx,{i18n_default_text:"To know how Google Drive handles your data, please review Binarytools’s <0>Privacy policy.</0>",components:[(0,i.jsx)(s5.Z,{className:"link",href:"tnc/security-and-privacy.pdf",is_document:!0},0)]})})]}),(0,i.jsx)(eD.Z,{onClick:()=>{a(),(0,t8.df)()},has_effect:!0,primary:!0,large:!0,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Sign in"})})]})]})})});var s4=s("81593"),s7=s("73446"),s6=s("91047");let s9=(0,r.Pi)(()=>{let{load_modal:e,dashboard:t}=(0,j.oR)(),{is_open_button_loading:s,is_open_button_disabled:a,loadStrategyOnBotBuilder:n,setLoadedLocalFile:r,saveStrategyToLocalStorage:o,toggleLoadModal:c}=e,{setOpenSettings:d,setPreviewOnPopup:u}=t,{isDesktop:h}=(0,N.F)(),_=h?l.Fragment:eD.Z.Group;return(0,i.jsxs)(_,{children:[!h&&(0,i.jsx)(eD.Z,{text:(0,y.NC)("Cancel"),onClick:()=>r(null),has_effect:!0,secondary:!0,large:!0}),(0,i.jsx)(eD.Z,{text:(0,y.NC)("Open"),onClick:()=>{n(),o(),r(null),c(),u(!1),d(sK.tx.BOT_IMPORT)},is_loading:s,has_effect:!0,primary:!0,large:!0,disabled:a})]})}),ae=e=>{let{icon:t,message:s,className:a}=e;return(0,i.jsxs)("div",{className:a,children:[t&&(0,i.jsx)("span",{className:"icon",children:t}),(0,i.jsx)("span",{className:"text",children:(0,i.jsx)(es.Z,{size:"xs",children:s})})]})};var at=s("19405"),as=s("97613");let aa=(0,r.Pi)(e=>{let{mockZoomInOut:t}=e,{dashboard:s}=(0,j.oR)(),{onZoomInOutClick:a}=s;return(0,i.jsxs)("div",{className:"load-strategy__preview-workspace-controls",children:[(0,i.jsx)(at.Z,{className:"load-strategy__preview-workspace-icon",onClick:()=>{t?t(!0):a(!0)},"data-testid":"zoom-in",fill:"var(--text-general)"}),(0,i.jsx)(as.Z,{className:"load-strategy__preview-workspace-icon",onClick:()=>{t?t(!1):a(!1)},"data-testid":"zoom-out",fill:"var(--text-general)"})]})}),an=(0,r.Pi)(()=>{let{dashboard:e,load_modal:t,blockly_store:s}=(0,j.oR)(),{active_tab:a,active_tour:n}=e,{handleFileChange:r,loaded_local_file:o,setLoadedLocalFile:c,imported_strategy_type:d,is_open_button_loading:u}=t,h=l.useRef(null),[_,m]=l.useState(!0),{isDesktop:x}=(0,N.F)(),{is_loading:p}=s;return(l.useEffect(()=>{o&&_&&"pending"!==d&&!p&&"old"===d&&(0,sW.J)((0,sK.xG)().strategy_conversion,void 0,{closeButton:!1})},[o,_,d,u,p]),o&&_)?(0,i.jsxs)("div",{className:"load-strategy__container load-strategy__container--has-footer",children:[(0,i.jsxs)("div",{className:F()("load-strategy__local-preview",{"load-strategy__local-preview--active":2===a&&n}),children:[(0,i.jsx)("div",{className:"load-strategy__title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Preview"})}),(0,i.jsx)("div",{className:"load-strategy__preview-workspace",children:(0,i.jsxs)("div",{id:"load-strategy__blockly-container",style:{height:"100%"},children:[(0,i.jsx)("div",{className:"load-strategy__local-preview-close",children:(0,i.jsx)(E.Z,{onClick:()=>{c(null)},"data-testid":"dt_load-strategy__local-preview-close",height:"20px",width:"20px"})}),(0,i.jsx)(aa,{})]})})]}),!x&&(0,i.jsx)("div",{className:"load-strategy__local-footer",children:(0,i.jsx)(s9,{})})]}):(0,i.jsx)("div",{className:"load-strategy__container",children:(0,i.jsxs)("div",{className:"load-strategy__local-dropzone",children:[(0,i.jsx)("input",{type:"file",ref:h,accept:"application/xml, text/xml",style:{display:"none"},onChange:e=>m(r(e,!1)),"data-testid":"dt-load-strategy-file-input"}),(0,i.jsx)(ae,{message:(0,y.NC)("Importing XML files from Binary Bot and other third-party platforms may take longer."),icon:(0,i.jsx)(s6.Z,{fill:"#e18d00",iconSize:"xs"}),className:"load-strategy__section_message"}),(0,i.jsxs)("div",{"data-testid":"dt__local-dropzone-area",className:"load-strategy__local-dropzone-area",onDrop:e=>{r(e,!1)},children:[x?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(s7.Z,{height:"128px",width:"128px",className:"load-strategy__local-icon"}),(0,i.jsx)("div",{className:"load-strategy__local-title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Drag your XML file here"})}),(0,i.jsx)("div",{className:"load-strategy__local-description",children:(0,i.jsx)(y.Xx,{i18n_default_text:"or, if you prefer..."})})]}):(0,i.jsx)(s4.Z,{height:"96px",width:"96px",className:"load-strategy__local-icon"}),(0,i.jsx)(eD.Z,{text:_?(0,y.NC)("Select an XML file from your device"):(0,y.NC)("Please upload an XML file"),"data-testid":"dt_load-strategy__local-upload",onClick:()=>{var e;return null==h?void 0:null===(e=h.current)||void 0===e?void 0:e.click()},has_effect:!0,primary:!0,large:!0})]})]})})});var ai=s("45845"),al=s("30810"),ar=s("39590");let ao=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||"string"==typeof e?({[al.R.UNSAVED]:(0,i.jsx)(ar.Z,{iconSize:"xs",fill:"var(--text-general)",className:"icon-general-fill-g-path"}),[al.R.LOCAL]:(0,i.jsx)(s7.Z,{height:"16px",width:"16px",fill:"var(--text-general)"}),[al.R.GOOGLE_DRIVE]:(0,i.jsx)(s8.Z,{className:t,height:"16px",width:"16px",fill:"var(--text-general)"})})[e]:(0,i.jsx)(ar.Z,{iconSize:"xs",fill:"var(--text-general)"})},ac=(0,r.Pi)(e=>{let{workspace:t}=e,{load_modal:s,blockly_store:a}=(0,j.oR)(),{setLoading:n}=a,{getSaveType:l,loadStrategyOnModalRecentPreview:r,selected_strategy_id:o,updateXmlValuesOnStrategySelection:c}=s;return(0,i.jsxs)("div",{className:F()("load-strategy__recent-item",{"load-strategy__recent-item--selected":o===t.id}),onClick:()=>{o!==t.id&&(n(!0),r(t.id),c())},"data-testid":"dt_recent_workspace_item",children:[(0,i.jsxs)("div",{className:"load-strategy__recent-item-text",children:[(0,i.jsx)("div",{className:"load-strategy__recent-item-title",title:t.name,children:t.name}),(0,i.jsx)("div",{className:"load-strategy__recent-item-time",children:(0,Z.timeSince)(t.timestamp)})]}),(0,i.jsxs)("div",{className:"load-strategy__recent-item-location",children:[ao(t.save_type,"load-strategy__recent-icon--active"),(0,i.jsx)("div",{className:"load-strategy__recent-item-saved",children:l(t.save_type)})]})]},t.id)}),ad=(0,r.Pi)(()=>{let{load_modal:e}=(0,j.oR)(),{is_explanation_expand:t,recent_strategies:s,toggleExplanationExpand:a}=e;return s.length?(0,i.jsx)("div",{className:"load-strategy__container load-strategy__container--has-footer",children:(0,i.jsxs)("div",{className:"load-strategy__recent",children:[(0,i.jsx)("div",{className:"load-strategy__recent__files",children:s.map(e=>(0,i.jsx)(ac,{workspace:e},e.id))}),(0,i.jsxs)("div",{className:"load-strategy__recent__preview",children:[(0,i.jsx)("div",{className:"load-strategy__title load-strategy__recent-preview-title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Preview"})}),(0,i.jsx)("div",{className:"load-strategy__preview-workspace",children:(0,i.jsx)("div",{id:"load-strategy__blockly-container",style:{height:"100%"},children:(0,i.jsx)(aa,{})})})]})]})}):(0,i.jsx)("div",{className:"load-strategy__container",children:(0,i.jsxs)("div",{className:"load-strategy__recent__empty","data-testid":"dt-load-strategy__recent__empty",children:[(0,i.jsx)("div",{className:"load-strategy__recent__empty-icon",children:(0,i.jsx)(ai.Z,{height:"128px",width:"128px"})}),(0,i.jsx)("div",{className:"load-strategy__recent__empty-title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"You do not have any recent bots"})}),(0,i.jsx)("div",{className:"load-strategy__recent__empty-description",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Create one or upload one from your local drive or Google Drive."})}),(0,i.jsx)("div",{tabIndex:0,className:"load-strategy__recent__empty-expand","data-testid":"dt-load-strategy__recent__empty-expand",onClick:a,onKeyDown:e=>{"Enter"===e.key&&a()},children:(0,i.jsx)(y.Xx,{i18n_default_text:"Why can't I see my recent bots?"})}),(0,i.jsxs)("div",{"data-testid":t?"dt-empty-explanation-list--open":"dt-empty-explanation-list--close",className:F()("load-strategy__recent__empty-explanation",{"load-strategy__recent__empty-explanation--show":t}),children:[(0,i.jsx)("div",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"If you've recently used bots but don't see them in this list, it may be because you:"})}),(0,i.jsxs)("ol",{className:"load-strategy__recent__empty-explanation-list",children:[(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"1. Logged in from a different device"})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"2. Logged in from a different browser"})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"3. Cleared your browser cache"})})]})]})]})})}),au=(0,r.Pi)(()=>{let{load_modal:e,dashboard:t}=(0,j.oR)(),{is_open_button_loading:s,is_open_button_disabled:a,loadStrategyOnBotBuilder:n,toggleLoadModal:l}=e,{setOpenSettings:r}=t;return(0,i.jsx)(eD.Z,{text:(0,y.NC)("Open"),onClick:()=>{n(),l(),r(sK.tx.BOT_IMPORT)},is_loading:s,has_effect:!0,primary:!0,large:!0,disabled:a})}),ah=(0,r.Pi)(()=>{let{load_modal:e,dashboard:t}=(0,j.oR)(),{active_index:s,is_load_modal_open:a,loaded_local_file:n,onEntered:l,recent_strategies:r,setActiveTabIndex:o,toggleLoadModal:c,tab_name:d}=e,{setPreviewOnPopup:u}=t,{isDesktop:h}=(0,N.F)(),_=(0,y.NC)("Load strategy"),m=e=>{o(e),s1({load_strategy_tab:s2.yO[e+(h?0:1)]})};if(!h)return(0,i.jsx)(sk,{is_modal_open:a,className:"load-strategy__wrapper",header:_,onClickClose:()=>{u(!1),c(),(0,t8._W)({subform_name:"load_strategy",load_strategy_tab:s2.yO[s+1]})},height_offset:"80px",page_overlay:!0,children:(0,i.jsxs)(tt,{active_index:s,onTabItemClick:m,top:!0,children:[(0,i.jsx)("div",{label:(0,y.NC)("Local"),children:(0,i.jsx)(an,{})}),(0,i.jsx)("div",{label:"Google Drive",children:(0,i.jsx)(s3,{})})]})});let x=!!n&&d===sJ.y.TAB_LOCAL,p=r.length>0&&d===sJ.y.TAB_RECENT;return(0,i.jsxs)(C.Z,{title:_,className:"load-strategy",width:"1000px",height:"80vh",is_open:a,toggleModal:()=>{c(),(0,t8._W)({subform_name:"load_strategy",load_strategy_tab:s2.yO[s+(h?0:1)]})},onEntered:l,elements_to_ignore:[document.querySelector(".injectionDiv")],children:[(0,i.jsx)(C.Z.Body,{children:(0,i.jsxs)(tt,{active_index:s,onTabItemClick:m,top:!0,header_fit_content:!0,children:[(0,i.jsx)("div",{label:(0,y.NC)("Recent"),children:(0,i.jsx)(ad,{})}),(0,i.jsx)("div",{label:(0,y.NC)("Local"),children:(0,i.jsx)(an,{})}),(0,i.jsx)("div",{label:"Google Drive",children:(0,i.jsx)(s3,{})})]})}),p&&(0,i.jsx)(C.Z.Footer,{has_separator:!0,children:(0,i.jsx)(au,{})}),x&&(0,i.jsx)(C.Z.Footer,{has_separator:!0,children:(0,i.jsx)(s9,{})})]})}),a_=e=>{let{children:t,should_wrap_items:s}=e;return s?(0,i.jsx)("div",{className:"dc-radio-group__item-wrapper",children:t}):(0,i.jsx)(l.Fragment,{children:t})},am=e=>{let{className:t,name:s,onToggle:a,required:n,selected:r,should_wrap_items:o,children:c}=e,[d,u]=l.useState(r);l.useEffect(()=>{u(r)},[r]);let h=e=>{u(e.target.value),a(e)};return(0,i.jsx)("div",{className:F()("dc-radio-group",t),children:Array.isArray(c)&&c.filter(e=>!e.props.hidden).map(e=>(0,i.jsx)(a_,{should_wrap_items:o,children:(0,i.jsxs)("label",{className:F()("dc-radio-group__item",t,{"dc-radio-group__item--selected":d===e.props.value}),children:[(0,i.jsx)("input",{id:e.props.id,name:s,className:"dc-radio-group__input",type:"radio",value:e.props.value,checked:d===e.props.value,onChange:h,disabled:e.props.disabled,required:n}),(0,i.jsx)("span",{className:F()("dc-radio-group__circle",{"dc-radio-group__circle--selected":d===e.props.value,"dc-radio-group__circle--disabled":e.props.disabled,"dc-radio-group__circle--error":e.props.has_error})}),(0,i.jsx)(es.Z,{size:"xs",className:F()("dc-radio-group__label",{"dc-radio-group__label--disabled":e.props.disabled,"dc-radio-group__label--error":e.props.has_error}),children:e.props.label})]})},e.props.value))})};am.Item=e=>{let{children:t,hidden:s=!1,...a}=e;return(0,i.jsx)("div",{hidden:s,...a,children:t})};let ax=e=>{let{icon:t,text:s,google_drive_connected:a,onDriveConnect:n}=e,r="Google Drive"===s;return(0,i.jsxs)("div",{className:"save-type__container",children:[(0,i.jsxs)("div",{className:"save-type__radio",children:[t&&l.cloneElement(t,{className:F()("save-type__icon",{"save-type__icon--active":r&&a,"save-type__icon--disabled":r&&!a},t.props.className)}),(0,i.jsx)(es.Z,{as:"p",align:"center",size:"xxs",color:r&&!a?"disabled":"prominent",lineHeight:"s",className:"save-type__radio-text",children:(0,y.NC)(s)})]}),r&&(0,i.jsx)(es.Z,{as:"p",align:"center",size:"xs",weight:"bold",styles:{color:"var(--brand-purple-coral)"},className:"save-type__drive-status",onClick:n,children:(0,y.NC)(a?(0,y.NC)("Disconnect"):(0,y.NC)("Connect"))})]})},ap=e=>{let{bot_name:t,button_status:s,is_authorised:a,onConfirmSave:n,onDriveConnect:l,validateBotName:r,toggleSaveModal:o,is_mobile:c,is_onscreen_keyboard_active:d,setCurrentFocus:u}=e;return(0,i.jsx)(eU.J9,{initialValues:{is_local:!0,save_as_collection:!1,bot_name:t===(0,Z.config)().default_file_name?"":t},validate:r,onSubmit:n,children:e=>{let{values:{is_local:t},setFieldValue:n,touched:r,errors:h}=e;return(0,i.jsx)(er.Z,{height:c?"calc(100%)":"500px",autohide:!0,children:(0,i.jsxs)(eU.l0,{className:F()({"form--active-keyboard":d}),children:[(0,i.jsxs)("div",{className:"modal__content",children:[(0,i.jsxs)(es.Z,{size:"xs",lineHeight:"l",children:[(0,y.NC)("Enter your bot name, choose to save on your computer or Google Drive, and hit "),(0,i.jsx)("strong",{children:(0,y.NC)("Save.")})]}),(0,i.jsx)("div",{className:"modal__content-row",children:(0,i.jsx)(eU.gN,{name:"bot_name",children:e=>{let{field:t}=e;return(0,i.jsx)(eY,{className:"save-type__input",type:"text",placeholder:(0,y.NC)("Untitled Strategy"),error:r[t.name]&&h[t.name],label:(0,y.NC)("Bot name"),onFocus:e=>u(e.currentTarget.value),onBlur:()=>u(""),...t})}})}),(0,i.jsx)("div",{className:"modal__content-row",children:(0,i.jsxs)(am,{className:"radio-group__save-type",name:"is_local",selected:()=>a&&!t?Z.save_types.GOOGLE_DRIVE:Z.save_types.LOCAL,onToggle:()=>n("is_local",!t),children:[(0,i.jsx)(am.Item,{id:"local",label:(0,i.jsx)(ax,{text:(0,y.NC)("Local"),icon:c?(0,i.jsx)(s4.Z,{height:"48px",width:"48px"}):(0,i.jsx)(s7.Z,{height:"48px",width:"48px"})}),value:Z.save_types.LOCAL}),(0,i.jsx)(am.Item,{id:"drive",label:(0,i.jsx)(ax,{text:"Google Drive",icon:(0,i.jsx)(s8.Z,{height:"48px",width:"48px"}),google_drive_connected:a,onDriveConnect:l}),value:Z.save_types.GOOGLE_DRIVE,disabled:!a,className:F()({"dc-radio-group__item-disabled":!a})})]})})]}),(0,i.jsxs)("div",{className:F()("modal__footer",{"modal__footer--active-keyboard":d}),children:[(0,i.jsx)(eD.Z,{type:"button",className:"modal__footer--button",text:(0,y.NC)("Cancel"),onClick:o,secondary:!0}),(0,i.jsx)(eD.Z,{className:"modal__footer--button",type:"submit",is_loading:1===s,is_submit_success:2===s,text:(0,y.NC)("Save"),primary:!0})]})]})})}})},aj=(0,r.Pi)(()=>{let{save_modal:e,google_drive:t,dashboard:s,load_modal:a,ui:n}=(0,j.oR)(),{dashboard_strategies:r}=a,{button_status:o,bot_name:c,is_save_modal_open:d,onConfirmSave:u,toggleSaveModal:h,updateBotName:_,validateBotName:m}=e,{is_authorised:x,onDriveConnect:p}=t,{is_onscreen_keyboard_active:v,setCurrentFocus:b}=n,{isMobile:g}=(0,N.F)(),{active_tab:f}=s;return(0,l.useEffect)(()=>{if(2===f){var e;_((null==r?void 0:null===(e=r[0])||void 0===e?void 0:e.name)??"")}},[f,r,_]),g?(0,i.jsx)(sk,{is_modal_open:d,className:"save-modal__wrapper",header:(0,y.NC)("Save strategy"),onClickClose:h,height_offset:"80px",page_overlay:!0,children:(0,i.jsx)(ap,{bot_name:c,button_status:o,is_authorised:x,onConfirmSave:u,onDriveConnect:p,validateBotName:m,toggleSaveModal:h,is_mobile:g,is_onscreen_keyboard_active:v,setCurrentFocus:b})}):(0,i.jsx)(C.Z,{title:(0,y.NC)("Save strategy"),className:"modal--save",width:"32.8rem",height:"50rem",is_open:d,toggleModal:h,children:(0,i.jsx)(ap,{bot_name:c,button_status:o,is_authorised:x,onConfirmSave:u,onDriveConnect:p,validateBotName:m,toggleSaveModal:h,setCurrentFocus:b})})});var av=s("58902"),ab=s("13323");let ag={fontWeight:"700",fontSize:"1.4rem",height:"4rem",padding:"1rem 1.6rem"},af=e=>{let{steps:t,styles:s,handleCallback:a,...n}=e;return(0,i.jsx)(ab.ZP,{steps:t,continuous:!0,callback:a,locale:{back:(0,y.NC)("Previous"),next:(0,y.NC)("Next")},...n,styles:{options:{arrowColor:"var(--general-main-2)",backgroundColor:"var(--general-main-2)",primaryColor:"var(--brand-purple-coral)",textColor:"var(--text-general)",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",width:440},buttonBack:{border:"0.2rem solid var(--text-less-prominent)",marginInlineEnd:"1rem",borderRadius:"0.4rem",color:"var(--text-general)",...ag},buttonNext:{...ag},buttonClose:{insetInlineEnd:"0px",right:"unset"},overlay:{height:"100%"},...s}})},ay=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{is_tour_dialog_visible:t,setTourDialogVisibility:s}=e,{isDesktop:a}=(0,N.F)();return(0,i.jsx)("div",{children:(0,i.jsxs)(sq.Z,{is_visible:t,confirm_button_text:(0,y.NC)("OK"),onConfirm:()=>{s(!1)},is_mobile_full_width:!0,className:"dc-dialog tour-dialog",has_close_icon:!1,children:[(0,i.jsx)("div",{className:"dc-dialog__content__header",children:(0,i.jsx)(es.Z,{weight:"bold",color:"prominent",size:a?"s":"xs",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Congratulations"})})}),(0,i.jsx)("div",{className:"dc-dialog__content__description",children:(0,i.jsx)(es.Z,{size:a?"xs":"xxs",color:"prominent",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"dc-dialog__content__description__text","data-testid":"tour-success-message",children:(0,i.jsx)(y.Xx,{i18n_default_text:"You have successfully created your bot using a simple strategy."},0)}),(0,i.jsx)("div",{className:"dc-dialog__content__description__text",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Now, <0>run the bot</0> to test out the strategy.",components:[(0,i.jsx)("strong",{},0)]},0)}),(0,i.jsx)("div",{className:"dc-dialog__content__description__text",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Note: If you wish to learn more about the Bot Builder, you can proceed to the <0>Tutorials</0> tab.",components:[(0,i.jsx)("strong",{},0)]},0)})]})})})]})})});var aN=s("21995"),aC=s("63430"),ak=s("39338");let aT=(0,r.Pi)(e=>{let{content:t,media:s,label:a,step_index:n,has_localize_component:r=!1,show_actions:o=!0}=e;return(0,i.jsx)(l.Fragment,{children:(0,i.jsxs)("div",{className:"onboard",children:[o&&(0,i.jsx)("div",{className:"onboard__header",children:(0,i.jsxs)(es.Z,{color:"less-prominent",lineHeight:"l",children:[n,"/6"]})}),(0,i.jsxs)("div",{className:"onboard__steps",children:[(0,i.jsx)("div",{className:"onboard__label",children:(0,i.jsx)(es.Z,{as:"p",lineHeight:"l",weight:"bold",children:a})}),s&&(0,i.jsx)("video",{autoPlay:!0,loop:!0,controls:!0,preload:"auto",playsInline:!0,disablePictureInPicture:!0,controlsList:"nodownload",style:{width:"100%"},src:s}),(0,i.jsx)("div",{className:"onboard__content",children:(0,i.jsx)(i.Fragment,{children:t.map(e=>r?e:(0,i.jsx)("div",{className:"onboard__content__block",children:(0,i.jsx)(es.Z,{align:"left",as:"p",size:"xs",lineHeight:"l",children:e})},`onboard--${(0,ak.Fs)()}`))})})]})]})})}),aS={showProgress:!1,spotlightClicks:!1,disableBeacon:!0,disableOverlay:!0,disableCloseOnEsc:!0},aw=[{target:"#id-bot-builder",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Get started on D-Bot"}),content:[(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Create your bot using our drag-and-drop blocks or click Quick Strategy to choose from the ready-to-use bot templates."})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.Xx,{i18n_default_text:"We also provide a guide on the Tutorial tab to show you how you can build and execute a simple strategy."})})],media:"/assets/videos/dbot-onboarding-tour-step-1.mp4",step_index:1}),...aS,disableOverlay:!1},{target:"#id-charts",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Monitor the market"}),content:[(0,i.jsx)(y.Xx,{i18n_default_text:"View the market price of your favourite assets."},"view the market")],media:"/assets/videos/dbot-onboarding-tour-step-2.mp4",step_index:2}),...aS,disableOverlay:!1},{target:"#id-tutorials",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Learn more with our tutorials"}),content:[(0,i.jsx)(y.Xx,{i18n_default_text:"Explore the video guides and FAQs to build your bot in the tutorials tab."},"explore tutorials")],media:"/assets/videos/dbot-onboarding-tour-step-3.mp4",step_index:3}),...aS,disableOverlay:!1},{target:"#tab__dashboard__table__tiles",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Use these shortcuts"}),content:[(0,i.jsx)(y.Xx,{i18n_default_text:"You can also import or build your bot using any of these shortcuts."},"use shortcuts")],step_index:4}),placement:(0,z.rK)()?"left":"right",...aS,disableOverlay:!1},{target:".dc-drawer__container",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Check your bot’s performance"}),content:[(0,i.jsx)(y.Xx,{i18n_default_text:"See how your bot is doing in real-time."},"check bot performance")],media:"/assets/videos/dbot-onboarding-tour-step-5.mp4",step_index:5}),placement:(0,z.rK)()?"right":"left",...aS,disableOverlay:!1},{target:".animation__wrapper",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Run your bot"}),content:[(0,i.jsx)(y.Xx,{i18n_default_text:"Click <0>Run</0> when you want to start trading, and click <0>Stop</0> when you want to stop.",components:[(0,i.jsx)("strong",{},0)]},"run your bot")],media:"/assets/videos/dbot-onboarding-tour-step-6.mp4",step_index:6}),...aS,disableOverlay:!1},{target:"#id-tutorials",content:(0,i.jsx)(aT,{label:(0,i.jsx)(y.Xx,{i18n_default_text:"Want to retake the tour?"}),content:[(0,i.jsx)(es.Z,{as:"p",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Head to the Tutorials tab to do so."})},"0-id-tutorials")],step_index:7,show_actions:!1,has_localize_component:!0}),locale:{last:(0,y.NC)("Got it, thanks!")},...aS,hideBackButton:!0,disableOverlay:!1}],aE=[{target:".animation__wrapper",content:(0,i.jsx)(e=>{let{show_label:t=!1}=e;return(0,i.jsxs)("div",{className:"joyride-content",children:[t&&(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 1 :"})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"First, set the <0>Trade parameters</0> block.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("div",{className:"joyride-content__left joyride-content__sub-title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>1. Trade parameters:<0>",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"First, set <0>Market</0> to Derived > Continuous Indices > Volatility 100 (1s) Index.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Then, set <0>Trade type</0> to Up/Down > Rise/Fall.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"For <0>Contract type,</0> set it to Both.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"For <0>Default candle interval,</0> set it to 1 minute",components:[(0,i.jsx)("strong",{},0)]})})]})})]})},{show_label:!0}),placement:(0,z.rK)()?"bottom":"right",...aS},{target:".animation__wrapper",content:(0,i.jsx)(()=>(0,i.jsxs)("div",{className:"joyride-content",children:[(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"For <0>Trade options</0>, set it as below:",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Duration</0>: Ticks 1",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Stake: USD</0> 10 (min: 0.35 - max: 50000)",components:[(0,i.jsx)("strong",{},0)]})})]})})]}),{}),placement:(0,z.rK)()?"bottom":"right",...aS},{target:".animation__wrapper",content:(0,i.jsx)(e=>{let{show_label:t=!1}=e;return(0,i.jsxs)("div",{className:"joyride-content",children:[t&&(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 2 :"})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Then, set the <0>Purchase conditions</0> block.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("div",{className:"joyride-content__left joyride-content__sub-title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>2. Purchase conditions</0>:",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Purchase</0>: Rise",components:[(0,i.jsx)("strong",{},0)]})})})})]})},{show_label:!0}),placement:(0,z.rK)()?"bottom":"right",...aS},{target:".animation__wrapper",content:(0,i.jsx)(e=>{let{show_label:t=!1}=e;return(0,i.jsxs)("div",{className:"joyride-content",children:[t&&(0,i.jsx)("div",{className:"joyride-content__left joyride-content__left__step-three",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 3 :"})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The third block is <0>optional</0>. You may use this block if you want to sell your contract before it expires. For now, leave the block as it is. ",components:[(0,i.jsx)("strong",{},0)]})})]})},{show_label:!0}),placement:(0,z.rK)()?"bottom":"right",...aS},{target:".animation__wrapper",content:(0,i.jsx)(e=>{let{show_label:t=!1}=e;return(0,i.jsxs)("div",{className:"joyride-content",children:[t&&(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 4 :"})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Next, go to <0>Utility tab</0> under the Blocks menu. Tap the drop-down arrow and hit <0>Loops</0>.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsxs)("div",{className:"joyride-content__left",children:[(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Look for the <0>Repeat While/Until</0>, and click the + icon to add the block to the workspace area.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Choose <0>until</0> as the repeat option.",components:[(0,i.jsx)("strong",{},0)]})})]}),(0,i.jsxs)("div",{className:"joyride-content__left joyride-content__with-icon",children:[(0,i.jsx)("div",{className:"joyride-content__with-icon__left",children:(0,i.jsx)(aC.Z,{className:"db-contract-card__result-icon",fill:"#4bb4b3"})}),(0,i.jsx)("div",{className:"joyride-content__with-icon__right",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Pro tip: You can also click and drag out the desired block",components:[(0,i.jsx)("strong",{},0)]})})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("video",{autoPlay:!0,loop:!0,controls:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,controlsList:"nodownload",children:(0,i.jsx)("source",{src:"/assets/videos/bot-builder-tour-step-4.mp4",type:"video/mp4"})})})]})},{show_label:!0}),placement:(0,z.rK)()?"bottom":"right",...aS},{target:".animation__wrapper",content:(0,i.jsx)(e=>{let{show_label:t=!1}=e;return(0,i.jsxs)("div",{className:"joyride-content",children:[t&&(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 5 :"})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Now, tap the <0>Analysis</0> drop-down arrow and hit <0>Contract</0>.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Go to the <0>Last trade result</0> block and click + icon to add the <0>Result is Win</0> block to the workspace.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Then, drag the <0>Result is win</0> into the empty slot next to <0>repeat until</0> block.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Now, go to the <0>Restart trading conditions</0> block.",components:[(0,i.jsx)("strong",{},0)]})}),(0,i.jsx)("li",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Drag the <0>Trade again</0> block and add it into the <0>do</0> part of the <0>Repeat until</0> block.",components:[(0,i.jsx)("strong",{},0)]})})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("video",{autoPlay:!0,loop:!0,controls:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,controlsList:"nodownload",children:(0,i.jsx)("source",{src:"/assets/videos/bot-builder-tour-step-5.mp4",type:"video/mp4"})})})]})},{show_label:!0}),placement:(0,z.rK)()?"bottom":"right",...aS},{target:".animation__wrapper",content:(0,i.jsx)(e=>{let{show_label:t=!1}=e;return(0,i.jsxs)("div",{className:"joyride-content",children:[t&&(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 6 :"})}),(0,i.jsx)("div",{className:"joyride-content__left",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Finally, drag and add the whole <0>Repeat</0> block to the <0>Restart trading conditions</0> block.",components:[(0,i.jsx)("strong",{},0)]})})]})},{show_label:!0}),locale:{last:(0,y.NC)("Next")},...aS}],aI=[{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 1"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"First, click the Import icon on the tool bar."},"step-1")},"step-1-wrapper")],tour_step_key:1},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 2"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Next, import your bot directly from your mobile device or from Google Drive."},"step-2")},"step-2-wrapper")],tour_step_key:2},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Step 3"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Once imported, you will see a preview of the bot on the workspace. Click run to start trading with this bot."},"step-3")},"step-3-wrapper")],tour_step_key:3}],aA=[{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Get started on D-Bot"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Hi! Hit <0>Start</0> for a quick tour.",components:[(0,i.jsx)("strong",{},0)]},"get-started-on-deriv-bot")},"get-started-on-deriv-bot-wrapper")],tour_step_key:1},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Import or choose your bot"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Import your bot or tap Quick Strategies to choose from the ready-to-use bot templates."},"import-or-choose-your-bot")},"import-or-choose-your-bot-wrapper")],media:"/assets/videos/dbot-mobile-onboarding-step-1.mp4",tour_step_key:2},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Monitor the market"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"View the market price of your favourite assets."},"monitor-the-market")},"monitor-the-market-wrapper")],media:"/assets/videos/dbot-mobile-onboarding-step-2.mp4",tour_step_key:3},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Learn more with our tutorials"}),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Explore the video guides and FAQs to build your bot in the tutorials tab."},"learn-more-with-our-tutorials")},"learn-more-with-our-tutorials-wrapper")],media:"/assets/videos/dbot-mobile-onboarding-step-3.mp4",tour_step_key:4},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Use these shortcuts"}),img:(0,aN.oY)("dbot-mobile-onboarding-step-4.png"),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"You can also import or build your bot using any of these shortcuts."},"use-these-shortcuts")},"use-these-shortcuts-wrapper")],tour_step_key:5},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Check your bot’s performance"}),media:"/assets/videos/dbot-mobile-onboarding-step-5.mp4",content:[(0,i.jsxs)("span",{children:[(0,i.jsx)(y.Xx,{i18n_default_text:"See how your bot is doing in real-time."},"check-your-bots-performance"),","]},"check-your-bots-performance-wrapper")],tour_step_key:6},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Run your bot"}),media:"/assets/videos/dbot-mobile-onboarding-step-6.mp4",content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Click <0>Run</0> when you want to start trading, and click <0>Stop</0> when you want to stop.",components:[(0,i.jsx)("strong",{},0)]},"run-your-bot")},"run-your-bot-wrapper")],tour_step_key:7},{header:(0,i.jsx)(y.Xx,{i18n_default_text:"Want to retake the tour?"}),img:(0,aN.oY)("dbot-mobile-onboarding-step-7.png"),content:[(0,i.jsx)("span",{children:(0,i.jsx)(y.Xx,{i18n_default_text:"Head to the Tutorials tab to do so."},"want-to-retake-the-tour")},"want-to-retake-the-tour-wrapper")],tour_step_key:8}],aR=e=>e?(0,i.jsx)(y.Xx,{i18n_default_text:"Here’s a quick guide on how to use D-Bot on the go."},"tour-dialog-info-mobile"):(0,i.jsx)(y.Xx,{i18n_default_text:"Learn how to build your bot from scratch using a simple strategy."},"tour-dialog-info-desktop"),aD=e=>e?(0,i.jsx)(y.Xx,{i18n_default_text:"You can import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot."},"tour-dialog-action-mobile"):(0,i.jsx)(y.Xx,{i18n_default_text:"Hit the <0>Start</0> button to begin and follow the tutorial.",components:[(0,i.jsx)("strong",{},0)]},"tour-dialog-action-desktop"),aO=(0,i.jsx)(y.Xx,{i18n_default_text:"Get started on D-Bot"},"onboarding-tour-header"),aL=e=>e?(0,i.jsx)(y.Xx,{i18n_default_text:"Bot Builder guide"},"tour_header-mobile"):(0,i.jsx)(y.Xx,{i18n_default_text:"Let's build a Bot!"},"tour_header-desktop");var aM=s("84006");let aF=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{active_tab:t,is_tour_dialog_visible:s,setTourDialogVisibility:a,setActiveTour:n,setShowMobileTourDialog:l}=e,{isDesktop:r}=(0,N.F)(),o=1===t?"onboard_tour_token":"bot_builder_token",c=()=>{!r&&l(!1),a(!1),n(""),(0,aM.X7)(new Date().getTime(),o)},d=t===sp.ve.DASHBOARD,u=aR(!r),h=aD(!r),_=1===t?aO:aL(!r);return(0,i.jsx)("div",{children:(0,i.jsxs)(sq.Z,{is_visible:s,cancel_button_text:(0,y.NC)("Skip"),onCancel:()=>c(),confirm_button_text:(0,y.NC)("Start"),onConfirm:()=>{n(aM.TJ[t]),!r&&l(!1),a(!1),(0,aM.X7)(new Date().getTime(),o)},is_mobile_full_width:!0,className:"dc-dialog tour-dialog",has_close_icon:!1,portal_element_id:"modal_root",children:[(0,i.jsx)("div",{className:"dc-dialog__content__header",children:(0,i.jsx)(es.Z,{weight:"bold",color:"prominent",size:r?"s":"xs",children:_})}),(0,i.jsx)("div",{className:"dc-dialog__content__description",children:(0,i.jsx)(es.Z,{size:r?"xs":"xxs",color:"prominent",children:(0,i.jsx)(i.Fragment,{children:d?(0,i.jsx)(y.Xx,{i18n_default_text:"Hi! Hit <0>Start</0> for a quick tour.",components:[(0,i.jsx)("strong",{},0)]},0):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"dc-dialog__content__description__text",children:u}),(0,i.jsx)("div",{className:"dc-dialog__content__description__text",children:h}),(0,i.jsx)("div",{className:"dc-dialog__content__description__text",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Note: You can also find this tutorial in the <0>Tutorials</0> tab.",components:[(0,i.jsx)("strong",{},0)]},0)})]})})})})]})})}),aU=()=>{let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(!1);return{is_finished:e,handleJoyrideCallback:e=>{let{action:s,status:n}=e;"finished"===n?t(!0):("close"===s||"skip"===s)&&a(!0)},setIsFinished:t,is_close_tour:s,setIsCloseTour:a}},aP=(0,r.Pi)(()=>{let{is_close_tour:e,is_finished:t,handleJoyrideCallback:s,setIsCloseTour:a}=aU(),{dashboard:n,load_modal:r}=(0,j.oR)(),{active_tab:o,active_tour:c,setActiveTour:d,setTourDialogVisibility:u}=n,{is_load_modal_open:h}=r;return!(0,av.$8)("bot_builder_token")&&2===o&&u(!0),l.useEffect(()=>{t?(u(!0),d("")):e&&(d(""),a(!1))},[e,t,d,a,u]),(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)(ay,{}):h?null:(0,i.jsx)(aF,{}),c&&(0,i.jsx)(af,{handleCallback:s,steps:aE,styles:{options:{arrowColor:"transparent",backgroundColor:"var(--general-main-2)",primaryColor:"var(--brand-purple-coral)",textColor:"var(--text-general)"}}})]})}),aZ=e=>{let{step:t,steps_list:s,is_transition:a=!1,onStepChange:n}=e;return(0,i.jsx)("div",{className:"dc-progress-bar-tracker",children:s.map((e,s)=>{let l=t===s+1;return(0,i.jsx)("div",{onClick:()=>{n(s+1)},className:F()({"dc-progress-bar-tracker-rectangle":l,"dc-progress-bar-tracker-circle":!l,"dc-progress-bar-tracker-transition":a})},e)})})},az=e=>{let{label:t,type:s="default",...a}=e;return t?(0,i.jsx)("button",{className:s,...a,children:(0,i.jsx)(es.Z,{color:"prominent",align:"center",weight:"bold",as:"span",lineHeight:"s",size:"xs",children:t})}):null},aB=(0,r.Pi)(()=>{let{dashboard:e,load_modal:t,quick_strategy:s}=(0,j.oR)(),{toggleTourLoadModal:a}=t,{onTourEnd:n,setTourActiveStep:r,active_tour:o,show_mobile_tour_dialog:c,active_tab:d,setShowMobileTourDialog:u,setTourDialogVisibility:h}=e,{is_open:_}=s,[m,x]=l.useState(1),p=aI.find(e=>{let{tour_step_key:t}=e;return t===m}),v=3===m?"finish-bot-builder-tour":"next-bot-builder-tour";l.useEffect(()=>{r(m),c||(0,aM._y)(o,m),2===m?a(!0):""!==o&&a(!1),!(0,av.$8)("bot_builder_token")&&2===d&&(_?h(!1):h(!0),u(!0))},[m,c]);let b=3===m?(0,y.NC)("Finish"):(0,y.NC)("Next"),g="onboarding"===o;return(0,i.jsxs)(i.Fragment,{children:[c&&(0,i.jsx)(aF,{}),o&&!c&&(0,i.jsxs)("div",{"data-testid":"botbuilder-tour-mobile",className:"dbot-slider dbot-slider__bot-builder-tour",children:[(0,i.jsx)("div",{className:"dbot-slider__label",children:(0,i.jsx)(es.Z,{as:"span",size:"xs",weight:"bold",children:null==p?void 0:p.header})}),(0,i.jsx)("div",{className:"dbot-slider__content",children:(0,i.jsx)(es.Z,{as:"span",lineHeight:"s",size:"xs",children:null==p?void 0:p.content})}),(0,i.jsxs)("div",{className:"dbot-slider__status",children:[(0,i.jsx)("div",{className:"dbot-slider__progress-bar",children:(0,i.jsx)(aZ,{step:m,steps_list:aI.map(e=>e.tour_step_key.toString()),onStepChange:x})}),(0,i.jsxs)("div",{className:"dbot-slider__button-group",children:[1!==m&&(0,i.jsx)(az,{onClick:()=>{x(m-1)},label:(0,y.NC)("Previous"),"data-testid":"prev-bot-builder-tour"}),(0,i.jsx)(az,{type:"danger",onClick:()=>{x(m+1),n(m,g)},label:b,"data-testid":v})]})]})]})]})}),aV=(0,r.Pi)(e=>{let{is_mobile:t}=e;return(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(aB,{}):(0,i.jsx)(aP,{})})});var a$=s("16310");let aX=e=>{let{form_values:t,selected_strategy:s}=e;sQ.Analytics.trackEvent("ce_bot_form",{action:s0.om.RUN_QUICK_STRATEGY,form_name:s0.oH,subform_name:"quick_strategy",strategy_name:(0,s2.gc)(s),...(0,s2.qc)({form_values:t,selected_strategy:s})})},aG=e=>{let{form_values:t,selected_strategy:s}=e;sQ.Analytics.trackEvent("ce_bot_form",{action:s0.om.EDIT_QUICK_STRATEGY,form_name:s0.oH,subform_name:"quick_strategy",strategy_name:(0,s2.gc)(s),...(0,s2.qc)({form_values:t,selected_strategy:s})})};var aH=s("85414"),aq=s("53890"),aY=s("81624");var aW=((n={})[n.StrategySelect=0]="StrategySelect",n[n.StrategyVerified=1]="StrategyVerified",n[n.StrategyCompleted=2]="StrategyCompleted",n);let aK=Object.freeze({ALL:0,ACCUMULATORS:1,OPTIONS:2}),aJ=[(0,y.NC)("All"),(0,y.NC)("Accumulators"),(0,y.NC)("Options")],aQ=[{name:"MARTINGALE",display_name:(0,aH.j)().MARTINGALE.label,id:0,parent:[(0,y.NC)("Options")]},{name:"D_ALEMBERT",display_name:(0,aH.j)().D_ALEMBERT.label,id:1,parent:[(0,y.NC)("Options")]},{name:"REVERSE_MARTINGALE",display_name:(0,aH.j)().REVERSE_MARTINGALE.label,id:2,parent:[(0,y.NC)("Options")]},{name:"REVERSE_D_ALEMBERT",display_name:(0,aH.j)().REVERSE_D_ALEMBERT.label,id:3,parent:[(0,y.NC)("Options")]},{name:"OSCARS_GRIND",display_name:(0,aH.j)().OSCARS_GRIND.label,id:4,parent:[(0,y.NC)("Options")]},{name:"STRATEGY_1_3_2_6",display_name:(0,aH.j)().STRATEGY_1_3_2_6.label,id:5,parent:[(0,y.NC)("Options")]},{name:"ACCUMULATORS_MARTINGALE",display_name:(0,aH.j)().ACCUMULATORS_MARTINGALE.label,id:6,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_MARTINGALE_ON_STAT_RESET",display_name:(0,aH.j)().ACCUMULATORS_MARTINGALE_ON_STAT_RESET.label,id:7,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_DALEMBERT",display_name:(0,aH.j)().ACCUMULATORS_DALEMBERT.label,id:8,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_DALEMBERT_ON_STAT_RESET",display_name:(0,aH.j)().ACCUMULATORS_DALEMBERT_ON_STAT_RESET.label,id:9,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_REVERSE_MARTINGALE",display_name:(0,aH.j)().ACCUMULATORS_REVERSE_MARTINGALE.label,id:10,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET",display_name:(0,aH.j)().ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET.label,id:11,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_REVERSE_DALEMBERT",display_name:(0,aH.j)().ACCUMULATORS_REVERSE_DALEMBERT.label,id:12,parent:[(0,y.NC)("Accumulators")]},{name:"ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET",display_name:(0,aH.j)().ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET.label,id:13,parent:[(0,y.NC)("Accumulators")]}],a0=e=>{let{current_step:t,is_mobile:s=!1}=e,a=t===aW.StrategyCompleted?100:50;return s?(0,i.jsx)(aY.D,{percentage:a,label:"",danger_limit:101,is_loading:!1,warning_limit:0}):(0,i.jsx)("div",{className:"qs-stepper",children:(0,i.jsx)(aq.t,{currentStep:t,labels:[(0,y.NC)("Default"),(0,y.NC)("Strategy template"),(0,y.NC)("Trade parameters")]})})},a1=e=>{let{content_data:t,expanded:s=!1,test_id:a="dbot-acc-id",is_cursive:n=!1,no_collapsible:r=!0,has_subtitle:o=!0,font_size:c,...d}=e,[u,h]=(0,l.useState)(s),{quick_strategy:{selected_strategy:_}}=(0,j.oR)();if(!t)return null;let{content:m,header:x}=t,{expanded_subtitles_storage:p,setExpandedSubtitlesStorage:v}=d,b=`${x}__${_}`.split(" ").join("_").toLocaleLowerCase(),g=!!p&&p[b]||u||!o;return(0,i.jsxs)("div",{className:"dbot-accordion",children:[o&&(0,i.jsxs)("button",{className:F()("dbot-accordion__navbar",{"dbot-accordion__navbar--no-event":!r}),"data-testid":a,onClick:e=>{e.preventDefault(),h(!g),p&&v&&v({...p,[b]:!g})},children:[(0,i.jsx)("div",{className:F()("dbot-accordion__header",{"dbot-accordion__header--cursive":n}),children:(0,i.jsx)(es.Z,{as:"span",size:c,weight:"bold",children:x})}),r&&(0,i.jsx)("div",{className:"dbot-accordion__icon",children:g?(0,i.jsx)(as.Z,{}):(0,i.jsx)(at.Z,{})})]}),(0,i.jsx)("div",{className:F()("dbot-accordion__content",{"dbot-accordion__content--open":g}),"data-testid":"accordion-content",children:(0,i.jsx)(es.Z,{as:"span",lineHeight:"s",size:c,children:m})})]})};var a2=s("48118");let a5=(0,r.Pi)(e=>{var t,s;let{item:a,font_size:n}=e,{ui:l}=(0,j.oR)(),{is_dark_mode_on:r}=l,o=(null==a?void 0:a.className)??"";switch(a.type){case"text":{let e=F()(`qs__description__content ${o}`);return(0,i.jsx)(i.Fragment,{children:null==a?void 0:null===(t=a.content)||void 0===t?void 0:t.map(t=>(0,i.jsx)("div",{className:e,children:(0,i.jsx)(es.Z,{size:n,children:(0,a2.ZP)(t)})},t))})}case"text_italic":{let e=F()(`qs__description__content italic ${o}`);return(0,i.jsx)(i.Fragment,{children:null==a?void 0:null===(s=a.content)||void 0===s?void 0:s.map(t=>(0,i.jsx)("div",{className:e,children:(0,i.jsx)(es.Z,{size:n,children:(0,a2.ZP)(t)})},t))})}case"media":{let e=F()(`qs__description__image ${o}`);return(0,i.jsx)("div",{className:e,style:null==a?void 0:a.styles,children:(0,i.jsx)("img",{src:r?a.dark_src??a.src:a.src,alt:a.alt})})}default:return null}}),a8=e=>{let{item:t,font_size:s}=e,a=Array.isArray(t)?t:t.slice(1);return(0,i.jsx)(i.Fragment,{children:Array.isArray(a)&&(null==a?void 0:a.map(e=>(0,i.jsx)(l.Fragment,{children:(0,i.jsx)(a5,{item:e,font_size:s})},e.id)))})},a3=(0,r.Pi)(e=>{let{tutorial_selected_strategy:t,grouped_objects_by_title:s,expanded_subtitles_storage:a,setExpandedSubtitlesStorage:n}=e,{isDesktop:r}=(0,N.F)(),o=t?"s":"xs",c=l.useMemo(()=>r?o:"xs",[r,o]);return(0,i.jsx)(i.Fragment,{children:Array.isArray(s)&&s.map(e=>{var t,s,l,r;let o=(null==e?void 0:null===(s=e[0])||void 0===s?void 0:null===(t=s.content)||void 0===t?void 0:t[0])??"";return(0,i.jsx)(a1,{content_data:{header:o,content:(0,i.jsx)(a8,{item:e,font_size:c})},expanded:!!(null===(l=e[0])||void 0===l?void 0:l.expanded),is_cursive:!1,no_collapsible:null===(r=e[0])||void 0===r?void 0:r.no_collapsible,has_subtitle:!!o,expanded_subtitles_storage:a,setExpandedSubtitlesStorage:n,font_size:c},`accordion-${o}`)})})}),a4=(0,r.Pi)(e=>{var t;let{formfields:s,active_tab:a,tutorial_selected_strategy:n}=e,{quick_strategy:r}=(0,j.oR)(),{selected_strategy:o}=r,c={},[d,u]=(0,l.useState)(c),h=(0,aH.j)()[n||o];let _=Array.isArray(null==h?void 0:h.description)?null==h?void 0:null===(t=h.description)||void 0===t?void 0:t.reduce((e,t,s)=>{if("subtitle_italic"===t.type||"subtitle"===t.type){let s,a;e.push([]);c[s=t,a=o,`${s.content[0]}__${a}`.split(" ").join("_").toLowerCase()]=(null==t?void 0:t.expanded)??!1}return e[e.length-1].push({...t,id:s}),e},[]):[{type:"text",content:[null==h?void 0:h.description]}];return(0,i.jsx)(i.Fragment,{children:"TRADE_PARAMETERS"===a?(0,i.jsx)("div",{className:"qs__body__content__form",children:s}):(0,i.jsx)("div",{className:"qs__body__content__description",children:(0,i.jsx)(a3,{tutorial_selected_strategy:n,grouped_objects_by_title:_,expanded_subtitles_storage:d,setExpandedSubtitlesStorage:u})})})});var a7=s("95975"),a6=s("35371"),a9=s("51667");let ne=e=>{let{title:t,items:s,onSelectStrategy:a}=e;return s.length>0?(0,i.jsxs)("div",{className:"strategy-template-picker__strategy",children:[(0,i.jsx)("div",{className:"strategy-template-picker__title",children:(0,i.jsx)(es.Z,{size:"xs",weight:"bold",children:t})}),s.map((e,s)=>(0,i.jsx)("div",{className:"strategy-template-picker__links",children:(0,i.jsx)(g.r,{hasChevron:!0,size:"sm",onClick:()=>a(e.name,t),children:e.display_name})},s))]}):null},nt=e=>{let{selector_chip_value:t,search_value:s,is_searching:a,onSelectStrategy:n}=e,l=[],r=!1,o=e=>(r=e.toLowerCase().includes(s.toLowerCase()),a&&r||!a);aQ.filter(e=>e.parent.some(e=>o(e))||e.display_name.toLowerCase().includes(s.toLowerCase())).forEach(e=>{let t={...e};if(a&&""!==s){if(e.display_name.toLowerCase().includes(s.toLowerCase()))t.parent=[...e.parent];else{let a=t.parent.filter(e=>e.toLowerCase().includes(s.toLowerCase()));t.parent=a.length>0?a:e.parent}}else t.parent=[...e.parent];l.push(t)});let c=l.filter(e=>e.parent.includes(aJ[aK.OPTIONS])),d=l.filter(e=>e.parent.includes(aJ[aK.MULTIPLIERS])),u=l.filter(e=>e.parent.includes(aJ[aK.ACCUMULATORS])),h=aJ[t],_=[{type:(0,y.NC)("Accumulators"),items:u},{type:(0,y.NC)("Options"),items:c},{type:(0,y.NC)("Multipliers"),items:d}],m=e=>h===(0,y.NC)("All")||h===e,x=_.filter(e=>{let{type:t}=e;return m(t)}),p=x.some(e=>{let{items:t}=e;return t.length>0});return l.length>0&&p?(0,i.jsx)("div",{className:"strategy-template-picker__strategies",children:x.map(e=>{let{type:t,items:s}=e;return(0,i.jsx)(ne,{title:t,items:s,onSelectStrategy:n},t)})}):(0,i.jsx)("div",{className:"no-results",children:(0,i.jsx)(es.Z,{size:"xs",children:(0,y.NC)("No results found")})})},ns=(0,r.Pi)(e=>{let{setCurrentStep:t,setSelectedTradeType:s}=e,{dashboard:a,quick_strategy:n}=(0,j.oR)(),{setActiveTabTutorial:r,setActiveTab:o,setFAQSearchValue:c,filterTuotrialTab:d}=a,{setFormVisibility:u,setSelectedStrategy:h}=n,[_,m]=l.useState(0),[x,p]=l.useState(!1),[v,b]=l.useState(""),g=e=>{m(e)};return(0,i.jsxs)("div",{className:"strategy-template-picker",children:[(0,i.jsxs)("div",{className:"strategy-template-picker__panel",children:[(0,i.jsx)(a6.U,{onChange:e=>{b(e.target.value),p(!0),c(e.target.value),d(e.target.value)},placeholder:(0,y.NC)("Search"),type:"text",value:v,inputSize:"sm"}),(0,i.jsx)("button",{className:"strategy-template-picker__icon",onClick:()=>{o(sp.ve.TUTORIAL),r(2),u(!1)},children:(0,i.jsx)(a7.Z,{iconSize:"sm"})})]}),(0,i.jsx)("div",{className:"strategy-template-picker__chips",children:aJ.map((e,t)=>(0,i.jsx)(a9.A.Selectable,{onClick:()=>g(t),selected:t==_,size:"sm",label:e},t))}),(0,i.jsx)(nt,{selector_chip_value:_,search_value:v,is_searching:x,onSelectStrategy:(e,a)=>{h(e),s(a),t(aW.StrategyVerified)}})]})}),na=()=>{let{client:e}=(0,j.oR)(),{currency:t,balance:s,is_logged_in:a}=e,{submitForm:n,setFieldValue:i,values:l,isValid:r,validateForm:o}=(0,eU.u6)(),{quick_strategy:c,run_panel:d}=(0,j.oR)(),{toggleStopBotDialog:u,setLossThresholdWarningData:h,loss_threshold_warning_data:_,onSubmit:m}=c,x=async()=>{d.is_running?(await i("action","EDIT"),o(),n(),u()):(await i("action","RUN"),o(),n().then(e=>{r&&e&&m(e)}))};return{handleSubmit:async()=>{var e;let n=Number((null==l?void 0:l.loss)??0),i=Number((null==l?void 0:l.profit)??0),r=JSON.parse((null===(e=localStorage)||void 0===e?void 0:e.getItem("qs-dont-show-loss-threshold-warning"))??"false");!_.already_shown&&(n>.5*Number(s??0)||n>2*i)&&a&&!r?h({show:!0,loss_amount:n,currency:t,already_shown:!0}):x()},proceedFormSubmission:x}},nn=e=>{let{selected_trade_type:t,selected_startegy_label:s,children:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"qs__selected-options",children:[(0,i.jsxs)("div",{className:"qs__selected-options__item",children:[(0,i.jsx)(es.Z,{size:"xs",lineHeight:"s",children:(0,y.NC)("Trade type")}),(0,i.jsx)(es.Z,{size:"xs",weight:"bold",lineHeight:"s",children:t})]}),(0,i.jsxs)("div",{className:"qs__selected-options__item",children:[(0,i.jsx)(es.Z,{size:"xs",lineHeight:"s",children:(0,y.NC)("Strategy")}),(0,i.jsx)(es.Z,{className:"qs__selected-options__item__description",weight:"bold",lineHeight:"s",children:s})]})]}),(0,i.jsx)(a4,{formfields:a,active_tab:"TRADE_PARAMETERS"})]})},ni=(0,r.Pi)(e=>{let{children:t,current_step:s,setCurrentStep:a,onClickClose:n,selected_trade_type:r,setSelectedTradeType:o}=e,c=l.useRef(null),{submitForm:d,isValid:u,setFieldValue:h,validateForm:_,values:m}=(0,eU.u6)(),{quick_strategy:x}=(0,j.oR)(),{selected_strategy:p,onSubmit:v,is_stop_bot_dialog_open:b}=x,{handleSubmit:g}=na(),f=(0,aH.j)()[p].label,N=s===aW.StrategySelect;l.useEffect(()=>{u&&s===aW.StrategyVerified&&a(aW.StrategyCompleted),!u&&s===aW.StrategyCompleted&&a(aW.StrategyVerified)},[u,s]),l.useEffect(()=>{_()},[p,_]);let C=async()=>{await h("action","EDIT"),_(),d().then(e=>{u&&e&&(aG({form_values:m,selected_strategy:p}),v(e))})},k=()=>{g()},T=l.useCallback(()=>{switch(s){case aW.StrategySelect:return(0,i.jsx)(ns,{setCurrentStep:a,setSelectedTradeType:o});case aW.StrategyVerified:case aW.StrategyCompleted:return(0,i.jsx)(nn,{selected_trade_type:r,selected_startegy_label:f,children:t});default:return null}},[s,r,f,t,a,o]);return!b&&(0,i.jsxs)("div",{className:"qs",children:[(0,i.jsxs)("div",{className:"qs__head",children:[(0,i.jsx)("div",{className:"qs__head__title",children:(0,i.jsx)(es.Z,{weight:"bold",children:(0,y.NC)("Quick Strategy")})}),(0,i.jsx)("div",{className:"qs__head__action",children:(0,i.jsx)("span",{"data-testid":"qs-desktop-close-button",onClick:n,tabIndex:0,onKeyDown:e=>{"Enter"===e.key&&n()},children:(0,i.jsx)(E.Z,{height:"20px",width:"20px"})})})]}),(0,i.jsxs)("div",{className:"qs__body",children:[(0,i.jsxs)("div",{className:"qs__body__sidebar",children:[(0,i.jsx)("div",{className:"qs__body__sidebar__subtitle",children:(0,i.jsx)(es.Z,{size:"xs",children:(0,y.NC)("Choose a template below and set your trade parameters.")})}),(0,i.jsx)(a0,{current_step:s})]}),(0,i.jsxs)("div",{className:"qs__body__content",children:[(0,i.jsx)(er.Z,{className:"qs__form__container qs__form__container--footer",autohide:!1,refSetter:c,children:T()}),!N&&(0,i.jsxs)("div",{className:"qs__body__content__footer",children:[(0,i.jsx)(eD.Z,{transparent:!0,classNameSpan:"qs__body__content__footer--back",disabled:N,onClick:()=>{a(aW.StrategySelect)},children:(0,y.NC)("Back")}),(0,i.jsx)(eD.Z,{secondary:!0,disabled:!u,onClick:C,children:(0,y.NC)("Load")}),(0,i.jsx)(eD.Z,{"data-testid":"qs-run-button",primary:!0,onClick:e=>{e.preventDefault(),k()},disabled:!u,children:(0,y.NC)("Run")})]})]})]})]})}),nl=l.memo(ni),nr=(0,r.Pi)(e=>{let{children:t,current_step:s,selected_trade_type:a,setCurrentStep:n,setSelectedTradeType:r}=e,{isValid:o,validateForm:c}=(0,eU.u6)(),{quick_strategy:d}=(0,j.oR)(),{selected_strategy:u}=d,h=(0,aH.j)()[u].label,_=s===aW.StrategyVerified||s===aW.StrategyCompleted,m=s===aW.StrategySelect;return l.useEffect(()=>{c()},[u,c]),l.useEffect(()=>{o&&s===aW.StrategyVerified&&n(aW.StrategyCompleted),!o&&s===aW.StrategyCompleted&&n(aW.StrategyVerified)},[o,s]),(0,i.jsx)("div",{className:"qs",children:(0,i.jsx)("div",{className:"qs__body",children:(0,i.jsx)("div",{className:"qs__body__content",children:(0,i.jsxs)(er.Z,{className:F()("qs__form__container qs__form__container--footer",{"qs__form__container--template":m}),autohide:!1,children:[(0,i.jsx)(a0,{setCurrentStep:n,current_step:s,isValid:o,is_mobile:!0}),m&&(0,i.jsx)(ns,{setSelectedTradeType:r,setCurrentStep:n}),_&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"qs__selected-options",children:[(0,i.jsxs)("div",{className:"qs__selected-options__item",children:[(0,i.jsx)(es.Z,{size:"xs",children:(0,y.NC)("Trade type")}),(0,i.jsx)(es.Z,{size:"xs",weight:"bold",children:a})]}),(0,i.jsxs)("div",{className:"qs__selected-options__item",children:[(0,i.jsx)(es.Z,{size:"xs",children:(0,y.NC)("Strategy")}),(0,i.jsx)(es.Z,{className:"qs__selected-options__item__description",size:"xs",weight:"bold",children:h})]})]}),(0,i.jsx)(a4,{formfields:t,active_tab:"TRADE_PARAMETERS"})]})]})})})})}),no=(0,r.Pi)(e=>{let{current_step:t,setCurrentStep:s}=e,{quick_strategy:a}=(0,j.oR)(),{selected_strategy:n}=a,{isValid:l,values:r}=(0,eU.u6)(),{handleSubmit:o}=na(),c=t===aW.StrategyVerified||t===aW.StrategyCompleted,d=t===aW.StrategySelect,u=()=>{aX({form_values:r,selected_strategy:n}),o()};return(0,i.jsx)(i.Fragment,{children:c&&(0,i.jsxs)("div",{className:"qs__body__content__footer",children:[(0,i.jsx)(eD.Z,{secondary:!0,disabled:d,onClick:()=>{s(aW.StrategySelect)},children:(0,y.NC)("Back")}),(0,i.jsx)(eD.Z,{primary:!0,"data-testid":"qs-run-button",type:"submit",onClick:e=>{e.preventDefault(),u()},disabled:!l,children:(0,y.NC)("Run")})]})})}),nc="loss-threshold-warning-dialog",nd=(0,r.Pi)(()=>{let{quick_strategy:e}=(0,j.oR)(),{loss_threshold_warning_data:t,setLossThresholdWarningData:s,initializeLossThresholdWarningData:a}=e,{proceedFormSubmission:n}=na();return(0,i.jsxs)(sq.Z,{portal_element_id:"modal_root",title:(0,y.NC)("Are you sure you want to continue?"),is_visible:t.show,confirm_button_text:(0,y.NC)("Yes, continue"),onConfirm:()=>{a(),n()},cancel_button_text:(0,y.NC)("Edit the amount"),onCancel:()=>{s({show:!1,highlight_field:["loss"]})},is_mobile_full_width:!1,has_close_icon:!1,className:nc,children:[(0,i.jsx)("div",{className:`${nc}__body-text`,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Please confirm that your loss threshold amount is {{loss_amount}} {{currency}}.",values:{loss_amount:null==t?void 0:t.loss_amount,currency:null==t?void 0:t.currency}})}),(0,i.jsx)(eg,{defaultChecked:!1,label:(0,y.NC)("Do not show this message again."),onChange:()=>{var e,t;let s=JSON.parse((null===(e=localStorage)||void 0===e?void 0:e.getItem("qs-dont-show-loss-threshold-warning"))??"false");null===(t=localStorage)||void 0===t||t.setItem("qs-dont-show-loss-threshold-warning",`${!s}`)}})]})});var nu=s("67026"),nh=s("63069");let n_=e=>{let{parent_rect:t,child_height:s=0}=e;return((null==t?void 0:t.top)||0)+((null==t?void 0:t.height)||0)+s},nm=e=>{let{parent_rect:t,child_height:s=0}=e;return Number(null==t?void 0:t.top)-s},nx=e=>{let{preferred_alignment:t="bottom",child_el:s,parent_el:a,should_consider_parent_height:n=!0}=e,i=null==a?void 0:a.getBoundingClientRect(),l=null==s?void 0:s.clientHeight,r=document.body.getBoundingClientRect(),{top:o,bottom:c,left:d,width:u}=i||{top:0,bottom:0,left:0,width:0},h=n_({parent_rect:i,child_height:l}),_={bottom:r.bottom-(n?o:c)+8,insetInlineStart:d,width:u,transformOrigin:"bottom"},m={top:n?c:o,insetInlineStart:d,width:u,transformOrigin:"top"};if("bottom"===t&&h<=r.height)return{style:m,placement:"bottom"};let x=nm({parent_rect:i,child_height:l});return"top"===t&&x>=0?{style:_,placement:"top"}:h-r.height<0-x?{style:m,placement:"bottom"}:{style:_,placement:"top"}};var np=s("46677");let nj=e=>{l.useEffect(()=>{if(!e)return;let t=e=>e?e.classList.contains("dc-themed-scrollbars")&&e.scrollHeight>e.clientHeight?e:t(e.parentElement):null,s=t(e.current),a=navigator.userAgent.indexOf("Firefox")>-1;return s&&(s.style.overflow="hidden",s.style.width=a?"100%":"calc(100% - 5px)"),()=>{s&&(s.style.removeProperty("overflow"),s.style.removeProperty("width"))}},[e])};var nv=s("33716");let nb=e=>{let{is_active:t,is_disabled:s,index:a,item:n,child_ref:l,onItemSelection:r,setActiveIndex:o}=e;return(0,i.jsx)("div",{ref:l,onMouseDown:e=>{e.stopPropagation(),r(n),o(a)},className:F()("dc-dropdown-list__item",{"dc-dropdown-list__item--active":t,"dc-dropdown-list__item--disabled":s}),children:"object"==typeof n?n.component||n.text:n})},ng=l.forwardRef((e,t)=>{let{active_index:s,list_items:a,is_object_list:n,onItemSelection:r,setActiveIndex:o,not_found_text:c}=e;if(null==a?void 0:a.some(e=>"object"==typeof e&&!!e.group)){let e={};a.forEach(t=>{let s="object"==typeof t&&t.group||"?";!e[s]&&(e[s]=[]),e[s].push(t)});let c=Object.keys(e),d=-1;return(0,i.jsx)(i.Fragment,{children:c.map((a,u)=>{let h=e[a],_=!!c[u+1];return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:"dc-dropdown-list__group-header",children:a}),h.map(e=>(d++,(0,i.jsx)(nb,{item:e,index:d,is_active:d===s,onItemSelection:r,setActiveIndex:o,is_object_list:n,is_disabled:"object"==typeof e&&"DISABLED"===e.disabled,child_ref:d===s?t:null},d))),_&&(0,i.jsx)("div",{className:"dc-dropdown-list__separator"})]},`group${u}`)})})}return(0,i.jsx)(i.Fragment,{children:(null==a?void 0:a.length)?a.map((e,a)=>(0,i.jsx)(nb,{item:e,index:a,is_active:a===s,onItemSelection:r,is_object_list:n,setActiveIndex:o,child_ref:a===s?t:null},a)):(0,i.jsx)("div",{className:"dc-dropdown-list__item dc-dropdown-list__item--not-found",children:c})})});ng.displayName="ListItems";let nf=e=>{let{dropdown_ref:t,list_item_ref:s,list_wrapper_ref:a}=e.dropdown_refs||{},{active_index:n,is_visible:l,list_items:r,list_height:o,onScrollStop:c,onItemSelection:d,setActiveIndex:u,style:h,not_found_text:_,portal_id:m}=e;if((null==r?void 0:r.length)&&"string"!=typeof r[0]&&"object"!=typeof r[0])throw Error("Dropdown received wrong data structure");let x=!Array.isArray(r)&&"object"==typeof r,p=(null==r?void 0:r.length)&&"string"==typeof r[0],j=(0,i.jsx)(eE.Z,{appear:l,in:l,timeout:100,classNames:{enter:"dc-dropdown-list--enter",enterDone:"dc-dropdown-list--enter-done",exit:"dc-dropdown-list--exit"},unmountOnExit:!0,children:(0,i.jsx)("div",{style:h,className:"dc-dropdown-list",ref:a,children:(0,i.jsx)(e7.Z,{height:o||"220px",refSetter:t,onScroll:c,children:x?Object.keys(r).map((e,t)=>(0,i.jsx)(ng,{not_found_text:_,active_index:n,list_items:r[e],ref:s,onItemSelection:d,setActiveIndex:u},t)):(0,i.jsx)(ng,{not_found_text:_,active_index:n,list_items:r,ref:s,onItemSelection:d,is_object_list:!p,setActiveIndex:u})})})});if(m){let e=document.getElementById(m);return e&&eK.createPortal(j,e)}return j};nf.displayName="DropdownList";let ny={ENTER:13,ESCAPE:27,TAB:9,KEYDOWN:40,KEYUP:38},nN=e=>"string"==typeof e,nC=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.toLowerCase();return t.filter(e=>(nN(e)?e.toLowerCase():(e.text||"").toLowerCase()).includes(a)).sort((e,t)=>{let s=(nN(e)?e:e.text||"").toLowerCase().indexOf(a);return s-(nN(t)?t:t.text||"").toLowerCase().indexOf(a)}).filter(t=>{let a=nN(t)?t:t.text||"",n=a.toLowerCase(),i=(0,np._v)(n);return s?(0,np.pp)(a,e):i.includes(e)||n.includes(e)})},nk=l.memo(e=>{let t;let s=(0,nh.Re)(),{autoComplete:a,className:n,data_testid:r,dropdown_offset:o,error:c,has_updating_list:d=!0,hide_list:u=!1,historyValue:h,input_id:_,is_alignment_top:m,is_list_visible:x=!1,list_items:p,list_portal_id:j,not_found_text:v=s,onHideDropdownList:b,onItemSelection:g,onSearch:f,onScrollStop:y,onShowDropdownList:N,should_filter_by_char:C,show_list:k=!1,value:T,...S}=e,w=l.useRef(null),E=l.useRef(null),I=l.useRef(null),A=l.useRef(null),[R,D]=l.useState(!1),[O,L]=l.useState(""),[M,U]=l.useState(-1),[P,Z]=l.useState(p),[z,B]=l.useState({});nj(j&&R?A:void 0);let V=null;l.useEffect(()=>{if(d){let e=[];if(Z(e=x?"function"==typeof f?f(T.toLowerCase(),p):nC(T.toLowerCase(),p):p),h){let t=e.findIndex(e=>("object"==typeof e?e.text:e)===h);L(h),U(t)}else L(""),U(-1)}},[p,d,h]),l.useEffect(()=>{x&&U(P.findIndex(e=>("object"==typeof e?e.text:e)===h))},[P]),l.useEffect(()=>{if(k&&q(),u&&Y(),R&&I.current){var e;let t=I.current.offsetTop;null===(e=w.current)||void 0===e||e.scrollTo({top:t,behavior:"smooth"})}},[k,u,R,I]),l.useEffect(()=>{E.current&&j&&R&&B(nx({preferred_alignment:m?"top":"bottom",parent_el:A.current,child_el:E.current}).style)},[R,m,j,null==P?void 0:P.length]);let $=()=>{if(-1!==M){var e,t,s,a,n,i,l;let r=M-1;if(r<0){let s=null===(e=w.current)||void 0===e?void 0:e.clientHeight;U(P.length-1),null===(t=w.current)||void 0===t||t.scrollTo({top:s,behavior:"smooth"})}else{let e=Number(null===(s=I.current)||void 0===s?void 0:s.getBoundingClientRect().height);if(!X(Math.floor(Number(null===(n=I.current)||void 0===n?void 0:null===(a=n.getBoundingClientRect())||void 0===a?void 0:a.top))-e)){let t=Number(null===(i=I.current)||void 0===i?void 0:i.offsetTop)-e;null===(l=w.current)||void 0===l||l.scrollTo({top:t,behavior:"smooth"})}U(r)}}},X=e=>{var t,s,a;let n=Number(null===(t=w.current)||void 0===t?void 0:t.clientHeight),i=Math.floor(Number(null===(s=E.current)||void 0===s?void 0:s.getBoundingClientRect().top));return!(e>=Math.floor(Number(null===(a=E.current)||void 0===a?void 0:a.getBoundingClientRect().top))+n)&&e>i},G=()=>{if(-1!==M&&I.current){if("number"==typeof M){var e,t,s,a;let n=M+1;if(n>=P.length)U(0),null===(e=w.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"});else{let e=I.current.getBoundingClientRect().height,i=Math.floor(I.current.getBoundingClientRect().top)+e+e/2,l=Number(null===(t=w.current)||void 0===t?void 0:t.clientHeight);if(!X(i)){let t=I.current.offsetTop-(l/e-2)*e;null===(a=w.current)||void 0===a||null===(s=a.scrollTo)||void 0===s||s.call(a,{top:t,behavior:"smooth"})}U(n)}}}else U(0)},H=e=>{e&&(L(("object"==typeof e?e.text:e)||""),null==g||g(e))},q=()=>{D(!0),null==N||N()},Y=()=>{D(!1),null==b||b()};return(0,i.jsxs)("div",{"data-testid":r,className:F()("dc-autocomplete",n),children:[(0,i.jsx)("div",{ref:A,className:"dc-autocomplete__input-field",children:(0,i.jsx)(eY,{...S,className:"dc-autocomplete__field",error:c,autoComplete:a,onKeyDown:e=>{switch(e.keyCode){case ny.ENTER:e.preventDefault(),Y(),H(P[M]);break;case ny.TAB:R&&(Y(),H(P[M]));break;case ny.ESCAPE:e.preventDefault(),Y();break;case ny.KEYDOWN:!R&&q(),G();break;case ny.KEYUP:R?$():q();break;default:!R&&q()}},onInput:e=>{let t=e.target.value.toLowerCase(),s=[];!(s="function"==typeof f?f(t,p):nC(t,p,C)).length&&L(""),Z(s)},input_id:_,onClick:()=>{R?Y():q()},onBlur:e=>{e.preventDefault(),Y(),!x&&Z(p),""===O&&(null==g||g({text:v,value:""})),"function"==typeof S.onBlur&&S.onBlur(e)},value:"function"==typeof g?T:O,trailing_icon:S.trailing_icon?S.trailing_icon:(0,i.jsx)(nv.Z,{className:(0,nu.Z)("dc-autocomplete__trailing-icon",{"dc-autocomplete__trailing-icon--opened":R,"dc-autocomplete__trailing-icon--disabled":S.disabled}),height:"24px",width:"24px"})})}),(0,i.jsx)(nf,{dropdown_refs:{dropdown_ref:w,list_item_ref:I,list_wrapper_ref:E},active_index:M,style:{width:A.current?`${A.current.offsetWidth}px`:"100%",...z||{marginTop:o?`calc(-${o} + 8px)`:"8px"}},is_visible:R||x,list_items:P,list_height:S.list_height,onItemSelection:H,setActiveIndex:U,onScrollStop:e=>{if(!y)return;let s=e.currentTarget;(V=s.scrollTop)===s.scrollTop&&clearTimeout(t),t=setTimeout(()=>{null==y||y()},150)},not_found_text:v,portal_id:j})]})});nk.displayName="Autocomplete";let nT=["ACCUMULATORS_MARTINGALE","ACCUMULATORS_DALEMBERT","ACCUMULATORS_MARTINGALE_ON_STAT_RESET","ACCUMULATORS_DALEMBERT_ON_STAT_RESET","ACCUMULATORS_REVERSE_MARTINGALE","ACCUMULATORS_REVERSE_MARTINGALE_ON_STAT_RESET","ACCUMULATORS_REVERSE_DALEMBERT","ACCUMULATORS_REVERSE_DALEMBERT_ON_STAT_RESET"],nS=e=>{let{symbol:t}=e;return(0,i.jsxs)("div",{className:"qs__select__option",children:[(0,i.jsx)(V,{type:t.value,size:"sm"}),(0,i.jsx)(es.Z,{className:"qs__select__option__text",size:"xs",color:"prominent",children:t.text})]},t.value)},nw=()=>{let{quick_strategy:e}=(0,j.oR)(),{isDesktop:t}=(0,N.F)(),{setValue:s,selected_strategy:a}=e,[n,r]=l.useState([]),[o,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)({text:"",value:""}),[h,_]=(0,l.useState)({text:"",value:""}),{setFieldValue:m,values:x}=(0,eU.u6)(),p=nT.includes(a),v=(0,l.useMemo)(()=>n.map(e=>({component:(0,i.jsx)(nS,{symbol:e},e.text),...e})).filter(e=>{var t;return!p||(null==e?void 0:null===(t=e.group)||void 0===t?void 0:t.startsWith("Continuous Indices"))}),[n,p]);(0,l.useEffect)(()=>{var e,t,a;let{active_symbols:n}=(null===Z.ApiHelpers||void 0===Z.ApiHelpers?void 0:Z.ApiHelpers.instance)??{},i=null==n?void 0:null===(e=n.getSymbolsForBot)||void 0===e?void 0:e.call(n);r(i),!(null==i?void 0:i.find(e=>(null==e?void 0:e.value)===(null==x?void 0:x.symbol)))&&(m("symbol",null==i?void 0:null===(t=i[0])||void 0===t?void 0:t.value),s("symbol",null==i?void 0:null===(a=i[0])||void 0===a?void 0:a.value))},[]),(0,l.useEffect)(()=>{let e=v.find(e=>e.value===x.symbol);e&&u({text:e.text,value:e.value})},[v,x.symbol,u]);let b=()=>{t&&!o&&(c(!0),u({text:"",value:""}))},g=e=>{u({...d,text:e.target.value})},f=e=>{if(null==e?void 0:e.value){let{value:t}=e;m("symbol",t),s("symbol",t),c(!1)}},y=()=>{if(t){let e=v.find(e=>e.value===x.symbol);e&&e.text!==d.text&&(u({text:e.text,value:e.value}),_({text:e.text,value:e.value}),c(!1)),!e&&(u({text:h.text,value:h.value}),c(!1))}};return(0,i.jsx)("div",{className:"qs__form__field qs__form__field__input",children:(0,i.jsx)(eU.gN,{name:"symbol",id:"asset",children:e=>{let{field:{...s}}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(nk,{...s,readOnly:!t,inputMode:"none","data-testid":"dt_qs_symbol",autoComplete:"off",className:"qs__autocomplete",value:d.text,list_items:v,onItemSelection:f,onChange:g,onFocus:b,onHideDropdownList:y,leading_icon:(0,i.jsx)(V,{type:d.value,size:"sm"})})})}},"asset")})},nE=e=>{let{trade_type:{value:t,icon:s,text:a}}=e;return(0,i.jsxs)("div",{className:"qs__select__option",children:[(null==s?void 0:s.length)?s.map((e,t)=>(0,i.jsx)(G,{type:e,className:"qs__select__option__icon",size:"sm"},`${e}id-${t}`)):null,(0,i.jsx)(es.Z,{className:"qs__select__option__text",size:"xs",color:"prominent",children:a})]},t)},nI=()=>{let[e,t]=l.useState([]),{setFieldValue:s,values:a,validateForm:n}=(0,eU.u6)(),{quick_strategy:r}=(0,j.oR)(),{setValue:o,selected_strategy:c}=r,d=nT.includes(c);l.useEffect(()=>{if(null==a?void 0:a.symbol){let e=null==a?void 0:a.tradetype,i=d?"ACCU":"",{contracts_for:l}=(null===Z.ApiHelpers||void 0===Z.ApiHelpers?void 0:Z.ApiHelpers.instance)??{};(async()=>{var n,r;let c=await (null==l?void 0:null===(n=l.getTradeTypesForQuickStrategy)||void 0===n?void 0:n.call(l,null==a?void 0:a.symbol,i));!(null==c?void 0:c.some(t=>t.value===e))&&(null==c?void 0:null===(r=c[0])||void 0===r?void 0:r.value)!==e&&(null==s||s("tradetype",(null==c?void 0:c[0].value)||""),o("tradetype",null==c?void 0:c[0].value)),t(c)})(),n()}},[null==a?void 0:a.symbol]);let u=l.useMemo(()=>e.map(e=>({component:(0,i.jsx)(nE,{trade_type:e},e.text),...e})),[e]);return(0,i.jsx)("div",{className:"qs__form__field qs__form__field__input qs__form__field__group-icons",children:(0,i.jsx)(eU.gN,{name:"tradetype",id:"tradetype",children:e=>{var t,a;let{field:n}=e,l=null==u?void 0:u.find(e=>e.value===n.value),r=d?"Buy":null==l?void 0:l.text;return(0,i.jsx)(nk,{...n,readOnly:!0,inputMode:"none","data-testid":"dt_qs_tradetype",autoComplete:"off",className:"qs__autocomplete",value:r||"",list_items:u,onItemSelection:e=>{let t=null==e?void 0:e.value,a=null==e?void 0:e.text;t&&a&&(null==s||s("tradetype",t),o("tradetype",t))},leading_icon:(0,i.jsxs)(es.Z,{children:[(0,i.jsx)(G,{type:(null==l?void 0:null===(t=l.icon)||void 0===t?void 0:t[0])||"CALL",size:"sm"}),(0,i.jsx)(G,{type:(null==l?void 0:null===(a=l.icon)||void 0===a?void 0:a[1])||"PUT",size:"sm"})]})})}},"tradetype")})},nA=(0,r.Pi)(e=>{let{name:t}=e,{isDesktop:s}=(0,N.F)(),[a,n]=l.useState([]),{quick_strategy:r}=(0,j.oR)(),{setValue:o}=r,{setFieldValue:c,values:d}=(0,eU.u6)(),{symbol:u,tradetype:h}=d;l.useEffect(()=>{if(h&&u){let e=null==d?void 0:d.type;(async()=>{var s,a,i;let{contracts_for:l}=(null===Z.ApiHelpers||void 0===Z.ApiHelpers?void 0:Z.ApiHelpers.instance)??{},r=await (null==l?void 0:null===(s=l.getContractTypes)||void 0===s?void 0:s.call(l,h));n(r),!(null==r?void 0:r.some(t=>t.value===e))&&(null==c||c(t,null==r?void 0:null===(a=r[0])||void 0===a?void 0:a.value),o(t,null==r?void 0:null===(i=r[0])||void 0===i?void 0:i.value))})()}},[u,h]);let _=e=>{null==c||c(t,e),o(t,e)},m=`qs-contract-type-${t}`;return(0,i.jsx)("div",{className:"qs__form__field qs__form__field__input no-top-spacing",children:(0,i.jsx)(eU.gN,{name:t,id:m,children:e=>{let{field:t}=e,n=null==a?void 0:a.find(e=>(null==e?void 0:e.value)===(null==t?void 0:t.value));return s?(0,i.jsx)(nk,{...t,readOnly:!0,inputMode:"none","data-testid":"dt_qs_contract_type",autoComplete:"off",className:"qs__select contract-type",value:(null==n?void 0:n.text)||"",list_items:a,onItemSelection:e=>{let{value:t}=e;t&&_(t)}}):(0,i.jsx)("ul",{className:"qs__form__field__list","data-testid":"dt_qs_contract_types",children:a.map(e=>{let t=(null==n?void 0:n.value)===(null==e?void 0:e.value);return(0,i.jsx)("li",{className:F()("qs__form__field__list__item",{"qs__form__field__list__item--active":t}),onClick:()=>{_(null==e?void 0:e.value)},children:(0,i.jsx)(es.Z,{size:"xs",color:"prominent",weight:t?"bold ":"normal",children:null==e?void 0:e.text})},null==e?void 0:e.value)})})}},m)})}),nR=e=>{let{attached:t}=e,[s,a]=l.useState([]),[n,r]=l.useState(""),[o,c]=l.useState(""),{quick_strategy:d}=(0,j.oR)(),{setValue:u,setCurrentDurationMinMax:h,current_duration_min_max:_}=d,{setFieldValue:m,validateForm:x,values:p}=(0,eU.u6)(),{symbol:v,tradetype:b}=p;return l.useEffect(()=>{b&&v&&(async()=>{var e,t,s,i,l,d;let{contracts_for:_}=(null===Z.ApiHelpers||void 0===Z.ApiHelpers?void 0:Z.ApiHelpers.instance)??{},x=await (null==_?void 0:null===(e=_.getDurations)||void 0===e?void 0:e.call(_,v,b)),j=null==x?void 0:x.map(e=>({text:e.display??"",value:e.unit??"",min:e.min,max:e.max}));a(j);let g=null==p?void 0:p.durationtype;if((null==j?void 0:j.some(e=>e.value===g))&&n===v&&o===b){let e=null==j?void 0:j.find(e=>e.value===g);h(null==e?void 0:e.min,null==e?void 0:e.max)}else h(null==x?void 0:null===(t=x[0])||void 0===t?void 0:t.min,null==x?void 0:null===(s=x[0])||void 0===s?void 0:s.max),null==m||m("durationtype",null==x?void 0:null===(i=x[0])||void 0===i?void 0:i.unit,!0),null==m||m("duration",null==x?void 0:null===(l=x[0])||void 0===l?void 0:l.min,!0),u("durationtype",(null==x?void 0:null===(d=x[0])||void 0===d?void 0:d.unit)??"");r(v),c(b)})()},[v,b]),(0,l.useEffect)(()=>{x()},[_,x]),(0,i.jsx)("div",{className:F()("qs__form__field qs__form__field__input",{"no-top-border-radius":t}),children:(0,i.jsx)(eU.gN,{name:"durationtype",id:"durationtype",children:e=>{let{field:t}=e,a=null==s?void 0:s.find(e=>e.value===t.value);return(0,i.jsx)(nk,{...t,readOnly:!0,inputMode:"none","data-testid":"dt_qs_durationtype",autoComplete:"off",className:"qs__select",value:(null==a?void 0:a.text)||"",list_items:s,onItemSelection:e=>{let{value:t,min:s,max:a}=e;t&&(h(s,a),null==m||m("durationtype",t),u("durationtype",t),null==m||m("duration",s).then(()=>{x()}),u("duration",s))}})}},"durationtype")})},nD=(0,r.Pi)(e=>{let{name:t,onChange:s,type:a="text",attached:n=!1,disabled:r=!1,min:o,max:c,has_currency_unit:d=!1}=e,{client:{currency:u}}=(0,j.oR)(),{quick_strategy:h}=(0,j.oR)(),{loss_threshold_warning_data:_}=h,{isDesktop:m}=(0,N.F)(),[x,p]=l.useState(!1),{setFieldValue:v,setFieldTouched:b}=(0,eU.u6)(),g="number"===a,f=(e,a)=>{null==e||e.preventDefault(),s(t,a),b(t,!0,!0),v(t,a)},y=e=>{let a=e.target.value,n=0;a.length>=12?(n=a.slice(0,12),n=g?Number(n):n):n=g?Number(a):a,s(t,n)};return(0,i.jsx)(eU.gN,{name:t,id:t,children:e=>{var s;let{field:l,meta:h}=e,{error:j}=h;return(0,i.jsx)("div",{className:F()("qs__form__field qs__form__field__input",{"no-top-spacing":n,"no-border-top":n}),children:(0,i.jsx)("div",{"data-testid":"qs-input-container",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,i.jsx)($.Z,{alignment:"bottom",message:j,is_open:m?!!j&&x:!!j,zIndex:"9999",classNameBubble:"qs__warning-bubble",has_error:!0,should_disable_pointer_events:!0,children:(0,i.jsx)(eY,{data_testId:"qs-input",className:F()("qs__input",{error:j},{highlight:null==_?void 0:null===(s=_.highlight_field)||void 0===s?void 0:s.includes(t)}),type:a,leading_icon:g?(0,i.jsx)("button",{disabled:r||!!o&&l.value<=o,"data-testid":"qs-input-decrease",onClick:e=>{let t=Number(l.value)-1;f(e,String(t%1?t.toFixed(2):t))},children:"-"}):void 0,trailing_icon:g?(0,i.jsx)("button",{disabled:r||0xe8d4a50fff==l.value||!!c&&l.value>=c,"data-testid":"qs-input-increase",onClick:e=>{let t=Number(l.value)+1;f(e,String(t%1?t.toFixed(2):t))},children:"+"}):null,...l,disabled:r,onChange:e=>y(e),placeholder:d?"0.00":"",bottom_label:d?u:"",max_characters:2,maxLength:2})})})})}},t)}),nO=e=>{let{className:t,classNameButton:s,classNameLabel:a,handleToggle:n,id:r,is_enabled:o,name:c="toggle_switch"}=e;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("input",{"aria-label":c,className:F()("dc-toggle-switch",t),id:r,type:"checkbox",checked:o,onChange:n}),(0,i.jsx)("label",{className:F()("dc-toggle-switch__label",a),htmlFor:r,children:(0,i.jsx)("span",{className:F()("dc-toggle-switch__button",s)})})]})},nL=e=>{let{name:t,label:s,description:a,attached:n=!1,isEnabledToggleSwitch:l,setIsEnabledToggleSwitch:r}=e,{values:o,setFieldValue:c}=(0,eU.u6)(),d=async()=>{r(),await c(t,!(null==o?void 0:o[t]),!0),await c("max_stake",null==o?void 0:o.max_stake,!0)};return(0,i.jsx)(eU.gN,{name:t,children:()=>(0,i.jsx)("div",{className:F()("qs__form__field qs__form__field__input",{"no-border-bottom-radius":n}),children:(0,i.jsx)("div",{className:"qs__checkbox",children:(0,i.jsxs)("div",{className:"qs__checkbox__container",children:[(0,i.jsxs)("label",{className:"dc-checkbox",children:[(0,i.jsx)(es.Z,{size:"xs",className:"dc-checkbox__label",children:s}),(0,i.jsx)(es.Z,{size:"xs",children:(0,y.NC)("(optional)")})]}),(0,i.jsx)("span",{children:(0,i.jsx)($.Z,{classNameTargetIcon:"qs__checkbox__info",message:a,zIndex:"9999",alignment:"top",icon:"info"})}),(0,i.jsx)(nO,{id:"dt_mobile_drawer_theme_toggler",handleToggle:d,is_enabled:l,"data-testid":"qs-toggle-switch"})]})})})})},nM=e=>{let t,{label:s,description:a,additional_data:n}=e;return t="function"==typeof a?a(n):a,(0,i.jsx)("div",{className:"qs__form__field",children:(0,i.jsxs)("div",{className:"qs__input-label",children:[(0,i.jsx)(es.Z,{weight:"bold",className:"qs__input-label__wrapper",size:"xs",children:s}),(0,i.jsx)("span",{children:(0,i.jsx)($.Z,{message:t,zIndex:"9999",alignment:"top",icon:"info"})})]})})};var nF=s("63999");let nU=(0,r.Pi)(e=>{let{name:t}=e,{ui:s,client:a}=(0,j.oR)(),{is_desktop:n}=s,[r,o]=l.useState([]),{quick_strategy:c}=(0,j.oR)(),{setValue:d,setAdditionalData:u}=c,{setFieldValue:h,values:_,setFieldError:m,errors:x}=(0,eU.u6)(),p=l.useRef(null),v=l.useRef(null),b=l.useRef({tick_count:null,take_profit:null});l.useEffect(()=>{o([{text:"1%",value:"0.01"},{text:"2%",value:"0.02"},{text:"3%",value:"0.03"},{text:"4%",value:"0.04"},{text:"5%",value:"0.05"}]),null==h||h("tradetype","accumulator"),d("tradetype","accumulator")},[]),l.useEffect(()=>{var e,t;_.boolean_tick_count?(h("take_profit",0),m("tick_count",(null===(e=b.current)||void 0===e?void 0:e.tick_count)??void 0),m("take_profit",void 0)):(h("tick_count",0),m("take_profit",(null===(t=b.current)||void 0===t?void 0:t.take_profit)??void 0),m("tick_count",void 0))},[_,x.take_profit,x.tick_count,_.boolean_tick_count,h,m]);let g=async e=>{var t,s,n,i,l,r,o,c,d,h,_;let x=Number(e.growth_rate),j=Number(e.stake),g=Number(e.take_profit),f={amount:j,currency:null==a?void 0:a.currency,growth_rate:x,symbol:e.symbol,limit_order:{...!e.boolean_tick_count&&{take_profit:g}}};p.current={...f,boolean_tick_count:e.boolean_tick_count};try{let a=await (0,nF.QT)(f,Z.api_base.api),l=null==a?void 0:null===(s=a.proposal)||void 0===s?void 0:null===(t=s.validation_params)||void 0===t?void 0:t.max_ticks,r="",o="";u({max_payout:v.current,max_ticks:l}),v.current=null==a?void 0:null===(i=a.proposal)||void 0===i?void 0:null===(n=i.validation_params)||void 0===n?void 0:n.max_payout;let c=Number(e.tick_count);!isNaN(c)&&c>l?(o=`Maximum tick count is: ${l}`,m("tick_count",o),b.current.tick_count=o):!isNaN(c)&&c<1?(r="Minimum tick count is: 1",m("tick_count",r),b.current.tick_count=r):(b.current.tick_count=null,m("tick_count",void 0)),b.current.take_profit=null}catch(s){let t=(null==s?void 0:s.message)??(null==s?void 0:null===(l=s.error)||void 0===l?void 0:l.message);e.boolean_tick_count?(m("tick_count",t),b.current.tick_count=t):((null==s?void 0:null===(o=s.error)||void 0===o?void 0:null===(r=o.details)||void 0===r?void 0:r.field)==="take_profit"&&(t=0===Number(e.take_profit)?null==s?void 0:null===(h=s.error)||void 0===h?void 0:h.message:`Your total payout is ${Number(e.take_profit)+Number(e.stake)}. Enter amount less than ${v.current} ${(0,y.NC)("By changing your initial stake and/or take profit.")}`),(null==s?void 0:null===(d=s.error)||void 0===d?void 0:null===(c=d.details)||void 0===c?void 0:c.field)==="stake"&&(t=`${null==s?void 0:null===(_=s.error)||void 0===_?void 0:_.message} ${(0,y.NC)("Update your initial stake.")}`),m("take_profit",t),b.current.take_profit=t)}},f=l.useCallback(w()(g,500,{trailing:!0,leading:!1}),[]);l.useEffect(()=>{var e,t,s,n,i,l,r;((null===(e=p.current)||void 0===e?void 0:e.symbol)!==_.symbol||(null===(t=p.current)||void 0===t?void 0:t.amount)!==_.stake||(null===(n=p.current)||void 0===n?void 0:null===(s=n.limit_order)||void 0===s?void 0:s.take_profit)!==_.take_profit||(null===(i=p.current)||void 0===i?void 0:i.currency)!==(null==a?void 0:a.currency)||(null===(l=p.current)||void 0===l?void 0:l.growth_rate)!==_.growth_rate||(null===(r=p.current)||void 0===r?void 0:r.boolean_tick_count)!==_.boolean_tick_count)&&f(_)},[_.take_profit,_.tick_count,_.stake,_.growth_rate,null==a?void 0:a.currency,_.boolean_tick_count,_,f]);let N=async e=>{null==h||h(t,e),d(t,e)},C=`qs-contract-type-${t}`;return(0,i.jsx)("div",{className:"qs__form__field qs__form__field__input no-top-spacing",children:(0,i.jsx)(eU.gN,{name:t,id:C,children:e=>{let{field:t}=e,s=null==r?void 0:r.find(e=>(null==e?void 0:e.value)===(null==t?void 0:t.value));return n?(0,i.jsx)(nk,{...t,readOnly:!0,inputMode:"none","data-testid":"dt_qs_contract_type",autoComplete:"off",className:"qs__select contract-type",value:(null==s?void 0:s.text)||"",list_items:r,onItemSelection:e=>{let{value:t}=e;t&&N(t)}}):(0,i.jsx)("ul",{className:"qs__form__field__list","data-testid":"dt_qs_contract_types",children:r.map(e=>{let t=(null==s?void 0:s.value)===(null==e?void 0:e.value);return(0,i.jsx)("li",{className:F()("qs__form__field__list__item",{"qs__form__field__list__item--active":t}),onClick:()=>{N(null==e?void 0:e.value)},onChange:()=>{N(null==e?void 0:e.value)},children:(0,i.jsx)(es.Z,{size:"xs",color:"prominent",weight:t?"bold ":"normal",children:null==e?void 0:e.text})},null==e?void 0:e.value)})})}},C)})}),nP=[{text:"Take Profit",value:"take_profit"},{text:"Tick Count",value:"tick_count"}],nZ=e=>{let{attached:t}=e,{quick_strategy:s}=(0,j.oR)(),{setValue:a}=s,{setFieldValue:n,values:r}=(0,eU.u6)(),[o,c]=(0,l.useState)(r.boolean_tick_count?nP[1]:nP[0]),d=e=>{if(null==e?void 0:e.value){let{value:t}=e,s="take_profit"===t;a("boolean_tick_count",!s),null==n||n("boolean_tick_count",!s),c({...o,text:s?"Take Profit":"Tick Count"})}};return(0,i.jsx)("div",{className:F()("qs__form__field qs__form__field__input",{"no-top-border-radius":t}),children:(0,i.jsx)(eU.gN,{name:"sell_conditions",id:"sell_conditions",children:e=>{let{field:t}=e;return(0,i.jsx)(nk,{...t,readOnly:!0,inputMode:"none","data-testid":"dt_qs_sell_conditions",autoComplete:"off",className:"qs__select",value:o.text,list_items:nP,onItemSelection:d})}},"sell_conditions")})},nz=(0,r.Pi)(()=>{var e;let{quick_strategy:t}=(0,j.oR)(),{selected_strategy:s,setValue:a,form_data:n}=t,r=null===(e=(0,aH.j)()[s])||void 0===e?void 0:e.fields,{isDesktop:o}=(0,N.F)(),{values:c,setFieldTouched:d,setFieldValue:u}=(0,eU.u6)(),{current_duration_min_max:h,additional_data:_}=t,[m,x]=l.useState((null==c?void 0:c.boolean_max_stake)??!1);l.useEffect(()=>{window.addEventListener("keydown",v);let e=null;try{e=JSON.parse(localStorage.getItem("qs-fields")??"{}")}catch{e=null}return x(!!(null==e?void 0:e.boolean_max_stake)),()=>{window.removeEventListener("keydown",v)}},[]),l.useEffect(()=>{!m&&(null==c?void 0:c.max_stake)&&u("max_stake",0)},[m,null==c?void 0:c.max_stake]);let p=async(e,t)=>{a(e,t),await d(e,!0,!0),await u(e,t,!0)},v=e=>{(null==e?void 0:e.key)&&"Enter"==e.key&&(e.preventDefault(),e.stopPropagation())},b=e=>e.every(e=>{var t;let s=null==c?void 0:null===(t=c[e.key])||void 0===t?void 0:t.toString();return e.multiple?e.multiple.includes(s):c[e.key]===e.value}),g=()=>{x(e=>!e)};return(0,i.jsx)("div",{children:r.map((e,t)=>(null==e?void 0:e.length)?(0,i.jsx)("div",{className:"qs__body__content__form__group",children:e.map((e,t)=>{var s,a;let r=`${e.name||e.type} + ${t}`;if(!o&&(null===(s=e.hide)||void 0===s?void 0:s.includes("mobile"))||o&&(null===(a=e.hide)||void 0===a?void 0:a.includes("desktop")))return null;switch(e.type){case"number":{let t;if(!e.name)return null;let{should_have:s=[],hide_without_should_have:a=!1,has_currency_unit:i=!1}=e,c=b(s),d=1;"duration"===e.name&&h&&(d=h.min,t=h.max);let u=e.should_have;if(u&&"max_stake"===e.name&&isNaN(d=+(null==n?void 0:n.stake))&&(d=1),u&&"last_digit_prediction"===e.name&&((isNaN(+(null==n?void 0:n.last_digit_prediction))||1==+(null==n?void 0:n.last_digit_prediction))&&(d=0),+(null==n?void 0:n.last_digit_prediction)>0&&(d=+(null==n?void 0:n.last_digit_prediction)-1),t=9),null==s?void 0:s.length){if(!c&&(!o||a))return null;return(0,l.createElement)(nD,{...e,key:r,name:e.name,disabled:!c,onChange:p,min:d,max:t,has_currency_unit:i})}return(0,l.createElement)(nD,{...e,onChange:p,key:r,name:e.name,min:d,max:t,has_currency_unit:i})}case"label":{if(!e.label)return null;let{should_have:t=[],hide_without_should_have:s=!1}=e;if(!b(t)&&s)return null;return(0,i.jsx)(nM,{label:e.label,description:e.description??"",additional_data:_},r)}case"checkbox":return(0,l.createElement)(nL,{...e,key:r,name:e.name,label:e.label,isEnabledToggleSwitch:!!m,setIsEnabledToggleSwitch:g});case"symbol":return(0,l.createElement)(nw,{...e,key:r});case"tradetype":return(0,l.createElement)(nI,{...e,key:r});case"durationtype":return(0,l.createElement)(nR,{...e,key:r});case"contract_type":return(0,l.createElement)(nA,{...e,key:r,name:e.name});case"growth_rate":return(0,l.createElement)(nU,{...e,key:r,name:e.name});case"sell_conditions":return(0,l.createElement)(nZ,{...e,key:r});default:return null}})},t):null)})}),nB=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DEFAULT";return({DURATION:{MIN:(0,y.NC)("Minimum duration: {{ value }}",{value:t}),MAX:(0,y.NC)("Maximum duration: {{ value }}",{value:t})},LAST_DIGIT_PREDICTION:{MIN:(0,y.NC)("Enter a value from {{ value }} to 9.",{value:t}),MAX:(0,y.NC)("Enter a value from 0 to {{ value }}.",{value:t})},DEFAULT:{MIN:(0,y.NC)("The value must be equal or greater than {{ value }}",{value:t}),MAX:(0,y.NC)("The value must be equal or less than {{ value }}",{value:t})}})[s][e]},nV=(0,r.Pi)(e=>{var t;let{children:s}=e,{quick_strategy:a}=(0,j.oR)(),{selected_strategy:n,form_data:r,initializeLossThresholdWarningData:o}=a,c=null===(t=(0,aH.j)()[n])||void 0===t?void 0:t.fields,[d,u]=(0,l.useState)(a$.Ry().shape({})),h=(0,l.useRef)(!0),_=null,m=()=>{let e=null;try{e=JSON.parse(localStorage.getItem("qs-fields")??"{}")}catch{e=null}return e};l.useEffect(()=>()=>{h.current=!1},[]),l.useEffect(()=>{o()},[]);let x=e=>{let t={};c.forEach(s=>{if(!(null==s?void 0:s.length))return null;s.forEach(s=>{var n,i;if((null==s?void 0:null===(n=s.validation)||void 0===n?void 0:n.length)&&(null==s?void 0:s.name)&&s.validation.includes("number")){let n=a$.Rx().typeError((0,y.NC)("Must be a number")),l=0,o=10,c=nB("MIN",0),d=nB("MAX",o),u="",{current_duration_min_max:h}=a;"duration"===s.name&&h&&(l=h.min,o=h.max,c=nB("MIN",l,"DURATION"),d=nB("MAX",o,"DURATION"));let m=!s.should_have||(null===(i=s.should_have)||void 0===i?void 0:i.every(t=>{var s;let a=null==e?void 0:null===(s=e[t.key])||void 0===s?void 0:s.toString();return t.multiple?t.multiple.includes(a):(null==e?void 0:e[t.key])===t.value}));m&&"max_stake"===s.name&&(isNaN(l=+(null==r?void 0:r.stake))&&(l=+((null==_?void 0:_.stake)??0)),c=nB("MIN",l)),m&&"last_digit_prediction"===s.name&&(l=0,d=nB("MAX",o=9,"LAST_DIGIT_PREDICTION"),u="Enter a value from 0 to 9."),m&&s.validation.forEach(e=>{if("string"==typeof e)switch(e){case"required":n=n.required((0,y.NC)("Field cannot be empty"));break;case"min":n=n.min(l,c);break;case"max":n=n.max(o,d);break;case"ceil":n=n.round("ceil");break;case"floor":n=n.round("floor");break;case"integer":n=n.integer(u)}else"object"==typeof e&&(null==e?void 0:e.type)&&(n=n[e.type](e.value,(0,y.NC)(e.getMessage(e.value))))}),t[s.name]=n}})}),h.current&&u(a$.Ry().shape(t))};return(0,i.jsx)(eU.J9,{initialValues:(()=>{let e=m();return _={symbol:(null==e?void 0:e.symbol)??(0,Z.config)().QUICK_STRATEGY.DEFAULT.symbol,tradetype:(null==e?void 0:e.tradetype)??"",type:(null==e?void 0:e.type)??"",durationtype:(null==e?void 0:e.durationtype)??(0,Z.config)().QUICK_STRATEGY.DEFAULT.durationtype,duration:(null==e?void 0:e.duration)??"1",stake:(null==e?void 0:e.stake)??"1",loss:(null==e?void 0:e.loss)??"",profit:(null==e?void 0:e.profit)??"",size:(null==e?void 0:e.size)??String((0,Z.config)().QUICK_STRATEGY.DEFAULT.size),unit:(null==e?void 0:e.unit)??String((0,Z.config)().QUICK_STRATEGY.DEFAULT.unit),action:(null==e?void 0:e.action)??"RUN",max_stake:(null==e?void 0:e.max_stake)??10,boolean_max_stake:(null==e?void 0:e.boolean_max_stake)??!1,last_digit_prediction:(null==e?void 0:e.last_digit_prediction)??1,growth_rate:(null==e?void 0:e.growth_rate)??"0.01",tick_count:(null==e?void 0:e.tick_count)??0,take_profit:(null==e?void 0:e.take_profit)??0,boolean_tick_count:(null==e?void 0:e.boolean_tick_count)??!1,max_payout:(null==e?void 0:e.max_payout)??0,max_ticks:(null==e?void 0:e.max_ticks)??0}})(),validationSchema:d,onSubmit:e=>{var t;return x(e),null===(t=localStorage)||void 0===t||t.setItem("qs-fields",JSON.stringify(e)),e},validate:e=>x(e),validateOnChange:!1,children:s})}),n$=(0,r.Pi)(()=>{let{quick_strategy:e}=(0,j.oR)(),{isDesktop:t}=(0,N.F)(),{is_open:s,setFormVisibility:a,form_data:n,selected_strategy:r}=e,o=(0,l.useRef)(null),[c,d]=l.useState(aW.StrategySelect),[u,h]=l.useState(""),_=()=>{var e,t,s;let a=(null===(s=o.current)||void 0===s?void 0:null===(t=s.querySelector(".active"))||void 0===t?void 0:null===(e=t.textContent)||void 0===e?void 0:e.toLowerCase())==="learn more"?"learn more":"trade parameters";(0,t8._W)({subform_name:"quick_strategy",quick_strategy_tab:a,selected_strategy:r,form_values:n})},m=()=>{_(),a(!1)};return(0,i.jsx)(nV,{children:(0,i.jsxs)(eU.l0,{children:[(0,i.jsx)(nd,{}),t?(0,i.jsx)(C.Z,{className:"modal--strategy",is_open:s,width:"72rem",children:(0,i.jsx)(nl,{onClickClose:m,setCurrentStep:d,current_step:c,selected_trade_type:u,setSelectedTradeType:h,children:(0,i.jsx)(nz,{})})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(sk,{is_modal_open:s,className:"quick-strategy__wrapper",header:(0,i.jsx)(es.Z,{size:"xs",weight:"bold",children:(0,y.NC)(`Step ${c===aW.StrategyCompleted?2:1}/2: Choose your strategy`)}),onClickClose:m,height_offset:"8rem",children:(0,i.jsx)(nr,{setCurrentStep:d,current_step:c,selected_trade_type:u,setSelectedTradeType:h,children:(0,i.jsx)(nz,{})})}),(0,i.jsx)(no,{setCurrentStep:d,current_step:c})]})]})})});var nX=s("18908"),nG=s("69103"),nH=s("27086"),nq=s("35651");let nY=(0,r.Pi)(e=>{let{block_node:t,should_hide_display_name:s}=e,{flyout:a}=(0,j.oR)(),{initBlockWorkspace:n}=a,r=l.useRef();return l.useEffect(()=>{n(r,t)},[]),(0,i.jsx)("div",{ref:e=>r=e,className:F()({"flyout__block-workspace--center":s,"flyout__block-workspace--top":!s}),"data-testid":"flyout-block-workspace"})}),nW=e=>{let{onInfoClick:t,block_node:s,is_active:a,should_hide_display_name:n}=e,l=s.getAttribute("type")||"",r=window.Blockly.Blocks[l].meta(),o="variables_get"===l,c="variables_set"===l,{display_name:d,description:u}=r,h=()=>(0,i.jsx)("div",{className:"flyout__item-buttons",children:(0,i.jsx)(eD.Z,{id:`db-flyout__add--${l}`,"data-testid":`dt_flyout__add_${l}`,className:"flyout__button-add flyout__button-add--hide",has_effect:!0,is_plus:!0,onClick:()=>window.Blockly.derivWorkspace.addBlockNode(s),type:"button",children:(0,i.jsx)(nq.Z,{height:"24px",width:"24px",fill:"var(--text-general)"})})});return(0,i.jsxs)(i.Fragment,{children:[c&&(0,i.jsx)("div",{className:"flyout__hr"}),(0,i.jsxs)("div",{className:F()("flyout__item",{"flyout__item--active":a}),children:[!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flyout__item-header",children:[(0,i.jsx)(es.Z,{size:o?"xs":"xsm",lineHeight:o?void 0:"xl",weight:o?void 0:"bold",children:d}),!o&&(0,i.jsx)(h,{})]}),(0,i.jsxs)("div",{className:"flyout__item-description",children:[u,t&&(0,i.jsx)("a",{id:d.replace(/\s/gi,"-"),className:"flyout__item-info",onClick:t,children:(0,i.jsx)(y.Xx,{i18n_default_text:"Learn more"})})]})]}),(0,i.jsxs)("div",{className:"flyout__block-workspace__header",children:[(0,i.jsx)(nY,{block_node:s,should_hide_display_name:!0}),o&&(0,i.jsx)(h,{})]})]})]})};var nK=s("43774");let nJ=e=>{let{width:t,url:s}=e;return(0,i.jsx)("div",{className:"flyout__item","data-testid":"dt_flyout_image",children:(0,i.jsx)("img",{src:s,className:"flyout__image",style:{width:t}})})},nQ=e=>{let{text:t}=e;return(0,i.jsx)(es.Z,{as:"p",size:"xs",styles:{lineHeight:"1.3em"},children:t})},n0=e=>(0,i.jsx)("div",{className:"flyout__item","data-testid":"dt_flyout_video_container",children:(0,i.jsx)("iframe",{"data-testid":"dt_flyout_video",className:"flyout__video",src:e.url,frameBorder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,width:"100%"})}),n1=(0,r.Pi)(()=>{let{flyout:e,flyout_help:t}=(0,j.oR)(),{block_node:s,block_type:a,examples:n,help_string:r,onBackClick:o,onSequenceClick:c,should_next_disable:d,should_previous_disable:u,title:h}=t,{is_search_flyout:_}=e,m=r&&(0,nG.S)(window.__webpack_public_path__)[a],x=0;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:"flyout__help-header","data-testid":"dt_flyout_help_base",children:[(0,i.jsx)("button",{className:"dc-btn flyout__button-back",onClick:o,children:(0,i.jsx)(nK.Z,{height:"16px",width:"16px",fill:"var(--text-general)"})}),(0,i.jsx)(es.Z,{weight:"bold",className:"flyout__help-title",children:h}),(0,i.jsx)("div",{className:"flyout__item-buttons",children:(0,i.jsx)(eD.Z,{className:"flyout__button-add",has_effect:!0,id:`db-flyout-help__add--${a}`,onClick:()=>window.Blockly.derivWorkspace.addBlockNode(s),primary:!0,text:(0,y.NC)("Add"),type:"button"})})]}),(0,i.jsx)("div",{className:"flyout__help-content",children:m&&m.map((e,t)=>{let{type:l,width:o,url:c,example_id:d}=e,{text:u}=r,h=n.find(e=>e.id===d);switch(l){case nG.I.TEXT:if(x<u.length)return(0,i.jsx)(nQ,{text:u[x++]},`${a}_${t}`);return null;case nG.I.VIDEO:return(0,i.jsx)(n0,{url:c},`${a}_${t}`);case nG.I.IMAGE:return(0,i.jsx)(nJ,{width:o,url:c},`${a}_${t}`);case nG.I.BLOCK:return(0,i.jsx)(nY,{block_node:s},`${a}_${t}`);case nG.I.EXAMPLE:if(h)return(0,i.jsx)(nY,{block_node:h.childNodes[0]},`${a}_${t}`);return null;default:return null}})}),!_&&!(u&&d)&&(0,i.jsxs)("div",{className:"flyout__help-footer",children:[(0,i.jsx)(eD.Z,{className:"flyout__button-previous",secondary:!0,onClick:()=>c(!1),text:(0,y.NC)("Previous"),type:"button",is_disabled:u,renderText:e=>u&&(0,i.jsx)(es.Z,{size:"xs",weight:"bold",align:"center",color:"disabled",children:e})}),(0,i.jsx)(eD.Z,{className:"flyout__button-next",secondary:!0,onClick:()=>c(!0),text:(0,y.NC)("Next"),type:"button",is_disabled:d,renderText:e=>d&&(0,i.jsx)(es.Z,{size:"xs",weight:"bold",align:"center",color:"disabled",children:e})})]})]})}),n2=e=>{let{search_term:t,total_result:s}=e;return(0,i.jsxs)("div",{className:"flyout__search-header",children:[(0,i.jsx)(es.Z,{weight:"bold",className:"flyout__search-header-text",children:(0,y.NC)('Results for "{{ search_term }}"',{search_term:t,interpolation:{escapeValue:!1}})}),(0,i.jsx)(es.Z,{weight:"bold",color:"profit-success",className:"flyout__search-header-text",children:`${s} ${s>1?(0,y.NC)("results"):(0,y.NC)("result")}`})]})},n5=e=>{let t=l.useRef(),{flyout_content:s,active_helper:a,setHelpContent:n,initFlyoutHelp:r,is_empty:o,is_search_flyout:c,selected_category:d,first_get_variable_block_index:u}=e;return(0,i.jsx)("div",{ref:t,className:F()("flyout__content",{"flyout__normal-content":!c}),children:(0,i.jsxs)(er.Z,{className:"flyout__content-scrollbar",children:[(null==d?void 0:d.getAttribute("id"))==="indicators"&&(0,i.jsxs)("div",{className:"flyout__content-disclaimer",children:[(0,i.jsx)("span",{className:"flyout__content-disclaimer-icon",children:(0,i.jsx)(nH.Z,{className:"flyout__content-disclaimer__warning-icon",height:"24px",width:"24px",fill:"var(--text-general)"})}),(0,i.jsx)("span",{className:"flyout__content-disclaimer-text",children:(0,y.NC)("Indicators on the chart tab are for indicative purposes only and may vary slightly from the ones on the {{platform_name_dbot}} workspace.",{platform_name_dbot:(0,m.$Xq)("dbot").name})})]}),o?(0,i.jsx)("div",{className:"flyout__search-empty",children:(0,i.jsx)(es.Z,{as:"h2",weight:"bold",lineHeight:"xs",children:(0,y.NC)("No results found")})}):s.map((e,t)=>{switch(e.tagName.toUpperCase()){case window.Blockly.Xml.NODE_BLOCK:{var s,l,o,d;let h=e.getAttribute("type")||"";return(0,i.jsx)(nW,{id:`flyout__item-workspace--${t}`,block_node:e,should_hide_display_name:"variables_get"===h&&t!==u,onInfoClick:(0,nG.S)(window.__webpack_public_path__)[h]&&(c?()=>n(e):()=>r(e,h)),is_active:a===h},`${e.getAttribute("type")}${null===(d=window)||void 0===d?void 0:null===(o=d.Blockly)||void 0===o?void 0:null===(l=o.utils)||void 0===l?void 0:null===(s=l.idGenerator)||void 0===s?void 0:s.genUid()}`)}case window.Blockly.Xml.NODE_LABEL:return(0,i.jsx)("div",{className:"flyout__item-label-bold",children:e.getAttribute("text")},`${e.getAttribute("text")}${t}`);case window.Blockly.Xml.NODE_INPUT:return(0,i.jsx)(eY,{className:`${e.getAttribute("className")}`,type:`${e.getAttribute("type")}`,name:`${e.getAttribute("name")}`,placeholder:`${e.getAttribute("placeholder")}`,autoComplete:"off"},`${e.getAttribute("name")}${t}`);case window.Blockly.Xml.NODE_BUTTON:{let s=e.getAttribute("callbackKey"),a=e.getAttribute("id");return(0,i.jsx)("button",{id:a,className:F()("dc-btn","dc-btn-effect","dc-btn--primary",`${e.getAttribute("className")}`),onClick:e=>{let t=window.Blockly.derivWorkspace,a=t.getButtonCallback(s);e.targetWorkspace_=t,e.getTargetWorkspace=()=>e.targetWorkspace_,null==a||a(e)},children:e.getAttribute("text")},`${s}${t}`)}default:return null}})]})})},n8=(0,r.Pi)(()=>{let{flyout:e,flyout_help:t}=(0,j.oR)(),{active_helper:s,initFlyoutHelp:a,setHelpContent:n}=t,{flyout_content:r,flyout_width:o,is_help_content:c,is_search_flyout:d,is_visible:u,onMount:h,onUnmount:_,search_term:m,selected_category:x,first_get_variable_block_index:p}=e;if(l.useEffect(()=>(h(),()=>_()),[h,_]),u&&d){var v;null===nX.default||void 0===nX.default||null===(v=nX.default.pushDataLayer)||void 0===v||v.call(nX.default,{event:"dbot_search_results",value:!0})}let b=Object.keys(r).length;return u&&(0,i.jsxs)("div",{id:"gtm-search-results",className:F()("flyout",{flyout__search:d,flyout__help:c,flyout__normal:!c&&!d}),style:{width:`${o}px`},children:[d&&!c&&(0,i.jsx)(n2,{search_term:m,total_result:b}),c?(0,i.jsx)(n1,{}):(0,i.jsx)(n5,{is_empty:0===b,flyout_content:r,active_helper:s,setHelpContent:n,initFlyoutHelp:a,is_search_flyout:d,selected_category:x,first_get_variable_block_index:p})]})}),n3=e=>{let{is_running:t,is_multiplier:s,is_contract_dialog_open:a,is_stop_bot_dialog_open:n,closeMultiplierContract:r,onOkButtonClick:o,toggleStopBotDialog:c}=e,d=t&&s?(0,y.NC)("Keep my contract"):(0,y.NC)("Stop my bot"),u=t&&s?(0,y.NC)("Close my contract"):(0,y.NC)("Back"),h=t&&s?(0,y.NC)("Keep your current contract?"):(0,y.NC)("Stop your current bot?"),_=t&&s?r:c;return(0,i.jsx)(l.Fragment,{children:(0,i.jsx)(sq.Z,{portal_element_id:"modal_root",title:h,is_visible:t?n:a,confirm_button_text:d,onConfirm:o,cancel_button_text:u,onCancel:_,is_mobile_full_width:!1,className:"toolbar__dialog",has_close_icon:!0,children:t&&s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(es.Z,{as:"p",lineHeight:"s",size:"xs",styles:{paddingBottom:"2rem",paddingTop:"1rem"},children:[(0,i.jsx)(y.Xx,{i18n_default_text:"Close your contract now or keep it running. If you decide to keep it running, you can check and close it later on the "}),(0,i.jsx)(es.Z,{weight:"bold",as:"span",lineHeight:"s",size:"xs",children:(0,i.jsx)(s5.Z,{className:"link",onClick:()=>window.location.assign(m.xOw.reports),children:(0,i.jsx)(y.Xx,{i18n_default_text:"Reports"})},0)}),(0,i.jsx)(y.Xx,{i18n_default_text:" page."})]}),(0,i.jsx)(es.Z,{as:"p",lineHeight:"s",size:"xs",children:(0,i.jsx)(y.Xx,{i18n_default_text:"The Quick Strategy you just created will be loaded to the workspace."})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.Z,{as:"p",lineHeight:"s",size:"xs",styles:{paddingBottom:"2rem",paddingTop:"1rem"},children:(0,i.jsx)(y.Xx,{i18n_default_text:"Stopping the current bot will load the Quick Strategy you just created to the workspace."})}),(0,i.jsxs)(es.Z,{as:"p",lineHeight:"s",size:"xs",children:[(0,i.jsx)(y.Xx,{i18n_default_text:"Any open contracts can be viewed on the "}),(0,i.jsx)(es.Z,{weight:"bold",as:"span",lineHeight:"s",size:"xs",children:(0,i.jsx)(s5.Z,{className:"link",onClick:()=>window.location.assign(m.xOw.reports),children:(0,i.jsx)(y.Xx,{i18n_default_text:"Reports"})},0)}),(0,i.jsx)(es.Z,{as:"span",lineHeight:"s",size:"xs",styles:{paddingInlineStart:"0.4rem"},children:(0,i.jsx)(y.Xx,{i18n_default_text:" page."})})]})]})})})},n4=(0,r.Pi)(()=>{let{run_panel:e,quick_strategy:t,summary_card:s}=(0,j.oR)(),{is_contract_dialog_open:a,is_stop_bot_dialog_open:n,toggleStopBotDialog:l}=t,{is_running:r,closeMultiplierContract:o,stopMyBot:c,is_dialog_open:d}=e,{is_multiplier:u}=s;return(0,i.jsx)(n3,{is_running:r,onOkButtonClick:c,is_contract_dialog_open:a,is_stop_bot_dialog_open:n,is_multiplier:u,closeMultiplierContract:o,is_dialog_open:d,toggleStopBotDialog:l})}),n7=e=>{let{popover_message:t,button_id:s,button_classname:a,buttonOnClick:n,icon:l,button_text:r}=e;return(0,i.jsx)($.Z,{alignment:"bottom",message:t,should_disable_pointer_events:!0,children:(0,i.jsx)(eD.Z,{id:s,className:a,has_effect:!0,onClick:n,icon:l,green:!0,children:r})})};var n6=s("52068"),n9=s("62705"),ie=s("48073"),it=s("81712"),is=s("66090"),ia=s("87348"),ii=s("46340"),il=s("79800"),ir=s("70342"),io=s("80246"),ic=s("83069");let id=e=>{let{popover_message:t,icon:s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eW.Z,{children:s}),(0,i.jsx)(to.Z,{children:(0,i.jsx)($.Z,{alignment:"bottom",message:t,zIndex:String(si.TOOLBAR),should_disable_pointer_events:!0,children:s})})]})},iu=(0,r.Pi)(()=>{let{dashboard:e,toolbar:t,load_modal:s,save_modal:a}=(0,j.oR)(),{setPreviewOnPopup:n,setChartModalVisibility:l,setTradingViewModalVisibility:r,setAnalysistoolVisibility:o}=e,{has_redo_stack:c,has_undo_stack:d,onResetClick:u,onSortClick:h,onUndoClick:_,onZoomInOutClick:m}=t,{toggleSaveModal:x}=a,{toggleLoadModal:p}=s,{isDesktop:v}=(0,N.F)();return(0,i.jsx)("div",{className:"toolbar__wrapper",children:(0,i.jsxs)("div",{className:"toolbar__group toolbar__group-btn","data-testid":"dt_toolbar_group_btn",children:[(0,i.jsx)(id,{popover_message:(0,y.NC)("Reset"),icon:(0,i.jsx)("span",{id:"db-toolbar__reset-button",className:"toolbar__icon",onClick:u,"data-testid":"dt_toolbar_reset_button",children:(0,i.jsx)(n6.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Import"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__import-button","data-testid":"dt_toolbar_import_button",onClick:()=>{n(!0),p(),(0,t8.m5)({subpage_name:"bot_builder",subform_source:"bot_builder",subform_name:"load_strategy",load_strategy_tab:"recent"})},children:(0,i.jsx)(n9.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Save"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__save-button","data-testid":"dt_toolbar_save_button",onClick:x,children:(0,i.jsx)(ie.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Sort blocks"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__sort-button","data-testid":"dt_toolbar_sort_button",onClick:h,children:(0,i.jsx)(it.Z,{})})}),(0,i.jsx)("div",{className:"vertical-divider"}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Charts"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__charts-button",onClick:()=>l(),children:(0,i.jsx)(is.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("TradingView Chart"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__tradingview-button",onClick:()=>r(),children:(0,i.jsx)(ia.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Analysistool"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__tradingview-button",onClick:()=>o(),children:(0,i.jsx)(ii.Z,{fill:"#ff0000",iconSize:"md"})})}),(0,i.jsx)("div",{className:"vertical-divider"}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Undo"),icon:(0,i.jsx)("span",{className:F()("toolbar__icon undo",{"toolbar__icon--disabled":!d}),id:"db-toolbar__undo-button","data-testid":"dt_toolbar_undo_button",onClick:()=>_(!1),children:(0,i.jsx)(il.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Redo"),icon:(0,i.jsx)("span",{className:F()("toolbar__icon redo",{"toolbar__icon--disabled":!c}),id:"db-toolbar__redo-button","data-testid":"dt_toolbar_redo_button",onClick:()=>_(!0),children:(0,i.jsx)(ir.Z,{})})}),(0,i.jsx)("div",{className:"vertical-divider"}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Zoom in"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__zoom-in-button","data-testid":"dt_toolbar_zoom_in_button",onClick:()=>m(!0),children:(0,i.jsx)(io.Z,{})})}),(0,i.jsx)(id,{popover_message:(0,y.NC)("Zoom out"),icon:(0,i.jsx)("span",{className:"toolbar__icon",id:"db-toolbar__zoom-out","data-testid":"dt_toolbar_zoom_out_button",onClick:()=>m(!1),children:(0,i.jsx)(ic.Z,{})})})]})})}),ih=(0,r.Pi)(()=>{let{run_panel:e,toolbar:t,quick_strategy:s}=(0,j.oR)(),{isDesktop:a}=(0,N.F)(),{is_dialog_open:n,closeResetDialog:r,onResetOkButtonClick:o}=t,{is_running:c}=e,{setFormVisibility:d}=s,u=c?(0,y.NC)("Yes"):(0,y.NC)("OK"),h=c?(0,y.NC)("No"):(0,y.NC)("Cancel");return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:"toolbar dashboard__toolbar","data-testid":"dt_dashboard_toolbar",children:(0,i.jsxs)("div",{className:"toolbar__section",children:[!a&&(0,i.jsx)(n7,{popover_message:(0,y.NC)("Click here to start building your Binarytools."),button_id:"db-toolbar__get-started-button",button_classname:"toolbar__btn toolbar__btn--icon toolbar__btn--start",buttonOnClick:()=>{d(!0),(0,t8.m5)({subpage_name:"bot_builder",subform_source:"bot_builder",subform_name:"quick_strategy"})},button_text:(0,y.NC)("Quick strategy")}),a&&(0,i.jsx)(iu,{})]})}),!a&&(0,i.jsx)(iu,{}),(0,i.jsx)(sq.Z,{portal_element_id:"modal_root",title:(0,y.NC)("Are you sure?"),is_visible:n,confirm_button_text:u,onConfirm:o,cancel_button_text:h,onCancel:r,is_mobile_full_width:!1,className:"toolbar__dialog",has_close_icon:!0,children:c?(0,i.jsx)(y.Xx,{i18n_default_text:"The workspace will be reset to the default strategy and any unsaved changes will be lost. <0>Note: This will not affect your running bot.</0>",components:[(0,i.jsx)("div",{className:"toolbar__dialog-text--second","data-testid":"dt_toolbar_dialog_text_second"},0)]}):(0,i.jsx)(y.Xx,{i18n_default_text:"Any unsaved changes will be lost."})})]})});var i_=s("88720"),im=s("16232"),ix=s("40877");let ip=(0,r.Pi)(e=>{let{search:t,is_search_loading:s,onClick:a}=e;return t?s?(0,i.jsx)("div",{className:"loader","data-testid":"loader"}):(0,i.jsx)(ix.Z,{onClick:a,height:"18px",width:"18px",fill:"var(--text-general)"}):(0,i.jsx)(im.Z,{height:"20px",width:"20px",fill:"var(--text-general)"})}),ij=e=>{let{is_search_loading:t,onSearch:s,onSearchBlur:a,onSearchClear:n,onSearchKeyUp:l}=e;return(0,i.jsx)("div",{className:"db-toolbox__search",children:(0,i.jsx)(eU.J9,{initialValues:{search:""},onSubmit:s,children:e=>{let{submitForm:s,values:{search:r},setFieldValue:o}=e;return(0,i.jsx)(eU.l0,{children:(0,i.jsx)(eU.gN,{name:"search",children:e=>{let{field:c}=e;return(0,i.jsx)(eY,{...c,className:"db-toolbox__search-field",type:"text",name:"search",placeholder:(0,y.NC)("Search"),onKeyUp:()=>l(s),onFocus:s,onBlur:a,leading_icon:(0,i.jsx)(ip,{search:r,is_search_loading:t,onClick:()=>n(o)})})}})})}})})};var iv=s("97762");let ib=e=>{let{...t}=e;return l.createElement("arg",t)},ig=e=>{let{...t}=e;return l.createElement("block",t)},iy=e=>{let{...t}=e;return l.createElement("category",t)},iN=e=>{let{...t}=e;return l.createElement("example",t)},iC=e=>{let{...t}=e;return l.createElement("examples",t)},ik=e=>{let{...t}=e;return l.createElement("field",t)},iT=e=>{let{...t}=e;return l.createElement("mutation",t)},iS=e=>{let{...t}=e;return l.createElement("next",t)},iw=e=>{let{...t}=e;return l.createElement("shadow",t)},iE=e=>{let{...t}=e;return l.createElement("statement",t)},iI=e=>{let{...t}=e;return l.createElement("value",t)},iA=e=>{let{...t}=e;return l.createElement("xml",t)},iR=()=>iv.renderToStaticMarkup((0,i.jsxs)(iA,{xmlns:"http://www.w3.org/1999/xhtml",id:"toolbox",children:[(0,i.jsxs)(iy,{name:(0,y.NC)("Logics\uD83D\uDD25"),id:"analysis_logics",children:[(0,i.jsxs)(ig,{type:"last_digits_condition",children:[(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"3"})})}),(0,i.jsx)(ik,{name:"CONDITION",children:"LESS_THAN"}),(0,i.jsx)(iI,{name:"COMPARE_VALUE",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"4"})})})]}),(0,i.jsxs)(ig,{type:"digit_frequency_analysis",children:[(0,i.jsx)(ik,{name:"ANALYSIS_TYPE",children:"MOST_FREQUENT"}),(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1000"})})})]}),(0,i.jsx)(ig,{type:"even_odd_analysis",children:(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1000"})})})}),(0,i.jsxs)(ig,{type:"over_under_analysis",children:[(0,i.jsx)(ik,{name:"CONDITION_TYPE",children:"OVER"}),(0,i.jsx)(iI,{name:"DIGIT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"4"})})}),(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1000"})})})]}),(0,i.jsxs)(ig,{type:"match_differ_analysis",children:[(0,i.jsx)(ik,{name:"CONDITION_TYPE",children:"MATCH"}),(0,i.jsx)(iI,{name:"DIGIT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})}),(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1000"})})})]}),(0,i.jsx)(ig,{type:"rise_fall_analysis",children:(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1000"})})})}),(0,i.jsx)(ig,{type:"lastNTicksDirection",children:(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"3"})})})}),(0,i.jsx)(ig,{type:"tick"}),(0,i.jsx)(ig,{type:"last_digit"})]}),(0,i.jsxs)(iy,{id:"trade_parameters",name:(0,y.NC)("Trade parameters"),children:[(0,i.jsx)(ig,{type:"trade_definition",children:(0,i.jsx)(iE,{name:"TRADE_OPTIONS",children:(0,i.jsxs)(ig,{type:"trade_definition_market",deletable:"false",movable:"false",children:[(0,i.jsx)(ik,{name:"MARKET_LIST"}),(0,i.jsx)(ik,{name:"SUBMARKET_LIST"}),(0,i.jsx)(ik,{name:"SYMBOL_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"trade_definition_tradetype",deletable:"false",movable:"false",children:[(0,i.jsx)(ik,{name:"TRADETYPECAT_LIST"}),(0,i.jsx)(ik,{name:"TRADETYPE_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"trade_definition_contracttype",deletable:"false",movable:"false",children:[(0,i.jsx)(ik,{name:"TYPE_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"trade_definition_candleinterval",deletable:"false",movable:"false",children:[(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"60"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"trade_definition_restartbuysell",deletable:"false",movable:"false",children:[(0,i.jsx)(ik,{name:"TIME_MACHINE_ENABLED",children:"FALSE"}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"trade_definition_restartonerror",deletable:"false",movable:"false",children:(0,i.jsx)(ik,{name:"RESTARTONERROR",children:"TRUE"})})})]})})]})})]})})]})})]})})}),(0,i.jsxs)(ig,{type:"trade_definition_tradeoptions",children:[(0,i.jsx)(iT,{has_first_barrier:"false",has_second_barrier:"false",has_prediction:"false"}),(0,i.jsx)(ik,{name:"DURATIONTYPE_LIST"}),(0,i.jsx)(ik,{name:"CURRENCY_LIST",children:"USD"}),(0,i.jsx)(iI,{name:"DURATION",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(iI,{name:"AMOUNT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(ik,{name:"AMOUNT_LIMITS"})]}),(0,i.jsxs)(ig,{type:"trade_definition_multiplier",children:[(0,i.jsx)(ik,{name:"MULTIPLIERTYPE_LIST"}),(0,i.jsx)(ik,{name:"CURRENCY_LIST",children:"USD"}),(0,i.jsx)(iI,{name:"AMOUNT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(ik,{name:"AMOUNT_LIMITS"})]}),(0,i.jsx)(ig,{type:"multiplier_take_profit",children:(0,i.jsx)(iI,{name:"AMOUNT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})})}),(0,i.jsx)(ig,{type:"multiplier_stop_loss",children:(0,i.jsx)(iI,{name:"AMOUNT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})})}),(0,i.jsxs)(ig,{type:"trade_definition_accumulator",children:[(0,i.jsx)(ik,{name:"GROWTHRATE_LIST"}),(0,i.jsx)(ik,{name:"CURRENCY_LIST",children:"USD"}),(0,i.jsx)(iI,{name:"AMOUNT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]}),(0,i.jsx)(ig,{type:"accumulator_take_profit",children:(0,i.jsx)(iI,{name:"AMOUNT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})})})]}),(0,i.jsxs)(iy,{id:"purchase_conditions",name:(0,y.NC)("Purchase conditions"),children:[(0,i.jsx)(ig,{type:"before_purchase"}),(0,i.jsx)(ig,{type:"apollo_purchase"}),(0,i.jsx)(ig,{type:"apollo_purchase2"})]}),(0,i.jsxs)(iy,{id:"sell_conditions",name:(0,y.NC)("Sell conditions (optional)"),children:[(0,i.jsx)(ig,{type:"during_purchase"}),(0,i.jsx)(ig,{type:"sell_at_market"})]}),(0,i.jsxs)(iy,{id:"trade_results",name:(0,y.NC)("Restart trading conditions"),children:[(0,i.jsx)(ig,{type:"after_purchase"}),(0,i.jsx)(ig,{type:"trade_again"})]}),(0,i.jsxs)(iy,{id:"analysis",name:(0,y.NC)("Analysis"),children:[(0,i.jsxs)(iy,{id:"indicators",name:(0,y.NC)("Indicators"),children:[(0,i.jsx)(ig,{type:"sma_statement",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})}),(0,i.jsx)(ig,{type:"smaa_statement",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})}),(0,i.jsxs)(ig,{type:"bb_statement",children:[(0,i.jsx)(ik,{name:"BBRESULT_LIST",children:"0"}),(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"period",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"std_dev_multiplier_up",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"UPMULTIPLIER",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"std_dev_multiplier_down",children:(0,i.jsx)(iI,{name:"DOWNMULTIPLIER",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})})})})]})})]})})]})})]}),(0,i.jsxs)(ig,{type:"bba_statement",children:[(0,i.jsx)(ik,{name:"BBRESULT_LIST",children:"0"}),(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"period",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"std_dev_multiplier_up",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"UPMULTIPLIER",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"std_dev_multiplier_down",children:(0,i.jsx)(iI,{name:"DOWNMULTIPLIER",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})})})})]})})]})})]})})]}),(0,i.jsx)(ig,{type:"ema_statement",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})}),(0,i.jsx)(ig,{type:"emaa_statement",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})}),(0,i.jsx)(ig,{type:"rsi_statement",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsx)(ig,{type:"input_list",deletable:"false",movable:"false",children:(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})})})}),(0,i.jsx)(ig,{type:"rsia_statement",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})}),(0,i.jsxs)(ig,{type:"macda_statement",children:[(0,i.jsx)(ik,{name:"MACDFIELDS_LIST",children:"1"}),(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST"}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"fast_ema_period",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"FAST_EMA_PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"12"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"slow_ema_period",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"SLOW_EMA_PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"26"})})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"signal_ema_period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"SIGNAL_EMA_PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"9"})})})})})]})})]})})]})})]})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Tick and candle analysis"),id:"tick_analysis",children:[(0,i.jsx)(ig,{type:"tick_analysis"}),(0,i.jsx)(ig,{type:"tick"}),(0,i.jsx)(ig,{type:"last_digit"}),(0,i.jsxs)(ig,{type:"last_digits_condition",children:[(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"3"})})}),(0,i.jsx)(ik,{name:"CONDITION",children:"LESS_THAN"}),(0,i.jsx)(iI,{name:"COMPARE_VALUE",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"4"})})})]}),(0,i.jsxs)(ig,{type:"digit_frequency_analysis",children:[(0,i.jsx)(ik,{name:"ANALYSIS_TYPE",children:"MOST_FREQUENT"}),(0,i.jsx)(iI,{name:"N",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1000"})})})]}),(0,i.jsx)(ig,{type:"stat"}),(0,i.jsx)(ig,{type:"stat_list"}),(0,i.jsx)(ig,{type:"ticks"}),(0,i.jsx)(ig,{type:"lastDigitList"}),(0,i.jsx)(ig,{type:"check_direction"}),(0,i.jsx)(ig,{type:"is_candle_black"}),(0,i.jsxs)(ig,{type:"read_ohlc",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"}),(0,i.jsx)(iI,{name:"CANDLEINDEX",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]}),(0,i.jsx)(ig,{type:"read_ohlc_obj"}),(0,i.jsx)(ig,{type:"ohlc_values"}),(0,i.jsx)(ig,{type:"ohlc_values_in_list"}),(0,i.jsxs)(ig,{type:"get_ohlc",children:[(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"}),(0,i.jsx)(iI,{name:"CANDLEINDEX",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]}),(0,i.jsx)(ig,{type:"ohlc"})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Contract"),id:"contract_details",children:[(0,i.jsx)(ig,{type:"contract_check_result"}),(0,i.jsx)(ig,{type:"read_details"}),(0,i.jsx)(ig,{type:"sell_price"}),(0,i.jsx)(ig,{type:"check_sell"}),(0,i.jsx)(ig,{type:"payout"}),(0,i.jsx)(ig,{type:"ask_price"})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Stats"),id:"stats",children:[(0,i.jsx)(ig,{type:"balance"}),(0,i.jsx)(ig,{type:"total_profit"}),(0,i.jsx)(ig,{type:"total_runs"})]})]}),(0,i.jsxs)(iy,{id:"utility",name:(0,y.NC)("Utility"),children:[(0,i.jsx)(iy,{name:(0,y.NC)("Custom functions"),id:"custom_functions",dynamic:"PROCEDURE"}),(0,i.jsx)(iy,{name:(0,y.NC)("Variables"),id:"variables",dynamic:"VARIABLE"}),(0,i.jsxs)(iy,{name:(0,y.NC)("Notifications"),id:"notifications",children:[(0,i.jsx)(ig,{type:"text_print",children:(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})}),(0,i.jsxs)(ig,{type:"text_prompt_ext",children:[(0,i.jsx)(ik,{name:"TYPE",children:"TEXT"}),(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]}),(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(iI,{name:"MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]}),(0,i.jsxs)(ig,{type:"notify_telegram",children:[(0,i.jsx)(iI,{name:"TELEGRAM_ACCESS_TOKEN",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT"})})}),(0,i.jsx)(iI,{name:"TELEGRAM_CHAT_ID",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT"})})}),(0,i.jsx)(iI,{name:"TELEGRAM_MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Time"),id:"time",children:[(0,i.jsx)(ig,{type:"epoch"}),(0,i.jsx)(ig,{type:"timeout"}),(0,i.jsx)(ig,{type:"tick_delay"}),(0,i.jsx)(ig,{type:"totimestamp",children:(0,i.jsx)(iI,{name:"DATETIME",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"yyyy-mm-dd hh:mm:ss"})})})}),(0,i.jsx)(ig,{type:"todatetime",children:(0,i.jsx)(iI,{name:"TIMESTAMP",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})})})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Math"),id:"math",children:[(0,i.jsx)(ig,{type:"math_number"}),(0,i.jsxs)(ig,{type:"math_arithmetic",children:[(0,i.jsx)(ik,{name:"OP",children:"ADD"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]}),(0,i.jsxs)(ig,{type:"math_single",children:[(0,i.jsx)(ik,{name:"OP",children:"ROOT"}),(0,i.jsx)(iI,{name:"NUM",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"9"})})})]}),(0,i.jsxs)(ig,{type:"math_trig",children:[(0,i.jsx)(ik,{name:"OP",children:"SIN"}),(0,i.jsx)(iI,{name:"NUM",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"45"})})})]}),(0,i.jsx)(ig,{type:"math_constant"}),(0,i.jsxs)(ig,{type:"math_number_property",children:[(0,i.jsx)(iT,{divisor_input:"false"}),(0,i.jsx)(ik,{name:"PROPERTY",children:"EVEN"}),(0,i.jsx)(iI,{name:"NUMBER_TO_CHECK",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})})]}),(0,i.jsxs)(ig,{type:"math_change",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"item"}),(0,i.jsx)(iI,{name:"DELTA",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]}),(0,i.jsx)(ig,{type:"math_on_list"}),(0,i.jsxs)(ig,{type:"math_round",children:[(0,i.jsx)(ik,{name:"OP",children:"ROUND"}),(0,i.jsx)(iI,{name:"NUM",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"3.1"})})})]}),(0,i.jsxs)(ig,{type:"math_modulo",children:[(0,i.jsx)(iI,{name:"DIVIDEND",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"64"})})}),(0,i.jsx)(iI,{name:"DIVISOR",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})]}),(0,i.jsxs)(ig,{type:"math_constrain",children:[(0,i.jsx)(iI,{name:"Value",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"50"})})}),(0,i.jsx)(iI,{name:"LOW",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(iI,{name:"HIGH",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"100"})})})]}),(0,i.jsxs)(ig,{type:"math_random_int",children:[(0,i.jsx)(iI,{name:"FROM",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(iI,{name:"TO",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"100"})})})]}),(0,i.jsx)(ig,{type:"math_random_float"})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Text"),id:"text",children:[(0,i.jsx)(ig,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})}),(0,i.jsxs)(ig,{type:"text_join",children:[(0,i.jsx)(ik,{name:"VARIABLE",variabletype:"",children:"text"}),(0,i.jsx)(iE,{name:"STACK",children:(0,i.jsx)(ig,{type:"text_statement",movable:"false",children:(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})})})]}),(0,i.jsxs)(ig,{type:"text_append",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"text"}),(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]}),(0,i.jsx)(ig,{type:"text_length",children:(0,i.jsx)(iI,{name:"Value",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})}),(0,i.jsx)(ig,{type:"text_isEmpty",children:(0,i.jsx)(iI,{name:"Value",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT"})})})}),(0,i.jsxs)(ig,{type:"text_indexOf",children:[(0,i.jsx)(ik,{name:"END",children:"FIRST"}),(0,i.jsx)(iI,{name:"Value",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"text"})})}),(0,i.jsx)(iI,{name:"FIND",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]}),(0,i.jsxs)(ig,{type:"text_charAt",children:[(0,i.jsx)(iT,{at:"true"}),(0,i.jsx)(ik,{name:"WHERE",children:"FROM_START"}),(0,i.jsx)(iI,{name:"Value",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"item"})})}),(0,i.jsx)(iI,{name:"AT",children:(0,i.jsx)(iw,{type:"math_number_positive",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]}),(0,i.jsxs)(ig,{type:"text_getSubstring",children:[(0,i.jsx)(iT,{at1:"true",at2:"true"}),(0,i.jsx)(ik,{name:"WHERE1",children:"FROM_START"}),(0,i.jsx)(ik,{name:"WHERE2",children:"FROM_START"}),(0,i.jsx)(iI,{name:"STRING",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"text"})})}),(0,i.jsx)(iI,{name:"AT1",children:(0,i.jsx)(iw,{type:"math_number_positive",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})}),(0,i.jsx)(iI,{name:"AT2",children:(0,i.jsx)(iw,{type:"math_number_positive",children:(0,i.jsx)(ik,{name:"NUM",children:"2"})})})]}),(0,i.jsxs)(ig,{type:"text_changeCase",children:[(0,i.jsx)(ik,{name:"CASE",children:"UPPERCASE"}),(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]}),(0,i.jsxs)(ig,{type:"text_trim",children:[(0,i.jsx)(ik,{name:"MODE",children:"BOTH"}),(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Logic"),id:"logic",children:[(0,i.jsx)(ig,{type:"controls_if"}),(0,i.jsx)(ig,{type:"logic_compare"}),(0,i.jsx)(ig,{type:"logic_operation"}),(0,i.jsx)(ig,{type:"logic_negate"}),(0,i.jsx)(ig,{type:"logic_boolean"}),(0,i.jsx)(ig,{type:"logic_null"}),(0,i.jsx)(ig,{type:"logic_ternary"})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Lists"),id:"lists",children:[(0,i.jsxs)(ig,{type:"lists_create_with",children:[(0,i.jsx)(ik,{name:"VARIABLE",variabletype:"",children:"list"}),(0,i.jsx)(iE,{name:"STACK",children:(0,i.jsx)(ig,{type:"lists_statement",movable:"false",children:(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"lists_statement",movable:"false"})})})})]}),(0,i.jsx)(ig,{type:"lists_repeat",children:(0,i.jsx)(iI,{name:"NUM",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})})}),(0,i.jsx)(ig,{type:"lists_length"}),(0,i.jsx)(ig,{type:"lists_isEmpty"}),(0,i.jsx)(ig,{type:"lists_indexOf"}),(0,i.jsx)(ig,{type:"lists_getIndex"}),(0,i.jsx)(ig,{type:"lists_setIndex"}),(0,i.jsx)(ig,{type:"lists_getSublist"}),(0,i.jsxs)(ig,{type:"lists_split",children:[(0,i.jsx)(iT,{mode:"SPLIT"}),(0,i.jsx)(ik,{name:"MODE",children:"SPLIT"}),(0,i.jsx)(iI,{name:"DELIM",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:","})})})]}),(0,i.jsx)(ig,{type:"lists_sort"})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Loops"),id:"loops",children:[(0,i.jsx)(ig,{type:"controls_repeat"}),(0,i.jsx)(ig,{type:"controls_repeat_ext"}),(0,i.jsx)(ig,{type:"controls_whileUntil"}),(0,i.jsx)(ig,{type:"controls_for"}),(0,i.jsx)(ig,{type:"controls_forEach"}),(0,i.jsx)(ig,{type:"controls_flow_statements"})]}),(0,i.jsxs)(iy,{name:(0,y.NC)("Miscellaneous"),id:"misc",children:[(0,i.jsx)(ig,{type:"loader"}),(0,i.jsx)(ig,{type:"block_holder"}),(0,i.jsx)(ig,{type:"console",children:(0,i.jsx)(iI,{name:"MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})})]})]}),(0,i.jsxs)(iy,{id:"virtual_hook_blocks",name:(0,y.NC)("Virtual Hook Switcher"),children:[(0,i.jsx)(ig,{type:"vh_settings",children:(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"martingale",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"MARTINGALE",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1.5"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"max_steps",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"MAX_STEPS",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"3"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"min_trades",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"MIN_TRADES",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"take_profit",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"TAKE_PROFIT",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"stop_loss",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"STOP_LOSS",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"50"})})})})})]})})]})})]})})]})})}),(0,i.jsx)(ig,{type:"enable_virtual_hook",children:(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"disable"})}),(0,i.jsx)(ig,{type:"vh_status"})]}),(0,i.jsxs)(iy,{id:"apollo_notifications",name:(0,y.NC)("Custom Notification"),children:[(0,i.jsxs)(ig,{type:"apollo_notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(iI,{name:"MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]}),(0,i.jsx)(ig,{type:"set_tp"}),(0,i.jsx)(ig,{type:"set_sl"})]}),(0,i.jsx)(iy,{id:"utility",name:(0,y.NC)("Binarytools"),children:(0,i.jsxs)(ig,{type:"btnotify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(iI,{name:"MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"Binarytool"})})})]})}),(0,i.jsxs)(iy,{id:"apollo_contract_modifers",name:(0,y.NC)("Contract modifiers"),children:[(0,i.jsx)(ig,{type:"contract_changer_block",children:(0,i.jsx)(ik,{name:"CONTRACT_CHANGER",children:"disable"})}),(0,i.jsx)(ig,{type:"custom_prediction_setter",children:(0,i.jsx)(ik,{name:"PREDICTION_ACTIVE_TYPE",children:"0"})}),(0,i.jsx)(ig,{type:"active_symbol_changer",children:(0,i.jsx)(ik,{name:"SYMBOL_ACTIVE_TYPE",children:"disable"})})]}),(0,i.jsxs)(iy,{id:"barrier_settings",name:(0,y.NC)("Barrier Settings"),children:[(0,i.jsx)(ig,{type:"enable_barrier_changer",children:(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"disable"})}),(0,i.jsxs)(ig,{type:"barrier_changer",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"text"}),(0,i.jsx)(iI,{name:"TEXT",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]})]}),(0,i.jsxs)(iC,{id:"examples",children:[(0,i.jsx)(iN,{id:"sell_available",children:(0,i.jsx)(ig,{type:"during_purchase",children:(0,i.jsx)(iE,{name:"DURING_PURCHASE_STACK",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsx)(ig,{type:"check_sell"})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsx)(ig,{type:"sell_at_market"})})]})})})}),(0,i.jsx)(iN,{id:"trade_again",children:(0,i.jsx)(ig,{type:"after_purchase",children:(0,i.jsx)(iE,{name:"AFTERPURCHASE_STACK",children:(0,i.jsx)(ig,{type:"controls_if",children:(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"total_profit"})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"target_profit"})})})]})})})})})}),(0,i.jsx)(iN,{id:"sma_block_example",children:(0,i.jsxs)(ig,{type:"sma_statement",children:[(0,i.jsx)(ik,{name:"VARIABLE",variabletype:"",children:"sma"}),(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST",children:(0,i.jsxs)(ig,{type:"ohlc_values",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"})]})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})]})}),(0,i.jsx)(iN,{id:"sma_array",children:(0,i.jsxs)(ig,{type:"smaa_statement",children:[(0,i.jsx)(ik,{name:"VARIABLE",variabletype:"",children:"smaa"}),(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsx)(ig,{type:"input_list",deletable:"false",movable:"false",children:(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})})})]})}),(0,i.jsx)(iN,{id:"sma_block_example_1",children:(0,i.jsxs)(ig,{type:"sma_statement",children:[(0,i.jsx)(ik,{name:"VARIABLE",variabletype:"",children:"sma"}),(0,i.jsx)(iE,{name:"STATEMENT",children:(0,i.jsxs)(ig,{type:"input_list",deletable:"false",movable:"false",children:[(0,i.jsx)(iI,{name:"INPUT_LIST",children:(0,i.jsx)(ig,{type:"ticks"})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"period",deletable:"false",movable:"false",children:(0,i.jsx)(iI,{name:"PERIOD",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})})})]})})]})}),(0,i.jsx)(iN,{id:"in_candle_list_read",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"op"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"read_ohlc",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"}),(0,i.jsx)(iI,{name:"CANDLEINDEX",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]})})]})}),(0,i.jsx)(iN,{id:"read_candle_value",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"op"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"read_ohlc_obj",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(iI,{name:"OHLCOBJ",children:(0,i.jsxs)(ig,{type:"read_ohlc",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"}),(0,i.jsx)(iI,{name:"CANDLEINDEX",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]})})]})})]})}),(0,i.jsx)(iN,{id:"candle_list",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"candle_list"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"ohlc_values",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"})]})})]})}),(0,i.jsx)(iN,{id:"candle_list_1",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"cl"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"ohlc_values_in_list",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(iI,{name:"OHLCLIST",children:(0,i.jsx)(ig,{type:"ohlc",children:(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"})})})]})})]})}),(0,i.jsx)(iN,{id:"get_candle",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"candle_open_price"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"read_ohlc_obj",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"epoch"}),(0,i.jsx)(iI,{name:"OHLCOBJ",children:(0,i.jsxs)(ig,{type:"get_ohlc",children:[(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"}),(0,i.jsx)(iI,{name:"CANDLEINDEX",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"2"})})})]})})]})})]})}),(0,i.jsx)(iN,{id:"check_result",children:(0,i.jsx)(ig,{type:"after_purchase",children:(0,i.jsx)(iE,{name:"AFTERPURCHASE_STACK",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsx)(ig,{type:"contract_check_result",children:(0,i.jsx)(ik,{name:"CHECK_RESULT",children:"win"})})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsx)(ig,{type:"trade_again"})})]})})})}),(0,i.jsx)(iN,{id:"sell_pl",children:(0,i.jsx)(ig,{type:"during_purchase",children:(0,i.jsx)(iE,{name:"DURING_PURCHASE_STACK",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsx)(ig,{type:"check_sell"})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"sell_price"})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"stake"})})})]})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsx)(ig,{type:"sell_at_market"})})]})})]})})})}),(0,i.jsx)(iN,{id:"if-return",children:(0,i.jsxs)(ig,{type:"procedures_defreturn",children:[(0,i.jsx)(iT,{children:(0,i.jsx)(ib,{name:"x"})}),(0,i.jsx)(ik,{name:"NAME",children:"do something"}),(0,i.jsx)(iE,{name:"STACK",children:(0,i.jsxs)(ig,{type:"procedures_ifreturn",children:[(0,i.jsx)(iT,{value:"1"}),(0,i.jsx)(iI,{name:"CONDITION",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})})]})}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"x must be positive or zero"})})})]})}),(0,i.jsx)(iI,{name:"RETURN",children:(0,i.jsxs)(ig,{type:"math_single",children:[(0,i.jsx)(ik,{name:"OP",children:"ROOT"}),(0,i.jsxs)(iI,{name:"NUM",children:[(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"9"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})]})]})})]})}),(0,i.jsx)(iN,{id:"notify_telegram",children:(0,i.jsxs)(ig,{type:"notify_telegram",children:[(0,i.jsxs)(iI,{name:"TELEGRAM_ACCESS_TOKEN",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"access_token"})})]}),(0,i.jsxs)(iI,{name:"TELEGRAM_CHAT_ID",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"chat_id"})})]}),(0,i.jsx)(iI,{name:"TELEGRAM_MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"Enjoy!"})})})]})}),(0,i.jsx)(iN,{id:"epoch",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"candle"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"read_ohlc",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"open"}),(0,i.jsx)(ik,{name:"CANDLEINTERVAL_LIST",children:"default"}),(0,i.jsx)(iI,{name:"CANDLEINDEX",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})})]})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"Open Time"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"read_ohlc_obj",children:[(0,i.jsx)(ik,{name:"OHLCFIELD_LIST",children:"epoch"}),(0,i.jsx)(iI,{name:"OHLCOBJ",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"candle"})})})]})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"Open Time"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsxs)(ig,{type:"math_arithmetic",children:[(0,i.jsx)(ik,{name:"OP",children:"MINUS"}),(0,i.jsxs)(iI,{name:"A",children:[(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})}),(0,i.jsx)(ig,{type:"epoch"})]}),(0,i.jsxs)(iI,{name:"B",children:[(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"Open Time"})})]})]})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"controls_if",children:(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"GTE"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"Time Since Candle Opened"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"30"})})})]})})})})]})})]})})]})}),(0,i.jsx)(iN,{id:"totimestamp",children:(0,i.jsx)(ig,{type:"before_purchase",children:(0,i.jsx)(iE,{name:"BEFOREPURCHASE_STACK",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"epoch"})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"totimestamp",children:(0,i.jsx)(iI,{name:"DATETIME",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"1957-08-31 00:00:00"})})})})})]})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsx)(ig,{type:"apollo_purchase",children:(0,i.jsx)(ik,{name:"PURCHASE_LIST",children:"CALL"})})})]})})})}),(0,i.jsx)(iN,{id:"todatetime",children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsxs)(iI,{name:"MESSAGE",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})}),(0,i.jsx)(ig,{type:"todatetime",children:(0,i.jsxs)(iI,{name:"TIMESTAMP",children:[(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})}),(0,i.jsx)(ig,{type:"epoch"})]})})]})]})}),(0,i.jsx)(iN,{id:"constrain",children:(0,i.jsxs)(ig,{type:"math_constrain",children:[(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"5"})})}),(0,i.jsx)(iI,{name:"LOW",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})}),(0,i.jsx)(iI,{name:"HIGH",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"20"})})})]})}),(0,i.jsx)(iN,{id:"controls_if",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iT,{elseif:"1",else:"1"}),(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"var1"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"var2"})})})]})}),(0,i.jsx)(iI,{name:"IF1",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"var3"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"var4"})})})]})})]})}),(0,i.jsx)(iN,{id:"compare_logic",children:(0,i.jsx)(ig,{type:"logic_compare",children:(0,i.jsx)(ik,{name:"OP",children:"EQ"})})}),(0,i.jsx)(iN,{id:"compare_logic_1",children:(0,i.jsx)(ig,{type:"logic_operation",children:(0,i.jsx)(ik,{name:"OP",children:"AND"})})}),(0,i.jsx)(iN,{id:"repeat_while",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"controls_whileUntil",children:[(0,i.jsx)(ik,{name:"MODE",children:"WHILE"}),(0,i.jsx)(iI,{name:"BOOL",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"LTE"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})]})}),(0,i.jsx)(iE,{name:"DO",children:(0,i.jsxs)(ig,{type:"math_change",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"DELTA",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"1"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsxs)(iI,{name:"MESSAGE",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})]})]})})]})})]})})]})}),(0,i.jsx)(iN,{id:"repeat_until",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"20"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"controls_whileUntil",children:[(0,i.jsx)(ik,{name:"MODE",children:"UNTIL"}),(0,i.jsx)(iI,{name:"BOOL",children:(0,i.jsxs)(ig,{type:"logic_compare",children:[(0,i.jsx)(ik,{name:"OP",children:"EQ"}),(0,i.jsx)(iI,{name:"A",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})}),(0,i.jsx)(iI,{name:"B",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})})]})}),(0,i.jsx)(iE,{name:"DO",children:(0,i.jsxs)(ig,{type:"math_change",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"DELTA",children:(0,i.jsx)(iw,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"-1"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsxs)(iI,{name:"MESSAGE",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})]})]})})]})})]})})]})}),(0,i.jsx)(iN,{id:"controls_for",children:(0,i.jsxs)(ig,{type:"controls_for",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"i"}),(0,i.jsx)(iI,{name:"FROM",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"0"})})}),(0,i.jsx)(iI,{name:"TO",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"10"})})}),(0,i.jsx)(iI,{name:"BY",children:(0,i.jsx)(ig,{type:"math_number",children:(0,i.jsx)(ik,{name:"NUM",children:"2"})})}),(0,i.jsx)(iE,{name:"DO",children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsxs)(iI,{name:"MESSAGE",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"i"})})]})]})})]})}),(0,i.jsx)(iN,{id:"controls_forEach",children:(0,i.jsxs)(ig,{type:"lists_create_with",children:[(0,i.jsx)(ik,{name:"VARIABLE",children:"list"}),(0,i.jsx)(iE,{name:"STACK",children:(0,i.jsxs)(ig,{type:"lists_statement",children:[(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"item1"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"lists_statement",children:[(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"item2"})})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"lists_statement",children:(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"item3"})})})})})]})})]})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"controls_forEach",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"i"}),(0,i.jsx)(iI,{name:"LIST",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"list"})})}),(0,i.jsx)(iE,{name:"DO",children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsxs)(iI,{name:"MESSAGE",children:[(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})}),(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"i"})})]})]})})]})})]})}),(0,i.jsx)(iN,{id:"break_out",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"logic_boolean",children:(0,i.jsx)(ik,{name:"BOOL",children:"TRUE"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"controls_repeat",children:[(0,i.jsx)(ik,{name:"TIMES",children:"10"}),(0,i.jsx)(iE,{name:"DO",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsx)(ig,{type:"logic_negate",children:(0,i.jsx)(iI,{name:"BOOL",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})})})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsx)(ig,{type:"controls_flow_statements",children:(0,i.jsx)(ik,{name:"FLOW",children:"BREAK"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsx)(iI,{name:"MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]})})]})})]})})]})}),(0,i.jsx)(iN,{id:"continue",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"logic_boolean",children:(0,i.jsx)(ik,{name:"BOOL",children:"FALSE"})})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"controls_repeat",children:[(0,i.jsx)(ik,{name:"TIMES",children:"10"}),(0,i.jsx)(iE,{name:"DO",children:(0,i.jsxs)(ig,{type:"controls_if",children:[(0,i.jsx)(iI,{name:"IF0",children:(0,i.jsx)(ig,{type:"logic_negate",children:(0,i.jsx)(iI,{name:"BOOL",children:(0,i.jsx)(ig,{type:"variables_get",children:(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"})})})})}),(0,i.jsx)(iE,{name:"DO0",children:(0,i.jsxs)(ig,{type:"variables_set",children:[(0,i.jsx)(ik,{name:"VAR",variabletype:"",children:"x"}),(0,i.jsx)(iI,{name:"VALUE",children:(0,i.jsx)(ig,{type:"logic_boolean",children:(0,i.jsx)(ik,{name:"BOOL",children:"TRUE"})})}),(0,i.jsx)(iS,{children:(0,i.jsx)(ig,{type:"controls_flow_statements",children:(0,i.jsx)(ik,{name:"FLOW",children:"CONTINUE"})})})]})}),(0,i.jsx)(iS,{children:(0,i.jsxs)(ig,{type:"notify",children:[(0,i.jsx)(ik,{name:"NOTIFICATION_TYPE",children:"success"}),(0,i.jsx)(ik,{name:"NOTIFICATION_SOUND",children:"silent"}),(0,i.jsx)(iI,{name:"MESSAGE",children:(0,i.jsx)(iw,{type:"text",children:(0,i.jsx)(ik,{name:"TEXT",children:"abc"})})})]})})]})})]})})]})})]})]})),iD=(0,r.Pi)(()=>{let{isDesktop:e}=(0,N.F)(),{toolbox:t,flyout:s,quick_strategy:a}=(0,j.oR)(),{hasSubCategory:n,is_search_loading:r,onMount:o,onSearch:c,onSearchBlur:d,onSearchClear:u,onSearchKeyUp:h,onToolboxItemClick:_,onToolboxItemExpand:m,onUnmount:x,sub_category_index:p,toolbox_dom:v}=t,{setFormVisibility:b}=a,{setVisibility:g,selected_category:f}=s,C=l.useRef(iR()),[k,T]=l.useState(!0);return(l.useEffect(()=>(o(C),()=>x()),[]),e)?(0,i.jsxs)("div",{className:"db-toolbox","data-testid":"dashboard__toolbox",children:[(0,i.jsx)(n7,{popover_message:(0,y.NC)("Click here to start building your Binarytools."),button_id:"db-toolbar__get-started-button",button_classname:"toolbar__btn toolbar__btn--icon toolbar__btn--start",buttonOnClick:()=>{b(!0),(0,t8.m5)({subpage_name:"bot_builder",subform_source:"bot_builder",subform_name:"quick_strategy"})},button_text:(0,y.NC)("Quick strategy")}),(0,i.jsxs)("div",{id:"gtm-toolbox",className:"db-toolbox__content",children:[(0,i.jsx)("div",{className:"db-toolbox__header",children:(0,i.jsxs)("div",{className:"db-toolbox__title","data-testid":"db-toolbox__title",onClick:()=>{T(!k),g(!1)},children:[(0,y.NC)("Blocks menu"),(0,i.jsx)("span",{className:F()("db-toolbox__title__chevron",{"db-toolbox__title__chevron--active":k}),children:(0,i.jsx)(i_.Z,{fill:"var(--text-general)"})})]})}),(0,i.jsxs)("div",{className:F()("db-toolbox__content-wrapper",{active:k}),"data-testid":"db-toolbox__content-wrapper",children:[(0,i.jsx)(ij,{is_search_loading:r,onSearch:c,onSearchBlur:d,onSearchClear:u,onSearchKeyUp:h}),(0,i.jsx)("div",{className:"db-toolbox__category-menu",children:v&&Array.from(v.childNodes).map((e,t)=>{if("CATEGORY"===e.tagName.toUpperCase()){let s=n(e.children),a=p.includes(t);return(0,i.jsxs)("div",{className:F()("db-toolbox__row",{"db-toolbox__row--active":(null==f?void 0:f.getAttribute("id"))===(null==e?void 0:e.id)}),children:[(0,i.jsx)("div",{className:"db-toolbox__item",onClick:()=>{s?m(t):_(e)},children:(0,i.jsxs)("div",{className:"db-toolbox__category-text",children:[(0,i.jsx)("div",{className:"db-toolbox__label",children:(0,y.NC)(e.getAttribute("name"))}),s&&(0,i.jsx)("div",{className:F()("db-toolbox__category-arrow",{"db-toolbox__category-arrow--active":a}),children:(0,i.jsx)(i_.Z,{fill:"var(--text-general)"})})]})}),s&&a&&Array.from(e.childNodes).map(e=>(0,i.jsx)("div",{className:F()("db-toolbox__sub-category-row",{"db-toolbox__sub-category-row--active":(null==f?void 0:f.getAttribute("id"))===(null==e?void 0:e.id)}),onClick:()=>{_(e)},children:(0,i.jsx)(es.Z,{size:"xxs",children:e.getAttribute("name")})},`db-toolbox__sub-category-row--${e.getAttribute("id")}`))]},`db-toolbox__row--${e.getAttribute("id")}`)}return null})})]})]})]}):null}),iO=(0,r.Pi)(()=>{var e;let{blockly_store:t}=(0,j.oR)(),{onMount:s,onUnmount:a,is_loading:n}=t;return(l.useEffect(()=>(s(),()=>{a()}),[]),n)?null:(null===(e=window.Blockly)||void 0===e?void 0:e.derivWorkspace)?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(iD,{}),(0,i.jsx)(ih,{}),(0,i.jsx)(n8,{}),(0,i.jsx)(n4,{})]}):null}),iL=(0,r.Pi)(()=>{let{dashboard:e,app:t,run_panel:s,toolbar:a,quick_strategy:n,blockly_store:r}=(0,j.oR)(),{active_tab:o,active_tour:c,is_preview_on_popup:d}=e,{is_open:u}=n,{is_running:h}=s,{is_loading:_}=r,m=l.useRef(!1),x=l.useRef(!1),{isDesktop:p}=(0,N.F)(),{onMount:v,onUnmount:b}=t,g=l.useRef(null),f=null;l.useEffect(()=>(v(),()=>b()),[v,b]),l.useEffect(()=>{var e;let t=null===(e=window.Blockly)||void 0===e?void 0:e.derivWorkspace;return t&&h&&!m.current?(m.current=!0,t.addChangeListener(C)):k(),()=>{t&&m.current&&k()}},[h]);let C=e=>{let{is_reset_button_clicked:t}=a;"selected"===e.type||t?t&&k():((0,sW.J)((0,sK.xG)().workspace_change),k())},k=()=>{var e,t;m.current=!1,null===(t=window.Blockly)||void 0===t||null===(e=t.derivWorkspace)||void 0===e||e.removeChangeListener(C)};l.useEffect(()=>{var e;let t=null===(e=window.Blockly)||void 0===e?void 0:e.derivWorkspace;t&&!x.current&&(x.current=!0,t.addChangeListener(T))},[_]);let T=e=>{let{is_reset_button_clicked:t,setResetButtonState:s}=a;"delete"===e.type&&!t&&(f=e.blockId),"selected"===e.type&&f===e.oldElementId&&S(),"change"===e.type&&"AMOUNT_LIMITS"===e.name&&"(min: 0.35 - max: 50000)"===e.newValue&&t&&s(!1)},S=()=>{(0,sW.J)((0,sK.xG)().block_delete,{label:(0,y.NC)("Undo"),onClick:e=>{window.Blockly.derivWorkspace.undo(),null==e||e()}})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:F()("bot-builder",{"bot-builder--active":2===o&&!d,"bot-builder--inactive":d,"bot-builder--tour-active":c}),children:(0,i.jsx)("div",{id:"scratch_div",ref:g,children:(0,i.jsx)(iO,{})})}),2===o&&(0,i.jsx)(aV,{is_mobile:!p}),(0,i.jsx)(ah,{}),(0,i.jsx)(aj,{}),u&&(0,i.jsx)(n$,{})]})});var iM=s("70361"),iF=s("89250");let iU=(0,r.Pi)(()=>{let[e,t]=(0,l.useState)(!1),s=()=>{t(!e)};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"risk-disclaimer-icon",onClick:s,children:[(0,i.jsx)(iM.gJy,{className:"icon"})," ",(0,i.jsx)("b",{children:"Risk Disclaimer"})]}),e&&(0,i.jsx)("div",{className:"popup_disclaimer",onClick:s,children:(0,i.jsxs)("div",{className:"popup-content",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("span",{className:"close-button",onClick:s,children:"\xd7"}),(0,i.jsx)("h2",{children:"Risk Disclaimer"}),(0,i.jsx)("p",{children:"Deriv offers complex derivatives, such as options and contracts for difference (“CFDs”). These products may not be suitable for all clients, and trading them puts you at risk. Please make sure that you understand the following risks before trading Deriv products:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"You may lose some or all of the money you invest in the trade."}),(0,i.jsx)("li",{children:"If your trade involves currency conversion, exchange rates will affect your profit and loss."})]}),(0,i.jsx)("p",{children:"You should never trade with borrowed money or with money that you cannot afford to lose."}),(0,i.jsx)("div",{className:"bottom_btn",children:(0,i.jsx)("button",{className:"dont_show_again",onClick:s,children:"I Understand"})})]})})]})}),iP=()=>(0,i.jsx)("iframe",{id:"trading-view-iframe",style:{width:"100%",height:"100%",backgroundColor:"white"},src:"https://charts.deriv.com/deriv?hide-signup=true"}),iZ=(e,t,s)=>{let a=e.length;t.length;let n=e.filter(e=>e%2==0).length,i=e.filter(e=>e%2!=0).length,l=e.filter(e=>e>s).length,r=e.filter(e=>e<=s).length,o=e.filter(e=>e===s).length,c=e.filter(e=>e!==s).length,d=0,u=0;for(let e=1;e<t.length;e++)t[e]>t[e-1]?d++:t[e]<t[e-1]&&u++;let h=d+u,_=h>0?d/h*100:0;return{evenPercentage:n/a*100,oddPercentage:i/a*100,overPercentage:l/a*100,underPercentage:r/a*100,matchesPercentage:o/a*100,differsPercentage:c/a*100,risePercentage:_,fallPercentage:h>0?u/h*100:0}},iz=(0,r.Pi)(()=>{var e,t,s;let[a,n]=(0,l.useState)("AUTOLDP"),[r,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)("Updating..."),[u,h]=(0,l.useState)([]),[_,m]=(0,l.useState)(0),[x,p]=(0,l.useState)(1e3),[v,b]=(0,l.useState)([]),[g,f]=(0,l.useState)("R_100"),[y,N]=(0,l.useState)("R_100"),[C,k]=(0,l.useState)(2),[T,S]=(0,l.useState)(!1),[w,E]=(0,l.useState)(!1),[I,A]=(0,l.useState)(!1),[R,D]=(0,l.useState)(!1),[O,L]=(0,l.useState)(5),{ui:M}=(0,j.oR)(),{is_dark_mode_on:F}=M;(0,l.useEffect)(()=>{P();let e=localStorage.getItem("no_of_ticks"),t=localStorage.getItem("active_card");null!==e&&p(parseFloat(e)),null!==t&&n(t)},[]),(0,l.useEffect)(()=>{y!==g&&Z.api_base4.api.send({ticks_history:g,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),N(g)},[g]);let U=(e,t)=>{let s=e.toFixed(t);return Number(s=String(s).slice(-1))},P=async()=>{if(await new Promise(e=>setTimeout(e,5e3)),!r&&(Z.api_base4.api.send({active_symbols:"brief",product_type:"basic"}),o(!0)),Z.api_base4.api){let e=Z.api_base4.api.onMessage().subscribe(e=>{let{data:t}=e;if("tick"===t.msg_type){let{tick:e}=t,{ask:s,id:a,pip_size:n}=e;m(U(s,n)),d(s),z(),h(e=>[...e,s])}if("history"===t.msg_type){let{history:e,pip_size:s}=t;k(s);let{prices:a}=e,{ticks_history:n}=t.echo_req;h(a),f(n),Z.api_base4.api.send({ticks:n,subscribe:1})}if("active_symbols"===t.msg_type){let{active_symbols:e}=t,s=e.filter(e=>"synthetics"===e.subgroup);s.sort((e,t)=>e.display_order-t.display_order),Z.api_base4.api.send({ticks_history:s[0].symbol,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),b(s)}});Z.api_base4.pushSubscription(e)}},z=()=>{h(e=>e.slice(1))},B=(()=>{let e=u.slice(-x),t=[];return e.forEach(e=>{let s=U(e,C);t.push(s)}),t})(),V=u.slice(-x),$=(()=>{let e=u.slice(-1e3),t=[];return e.forEach(e=>{let s=U(e,C);t.push(s)}),t})(),X="number"==typeof O?O:0,{evenPercentage:G,oddPercentage:H,overPercentage:q,underPercentage:Y,matchesPercentage:W,differsPercentage:K,risePercentage:J,fallPercentage:Q}=iZ(B,V,X),ee=Array.from({length:10},(e,t)=>iZ($,V,t).matchesPercentage),et=[...ee].slice().sort((e,t)=>t-e),es=ee.indexOf(et[0]),ea=ee.indexOf(et[1]),en=ee.indexOf(et[et.length-1]),ei=ee.indexOf(et[et.length-2]),el=e=>{let t,s;return e===es?(t=40,s="#00a79e"):e===ea?(t=50,s="#070bf7"):e===en?(t=40,s="#ff0000"):e===ei?(t=50,s="#ffe644"):(t=50,s="#777"),`#444 linear-gradient(to bottom, transparent ${t}%, ${s} 0)`};return(0,i.jsxs)("div",{className:"analysistool",style:{color:F?"#fff":"#000"},children:[(0,i.jsxs)("div",{className:"top-settings",children:[(0,i.jsxs)("div",{className:"market-settings",children:[(0,i.jsx)("select",{name:"",id:"market-selection",onChange:e=>{let t=e.target.value;Z.api_base4.api.forgetAll("ticks").then(()=>{d("Loading..."),f(t)})},children:v.length>0?v.map(e=>(0,i.jsx)("option",{value:e.symbol,children:e.display_name},e.symbol)):(0,i.jsx)("option",{value:"",children:"SELECT MARKET"})}),(0,i.jsxs)("div",{className:"number-of-ticks",children:[(0,i.jsx)("small",{children:"Ticks"}),(0,i.jsx)("input",{type:"number",name:"",id:"",value:x,onChange:e=>{let t=e.target.value;p(""===t?"":Number(t)),localStorage.setItem("no_of_ticks",t)}})]})]}),(0,i.jsxs)("div",{className:"current-tick",children:[(0,i.jsx)("h4",{children:"PRICE"}),(0,i.jsx)("h3",{children:c.toString()})]})]}),(0,i.jsx)("div",{className:"circles-card",children:Array.from({length:10},(e,t)=>{let s=iZ($,V,t).matchesPercentage,a=el(t),n=B.slice(-1)[0];return(0,i.jsxs)("div",{className:"digit-item",style:{background:a,position:"relative"},children:[(0,i.jsx)("h3",{children:t}),(0,i.jsxs)("h4",{children:[s.toFixed(2),"%"]}),t===n&&(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{position:"absolute",bottom:"-15px",left:"50%",transform:"translateX(-50%)"},children:(0,i.jsx)("path",{fill:"red",d:"M8 4l6 8H2z"})})]},t)})}),(0,i.jsxs)("div",{className:"over-under-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Over/Under Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(0===B.length)return"No data";let e=1,t=B[B.length-1]>X;for(let s=B.length-2;s>=0;s--)if(B[s]>X===t)e++;else break;return`${e}x ${t?"Over":"Under"}`})()]})]}),(0,i.jsx)("div",{className:"prediction-buttons",children:Array.from({length:10},(e,t)=>t).map(e=>(0,i.jsx)("button",{className:`prediction-button ${O===e?"active":""}`,onClick:()=>L(e),children:e},e))}),(0,i.jsxs)("div",{className:"percentages",children:[(0,i.jsxs)("div",{className:"percentage over",children:[(0,i.jsx)("strong",{children:"Over"}),(0,i.jsxs)("span",{children:[q.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar over",children:(0,i.jsx)("div",{className:"bar",style:{width:`${q}%`}})})]}),(0,i.jsxs)("div",{className:"percentage under",children:[(0,i.jsx)("strong",{children:"Under"}),(0,i.jsxs)("span",{children:[Y.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar under",children:(0,i.jsx)("div",{className:"bar",style:{width:`${Y}%`}})})]})]}),(0,i.jsxs)("div",{className:"sequence-container",children:[(e=I?50:8,B.slice(-e).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e>X?"over":"under"}`,children:e>X?"O":"U"},t))),(0,i.jsx)("button",{className:"more-button",onClick:()=>A(!I),children:I?"LESS":"MORE"})]})]}),(0,i.jsxs)("div",{className:"matches-differs-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Matches/Differs Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(0===B.length)return"No data";let e=1,t=B[B.length-1]===X;for(let s=B.length-2;s>=0;s--)if(B[s]===X===t)e++;else break;return`${e}x ${t?"Match":"Differ"}`})()]})]}),(0,i.jsx)("div",{className:"prediction-buttons",children:Array.from({length:10},(e,t)=>t).map(e=>(0,i.jsx)("button",{className:`prediction-button ${O===e?"active":""}`,onClick:()=>L(e),children:e},e))}),(0,i.jsxs)("div",{className:"percentages",children:[(0,i.jsxs)("div",{className:"percentage match",children:[(0,i.jsx)("strong",{children:"Matches"}),(0,i.jsxs)("span",{children:[W.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar match",children:(0,i.jsx)("div",{className:"bar",style:{width:`${W}%`}})})]}),(0,i.jsxs)("div",{className:"percentage differ",children:[(0,i.jsx)("strong",{children:"Differs"}),(0,i.jsxs)("span",{children:[K.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar differ",children:(0,i.jsx)("div",{className:"bar",style:{width:`${K}%`}})})]})]}),(0,i.jsxs)("div",{className:"sequence-container",children:[(t=R?50:8,B.slice(-t).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e===X?"match":"differ"}`,children:e===X?"M":"D"},t))),(0,i.jsx)("button",{className:"more-button",onClick:()=>D(!R),children:R?"LESS":"MORE"})]})]}),(0,i.jsxs)("div",{className:"even-odd-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Even/Odd Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(0===B.length)return"No data";let e=1,t=B[B.length-1]%2==0;for(let s=B.length-2;s>=0;s--)if(B[s]%2==0===t)e++;else break;return`${e}x ${t?"even":"odd"}`})()]})]}),(0,i.jsxs)("div",{className:"percentages",children:[(0,i.jsxs)("div",{className:"percentage even",children:[(0,i.jsx)("strong",{children:"Even"}),(0,i.jsxs)("span",{children:[G.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar even",children:(0,i.jsx)("div",{className:"bar",style:{width:`${G}%`}})})]}),(0,i.jsxs)("div",{className:"percentage odd",children:[(0,i.jsx)("strong",{children:"Odd"}),(0,i.jsxs)("span",{children:[H.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar odd",children:(0,i.jsx)("div",{className:"bar",style:{width:`${H}%`}})})]})]}),(0,i.jsxs)("div",{className:"sequence-container",children:[(s=T?50:8,B.slice(-s).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e%2==0?"even":"odd"}`,children:e%2==0?"E":"O"},t))),(0,i.jsx)("button",{className:"more-button",onClick:()=>S(!T),children:T?"LESS":"MORE"})]})]}),(0,i.jsxs)("div",{className:"rise-fall-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Rise/Fall Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(V.length<2)return"No data";let e=1,t=V[V.length-1]>V[V.length-2]?"R":"F";for(let s=V.length-2;s>=1;s--)if((V[s]>V[s-1]?"R":"F")===t)e++;else break;return`${e}x ${"R"===t?"Fall":"Rise"}`})()]})]}),(0,i.jsxs)("div",{className:"percentages",children:[(0,i.jsxs)("div",{className:"percentage rise",children:[(0,i.jsx)("strong",{children:"Rise"}),(0,i.jsxs)("span",{children:[J.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar rise",children:(0,i.jsx)("div",{className:"bar",style:{width:`${J}%`}})})]}),(0,i.jsxs)("div",{className:"percentage fal",children:[(0,i.jsx)("strong",{children:"Fall"}),(0,i.jsxs)("span",{children:[Q.toFixed(1),"%"]}),(0,i.jsx)("div",{className:"percentage-bar fal",children:(0,i.jsx)("div",{className:"bar",style:{width:`${Q}%`}})})]})]}),(0,i.jsxs)("div",{className:"sequence-container",children:[(e=>{let t=V.slice(-e),s=[];for(let e=1;e<t.length;e++)s.push(t[e]>t[e-1]?"R":"F");return s})(w?51:9).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${"R"===e?"rise":"fal"}`,children:e},t)),(0,i.jsx)("button",{className:"more-button",onClick:()=>E(!w),children:w?"LESS":"MORE"})]})]})]})}),iB=()=>(0,i.jsx)("div",{className:"main_analysis",children:(0,i.jsx)(iz,{})}),iV=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{is_trading_view_modal_visible:t,is_analysistool_visible:s,setAnalysistoolVisibility:a,setTradingViewModalVisibility:n}=e;return(0,i.jsxs)(l.Fragment,{children:[t&&(0,i.jsx)(L,{boundary:".main",header:(0,y.NC)("TradingView Chart"),onClose:n,modalWidth:526,modalHeight:595,minWidth:526,minHeight:524,enableResizing:!0,children:(0,i.jsx)("div",{style:{height:"calc(100% - 6rem)",padding:"0.5rem"},children:(0,i.jsx)(iP,{})})}),s&&(0,i.jsx)(L,{boundary:".main",header:(0,y.NC)("Analysistool"),onClose:a,modalWidth:526,modalHeight:595,minWidth:300,minHeight:400,enableResizing:!0,children:(0,i.jsx)("div",{style:{height:"90%",width:"100%",justifyContent:"center",display:"flex",flexDirection:"column",boxSizing:"border-box"},children:(0,i.jsx)("div",{style:{flex:1,overflow:"auto",paddingBottom:"1rem"},children:(0,i.jsx)(iB,{})})})})]})});var i$=s("73981"),iX=s("76953"),iG=s("47376"),iH=s("8677");let iq=e=>{let{enable_tp_sl:t,showBotSettings:s,stop_loss:a,take_profit:n,takeProfitValue:r,stopLossValue:o,enableSlTpValue:c,enableCopyDemo:d,enable_demo_copy:u,liveAccCR:h,enableDisableMartingale:_,enable_disable_martingale:m,setEnableDisableMartingale:x,setShowBotSettings:p,setTakeProfitValue:j,setStopLossValue:v,setEnableSlTpValue:b,setCopyDemo:g,setLiveAccCr:f}=e,[N,C]=l.useState([]),[k,T]=l.useState("");l.useEffect(()=>{if("undefined"!=typeof localStorage){let e=Object.keys(JSON.parse(localStorage.getItem("accountsList"))||void 0).filter(e=>e.startsWith("CR"));C(e),e.length>0&&(T(e[0]),f(e[0]))}},[]);let S=()=>{p(!s)};return(0,i.jsxs)(sq.Z,{is_visible:!0,is_mobile_full_width:!0,className:"dc-dialog bot-stopped-dialog",confirm_button_text:(0,y.NC)("Close"),onConfirm:()=>S(),children:[(0,i.jsxs)("div",{className:"dc-dialog__content__header",children:[(0,i.jsx)(es.Z,{"data-testid":"data-title",weight:"bold",as:"p",align:"left",size:"s",color:"prominent",children:(0,y.NC)("Pro Analysistool Settings")}),(0,i.jsx)("div",{"data-testid":"data-close-button",onClick:S,onKeyDown:e=>{"Enter"===e.key&&S()},tabIndex:0,children:(0,i.jsx)(e6.J,{icon:"IcCross"})})]}),(0,i.jsxs)("div",{className:"bot_options",children:[(0,i.jsxs)("div",{className:"tp",children:[(0,i.jsx)("label",{htmlFor:"take_profit",children:(0,i.jsx)(es.Z,{as:"p",align:"left",size:"xs",color:"prominent",children:(0,y.NC)("Take Profit:")})}),(0,i.jsx)("input",{type:"text",value:r,id:"take_profit",onChange:e=>{let t=e.target.value;j(""===t?"":Number(t)),n.current=""!==t?Number(t):0}})]}),(0,i.jsxs)("div",{className:"sl",children:[(0,i.jsx)("label",{htmlFor:"stop_loss",children:(0,i.jsx)(es.Z,{as:"p",align:"left",size:"xs",color:"prominent",children:(0,y.NC)("Stop Loss:")})}),(0,i.jsx)("input",{type:"text",value:o,id:"stop_loss",onChange:e=>{let t=e.target.value;v(""===t?"":Number(t)),a.current=""!==t?Number(t):0}})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{htmlFor:"enable_tp_sl",children:(0,i.jsx)(es.Z,{as:"p",align:"left",size:"xs",color:"prominent",children:(0,y.NC)("Enable/Disable")})}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:c,id:"enable_tp_sl",onChange:()=>{b(!c),t.current=!c}}),(0,i.jsx)("span",{className:"slider round"})]})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{htmlFor:"enable_disbale_martingale",children:(0,i.jsx)(es.Z,{as:"p",align:"left",size:"xs",color:"prominent",children:(0,y.NC)("Enable/Disable Martingale")})}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:_,id:"enable_disbale_martingale",onChange:()=>{x(!_),m.current=!_}}),(0,i.jsx)("span",{className:"slider round"})]})]}),(0,i.jsxs)("div",{className:"copy_demo_trades",children:[(0,i.jsx)("label",{htmlFor:"copy_demo",children:(0,i.jsx)(es.Z,{as:"p",align:"left",size:"xs",color:"prominent",children:(0,y.NC)("Copy Demo Status:")})}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:d,id:"copy_demo",onChange:()=>{g(!d),u.current=!u.current}}),(0,i.jsx)("span",{className:"slider round"})]})]}),d&&(0,i.jsx)("select",{value:h,onChange:e=>{f(e.target.value)},children:N.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]})]})},iY=e=>{let{lastDigitList:t,active_last:s,contract_type:a,duration:n,isOneClickActive:l,active_symbol:r,stake_amount:o,isAutoClickerActive:c,digitDiffHigh:d,digitDiffLow:u,isTradeActive:h,isTradeActiveRef:_,tradingDiffType:m,enableCopyDemo:x,liveAccCR:p,setIsTradeActive:j}=e,v=e=>{l&&(x?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(p).token],price:o,parameters:{amount:o,basis:"stake",contract_type:a,currency:"USD",duration:n,duration_unit:"t",symbol:r,barrier:e}}):Z.api_base.api.send({buy:"1",price:o,subscribe:1,parameters:{amount:o,basis:"stake",contract_type:a,currency:"USD",duration:n,duration_unit:"t",symbol:r,barrier:e}}))},b=e=>{l&&c&&!h&&"MANUAL"!==m&&(_.current=!0,j(!0),x?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(p).token],price:o,parameters:{amount:o,basis:"stake",contract_type:a,currency:"USD",duration:n,duration_unit:"t",symbol:r,barrier:e}}):Z.api_base.api.send({buy:"1",price:o,subscribe:1,parameters:{amount:o,basis:"stake",contract_type:a,currency:"USD",duration:n,duration_unit:"t",symbol:r,barrier:e}}))},g=()=>{let e=Array(10).fill(0);t.forEach(t=>{e[t]++});let s=Math.min(...e),a=[];e.forEach((e,t)=>{e===s&&a.push(t)}),b(a[0].toString())},f=e=>{document.querySelectorAll(".progress").forEach(t=>{t.classList.remove("active"),parseInt(t.dataset.number)===e&&t.classList.add("active")})},y=e=>{let t="",s="",a="",n=-1/0,i=1/0,l=1/0,r=document.querySelectorAll(".progress");for(let[r,o]of Object.entries(e))o>n&&(n=o,t=r),o<i&&o>0?(l=i,a=s,i=o,s=r):o<l&&o>0&&o!==i&&(l=o,a=r);return g(),r.forEach(e=>{e.classList.remove("top"),e.classList.remove("less"),e.classList.remove("second"),parseInt(e.dataset.number)===parseFloat(s)&&e.classList.add("less"),parseInt(e.dataset.number)===parseFloat(t)&&e.classList.add("top"),parseInt(e.dataset.number)===parseFloat(a)&&e.classList.add("second")}),{maxKey:t,minKey:s}},N=(e=>{let t={};e.forEach(e=>{t[e]=(t[e]||0)+1});let a=e.length,n={};for(let e in t)n[e]=t[e]/a*100;for(let e=0;e<=9;e++){let t=e.toString();n[t]=n[t]||0}return"undefined"!=typeof document&&(f(s),y(n)),n})(t);return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"differs_container",children:[(0,i.jsxs)("div",{className:"progress top","data-number":"0",onClick:()=>v("0"),children:[(0,i.jsx)("h3",{children:"0"}),(0,i.jsxs)("h4",{children:[N["0"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"1",onClick:()=>v("1"),children:[(0,i.jsx)("h3",{children:"1"}),(0,i.jsxs)("h4",{children:[N["1"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"2",onClick:()=>v("2"),children:[(0,i.jsx)("h3",{children:"2"}),(0,i.jsxs)("h4",{children:[N["2"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"3",onClick:()=>v("3"),children:[(0,i.jsx)("h3",{children:"3"}),(0,i.jsxs)("h4",{children:[N["3"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress less","data-number":"4",onClick:()=>v("4"),children:[(0,i.jsx)("h3",{children:"4"}),(0,i.jsxs)("h4",{children:[N["4"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"5",onClick:()=>v("5"),children:[(0,i.jsx)("h3",{children:"5"}),(0,i.jsxs)("h4",{children:[N["5"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress second","data-number":"6",onClick:()=>v("6"),children:[(0,i.jsx)("h3",{children:"6"}),(0,i.jsxs)("h4",{children:[N["6"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"7",onClick:()=>v("7"),children:[(0,i.jsx)("h3",{children:"7"}),(0,i.jsxs)("h4",{children:[N["7"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"8",onClick:()=>v("8"),children:[(0,i.jsx)("h3",{children:"8"}),(0,i.jsxs)("h4",{children:[N["8"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]}),(0,i.jsxs)("div",{className:"progress","data-number":"9",onClick:()=>v("9"),children:[(0,i.jsx)("h3",{children:"9"}),(0,i.jsxs)("h4",{children:[N["9"].toFixed(2),(0,i.jsx)("span",{children:"%"})]})]})]})})};var iW=s("29009"),iK=s("98687"),iJ=s("56880");class iQ extends l.PureComponent{render(){let e;let{data:t}=this.props;return t.length>9&&(e=t.slice(-10)),(0,i.jsx)(iW.h,{width:"100%",height:"100%",style:{padding:"10px 0px"},children:(0,i.jsx)(iK.w,{width:300,height:100,data:t.length>9?e:t,children:(0,i.jsx)(iJ.x,{isAnimationActive:!1,type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:e=>{let{cx:t,cy:s,value:a}=e;return(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:t,cy:s,r:4,fill:"#8884d8"}),(0,i.jsx)("text",{x:t,y:s,dy:-10,textAnchor:"end",fill:a>0?"#00a79e":"#cc2e3d",children:a})]})}},"line")})})}}var i0=s("94831"),i1=s("14195"),i2=s("3023"),i5=s("75358"),i8=s("62722"),i3=s("64963"),i4=s("43815"),i7=s("2763");let i6=e=>{let{x:t,y:s,width:a,value:n}=e;return(0,i.jsx)("text",{x:t+a+5,y:s+10,fill:"#666",textAnchor:"start",fontSize:12,children:n})},i9=(e,t,s)=>{let a=e.length,n=e.filter(e=>e>t).length,i=e.filter(e=>e<s).length;return[n/a*100,i/a*100]},le=e=>{let{overUnderList:t,overValue:s,underValue:a,is_mobile:n,active_symbol:r,isOverUnderOneClickActive:o,oneClickAmount:c,oneClickDuration:d,isTradeActive:u,percentageValue:h,overUnderContract:_,overUnderDirection:m,isTradeActiveRef:x,enableCopyDemo:p,liveAccCR:j,setIsTradeActive:v}=e,[b,g]=i9(t,Number(s),Number(a)),f=()=>{if("SAME"===m)return _;if("OPPOSITE"===m){if("DIGITOVER"===_)return"DIGITUNDER";if("DIGITUNDER"===_)return"DIGITOVER"}};(0,l.useEffect)(()=>{let e=e=>{o&&!u&&(x.current=!0,v(!0),p?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(j).token],price:c,parameters:{amount:c,basis:"stake",contract_type:f(),currency:"USD",duration:d,duration_unit:"t",symbol:r,barrier:e}}):Z.api_base.api.send({buy:"1",price:c,subscribe:1,parameters:{amount:c,basis:"stake",contract_type:f(),currency:"USD",duration:d,duration_unit:"t",symbol:r,barrier:e}}))};"DIGITOVER"===_?"string"!=typeof h&&b>h&&e("DIGITOVER"===_?s.toString():a.toString()):"string"!=typeof h&&g>h&&e("DIGITOVER"===_?s.toString():a.toString())},[b,g,u,t]);let y=[{name:"Over",percentage:+b.toFixed(2)},{name:"Under",percentage:+g.toFixed(2)}],N=["#4CAF50","#F44336"];return(0,i.jsx)(iW.h,{width:"140%",height:211,children:(0,i.jsxs)(i0.v,{width:100,height:211,data:y,layout:"vertical",margin:{top:20,right:30,left:20,bottom:5},children:[(0,i.jsx)(i1.q,{strokeDasharray:"3 3"}),(0,i.jsx)(i2.K,{type:"number"}),(0,i.jsx)(i5.B,{type:"category",dataKey:"name"}),(0,i.jsx)(i8.u,{}),(0,i.jsxs)(i3.$,{dataKey:"percentage",fill:"#8884d8",isAnimationActive:!n,children:[y.map((e,t)=>(0,i.jsx)(i4.b,{fill:N[t]},`cell-${t}`)),(0,i.jsx)(i7.e,{dataKey:"percentage",content:i6})]})]})})};var lt=s("58093"),ls=s("69441"),la=s("57028");ls.kL.register(ls.qi,ls.u,ls.De,la.Z);let ln=e=>{let{allDigitList:t,contract_type:s,isEvenOddOneClickActive:a,percentageValue:n,active_symbol:l,isTradeActiveRef:r,oneClickAmount:o,oneClickDuration:c,isTradeActive:d,enableCopyDemo:u,liveAccCR:h,sameDiffEvenOdd:_,setIsTradeActive:m}=e,x=e=>"OPPOSITE"===_?"DIGITEVEN"===e?"DIGITODD":"DIGITEVEN":e,p=()=>{a&&!d&&(r.current=!0,m(!0),u?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(h).token],price:o,parameters:{amount:o,basis:"stake",contract_type:x(s),currency:"USD",duration:c,duration_unit:"t",symbol:l}}):Z.api_base.api.send({buy:"1",price:o,subscribe:1,parameters:{amount:o,basis:"stake",contract_type:x(s),currency:"USD",duration:c,duration_unit:"t",symbol:l}}))},j=e=>{a&&!d&&(r.current=!0,m(!0),u?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(h).token],price:o,parameters:{amount:o,basis:"stake",contract_type:x(e),currency:"USD",duration:c,duration_unit:"t",symbol:l}}):Z.api_base.api.send({buy:"1",price:o,subscribe:1,parameters:{amount:o,basis:"stake",contract_type:x(e),currency:"USD",duration:c,duration_unit:"t",symbol:l}}))},v=(e=>{let t=0,s=0,a=e.length;e.forEach(e=>{e%2==0?s++:t++});let n=(t/a*100).toFixed(2),i=(s/a*100).toFixed(2);return{oddPercentage:parseFloat(n),evenPercentage:parseFloat(i)}})(t);"DIGITEVEN"===s&&"number"==typeof n&&v.evenPercentage>=n?p():"DIGITODD"===s&&"number"==typeof n&&v.oddPercentage>=n?p():"BOTH"===s&&"number"==typeof n&&v.oddPercentage>=n?j("DIGITODD"):"BOTH"===s&&"number"==typeof n&&v.evenPercentage>=n&&j("DIGITEVEN");let b={labels:["Even","Odd"],datasets:[{data:[v.evenPercentage,v.oddPercentage],backgroundColor:["#36A2EB","#FF6384"],hoverBackgroundColor:["#36A2EB","#FF6384"]}]};return(0,i.jsx)("div",{children:(0,i.jsx)(lt.by,{data:b,options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:e=>`${e.label}: ${e.raw}%`}},datalabels:{formatter:(e,t)=>`${e}%`,color:"#fff"}}}})})},li=e=>{let{x:t,y:s,width:a,value:n}=e;return(0,i.jsx)("text",{x:t+a+5,y:s+10,fill:"#666",textAnchor:"start",fontSize:12,children:n})};class ll extends l.PureComponent{render(){let{allDigitList:e,is_mobile:t}=this.props,s=function(e){let t=0,s=0,a=e.length-1;if(e.length<2)return{risePercentage:0,fallPercentage:0};for(let a=1;a<e.length;a++)e[a]>e[a-1]?t++:e[a]<e[a-1]&&s++;let n=t/a*100,i=s/a*100;return{risePercentage:+n.toFixed(2),fallPercentage:+i.toFixed(2)}}(e),a=[{name:"Rise",percentage:+s.risePercentage.toFixed(2)},{name:"Fall",percentage:+s.fallPercentage.toFixed(2)}],n=["#4CAF50","#F44336"];return(0,i.jsx)(iW.h,{width:"140%",height:211,children:(0,i.jsxs)(i0.v,{width:100,height:211,data:a,layout:"vertical",margin:{top:20,right:30,left:20,bottom:5},children:[(0,i.jsx)(i1.q,{strokeDasharray:"3 3"}),(0,i.jsx)(i2.K,{type:"number",label:""}),(0,i.jsx)(i5.B,{type:"category",dataKey:"name"}),(0,i.jsx)(i8.u,{}),(0,i.jsxs)(i3.$,{dataKey:"percentage",isAnimationActive:!t,children:[a.map((e,t)=>(0,i.jsx)(i4.b,{fill:n[t]},`cell-${t}`)),(0,i.jsx)(i7.e,{dataKey:"percentage",content:li})]})]})})}}let lr=(e,t,s)=>{let a=e.length,n=t.length,i=e.filter(e=>e%2==0).length,l=e.filter(e=>e%2!=0).length,r=e.filter(e=>e>s).length,o=e.filter(e=>e<=s).length,c=e.filter(e=>e===s).length,d=e.filter(e=>e!==s).length,u=0,h=0;for(let e=1;e<t.length;e++)t[e]>t[e-1]?u++:h++;let _=u/(n-1)*100;return{evenPercentage:i/a*100,oddPercentage:l/a*100,overPercentage:r/a*100,underPercentage:o/a*100,matchesPercentage:c/a*100,differsPercentage:d/a*100,risePercentage:_,fallPercentage:h/(n-1)*100}},lo=e=>{let{digitList:t,tickList:s,CirclesDigitList:a,is_dark_mode_on:n,customPrediction:r,martingaleValueRef:o,isTradeActive:c,guideElement:d,setIsTradeActive:u,handleMartingaleInputChange:h,selectTickList:_,buy_contract:m,buy_contract_differs:x,handleCustomPredictionInputChange:p}=e,[j,v]=(0,l.useState)(3),b="string"==typeof r?parseInt(r):r;t.slice(-j);let{evenPercentage:g,oddPercentage:f,overPercentage:y,underPercentage:N,matchesPercentage:C,differsPercentage:k,risePercentage:T,fallPercentage:S}=lr(t,s,b);t=t.slice(-10),s=s.slice(-10),a=a.slice(-1e3);let w=Array.from({length:10},(e,t)=>lr(a,s,t).matchesPercentage),E=[...w].slice().sort((e,t)=>t-e),I=w.indexOf(E[0]),A=w.indexOf(E[1]),R=w.indexOf(E[E.length-1]),D=w.indexOf(E[E.length-2]),O=e=>{let t,s;return e===I?(t=40,s="#00a79e"):e===A?(t=50,s="#070bf7"):e===R?(t=40,s="#ff0000"):e===D?(t=50,s="#ffe644"):(t=50,s="#777"),`#444 linear-gradient(to bottom, transparent ${t}%, ${s} 0)`};return(0,i.jsxs)("div",{className:"ldp_max_container",children:[(0,i.jsxs)("div",{className:"last_p",children:[(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("label",{htmlFor:"",children:"LDP:"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:r,onChange:p})]}),_(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{type:"number",value:o.current,onChange:h})]}),d()]}),(0,i.jsxs)("div",{className:"container-ldp",style:{color:n?"#fff":"#000"},children:[(0,i.jsxs)("div",{className:"card-container",children:[(0,i.jsx)("h4",{children:"Click on circles to select Prediction"}),(0,i.jsx)("div",{className:"digit-list",children:Array.from({length:10},(e,n)=>{let l=lr(a,s,n).matchesPercentage,o=O(n),c=t.slice(-1)[0];return(0,i.jsxs)("div",{className:`digit-item ${n===r?"selected":""}`,onClick:()=>p({target:{value:n}}),style:{background:o,position:"relative"},children:[(0,i.jsx)("h3",{children:n}),(0,i.jsxs)("h4",{children:[l.toFixed(2),"%"]}),n===c&&(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{position:"absolute",bottom:"-15px",left:"50%",transform:"translateX(-50%)"},children:(0,i.jsx)("path",{fill:"red",d:"M8 4l6 8H2z"})})]},n)})})]}),(0,i.jsxs)("div",{className:"card-container",children:[(0,i.jsx)("div",{className:"all_digit_boxes",children:t.map((e,t)=>{let s="";return"number"==typeof r&&(s=e>r?"over":e<r?"under":"same"),(0,i.jsx)("div",{className:`digit-box ${s}`,children:e},t)})}),(0,i.jsx)("h4",{children:"Click on the button to take a trade"}),(0,i.jsxs)("div",{className:"metrics",children:[(0,i.jsxs)("button",{className:"metric over",onClick:()=>x("DIGITOVER"),children:["Over ",y.toFixed(2),"%"]}),(0,i.jsxs)("button",{className:"metric under",onClick:()=>x("DIGITUNDER"),children:["Under ",N.toFixed(2),"%"]}),(0,i.jsxs)("button",{className:"metric match",onClick:()=>x("DIGITMATCH"),children:["Matches ",C.toFixed(2),"%"]}),(0,i.jsxs)("button",{className:"metric under",onClick:()=>x("DIGITDIFF"),children:["Differ ",k.toFixed(2),"%"]})]})]}),(0,i.jsx)("div",{className:"card-container",children:(0,i.jsx)("div",{className:"sequences",children:(0,i.jsxs)("div",{className:"sequence",children:[(0,i.jsx)("h4",{children:"Even Odd"}),(0,i.jsx)("div",{className:"digit-container-ldp",children:(0,i.jsxs)("div",{className:"last_p",children:[_(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{type:"number",value:o.current,onChange:h})]}),d()]})}),(0,i.jsx)("div",{className:"sequence-container",children:t.map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e%2==0?"even":"odd"}`,children:e%2==0?"E":"O"},t))}),(0,i.jsx)("h4",{children:"Click on the button to take a trade"}),(0,i.jsxs)("div",{className:"metrics",children:[(0,i.jsxs)("button",{className:"metric even",onClick:()=>m("DIGITEVEN",!0),children:["Even ",g.toFixed(2),"%"]}),(0,i.jsxs)("button",{className:"metric odd",onClick:()=>m("DIGITODD",!0),children:["Odd ",f.toFixed(2),"%"]})]})]})})}),(0,i.jsx)("div",{className:"card-container",children:(0,i.jsx)("div",{className:"sequences",children:(0,i.jsxs)("div",{className:"sequence",children:[(0,i.jsx)("h4",{children:"Rise/Fall"}),(0,i.jsx)("div",{className:"digit-container-ldp",children:(0,i.jsxs)("div",{className:"last_p",children:[_(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{type:"number",value:o.current,onChange:h})]}),d()]})}),(0,i.jsx)("div",{className:"sequence-container",children:(()=>{let e=[];for(let t=1;t<s.length;t++)e.push(s[t]>s[t-1]?"R":"F");return e.map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${"R"===e?"even":"odd"}`,children:e},t))})()}),(0,i.jsx)("h4",{children:"Click on the button to take a trade"}),(0,i.jsxs)("div",{className:"metrics",children:[(0,i.jsxs)("button",{className:"metric even",onClick:()=>m("CALL",!0),children:["Rise ",T.toFixed(2),"%"]}),(0,i.jsxs)("button",{className:"metric odd",onClick:()=>m("PUT",!0),children:["Fall ",S.toFixed(2),"%"]})]})]})})})]})]})},lc=e=>{let{digitList:t,tickList:s,CirclesDigitList:a,is_dark_mode_on:n,customPrediction:r,martingaleValueRef:o,guideElement:c,handleMartingaleInputChange:d,selectTickList:u,buy_contract:h,buy_contract_differs:_,handleCustomPredictionInputChange:m,numDigits:x,setNumDigits:p,comparisonOperator:j,setComparisonOperator:v,tradeAction:b,setTradeAction:g,isAutoTrading:f,setIsAutoTrading:y,tradeExecuted:N,setTradeExecuted:C,numDigits1:k,setNumDigits1:T,predictionDigits:S,setPredictionDigits:w,comparisonOperator1:E,setComparisonOperator1:I,tradeAction1:A,setTradeAction1:R,isAutoTrading1:D,setIsAutoTrading1:O,tradeExecuted1:L,setTradeExecuted1:M,lastTradeType:F,setLastTradeType:U,isCustomTradeFormVisible:P,setIsCustomTradeFormVisible:Z,numTicks:z,setNumTicks:B,comparisonOperator2:V,setComparisonOperator2:$,tradeAction2:X,setTradeAction2:G,isAutoTrading2:H,setIsAutoTrading2:q,tradeExecuted2:Y,setTradeExecuted2:W,lastTradeType2:K,setLastTradeType2:J,isSequencesVisible:Q,setIsSequencesVisible:ee,isRFSequencesVisible:et,setIsRFSequencesVisible:es}=e,ea=t.slice(-x),en=t.slice(-Number(k)),ei=s.slice(-Number(z)),el="string"==typeof r?parseInt(r):r,er=ea.every(e=>{switch(j){case"less than LDP":return e<el;case"less or equal to LDP":return e<=el;case"greater than LDP":return e>el;case"greater or equal to LDP":return e>=el;case"equal to LDP":return e===el;case"all digits are the same":return ea.every(e=>e===ea[0]);default:return!1}});(0,l.useEffect)(()=>{let e;return f&&(e=setInterval(()=>{er&&!N?(_(b),C(!0)):!er&&C(!1)},1e3)),()=>clearInterval(e)},[_,f,er,b,N]);let eo=(0,l.useCallback)(()=>{if("custom"!==E)return en.every(e=>"even"===E?e%2==0:"odd"===E&&e%2!=0);{let e=en.every(e=>e%2==0),t=en.every(e=>e%2!=0);return e&&"even"!==F?(h("DIGITODD",!0),U("even")):t&&"odd"!==F&&(h("DIGITEVEN",!0),U("odd")),e||t}},[E,en,F,h]);(0,l.useEffect)(()=>{let e;return D&&(e=setInterval(()=>{eo()&&!L?("custom"!==E&&h(A,!0),M(!0)):!eo()&&(M(!1),U(null))},1e3)),()=>clearInterval(e)},[h,D,A,L,eo,E]);let ec=(0,l.useCallback)(()=>{if("rf"!==V)return ei.every((e,t)=>"rise"===V?s[t+1]>s[t]:"fall"===V&&s[t+1]<s[t]);{let e=ei.every((e,t)=>s[t+1]>s[t]),t=ei.every((e,t)=>s[t+1]<s[t]);return e&&"rise"!==K?(h("PUT",!0),J("rise")):t&&"fall"!==K&&(h("CALL",!0),J("fall")),e||t}},[V,ei,s,K,h]);(0,l.useEffect)(()=>{let e;return H&&(e=setInterval(()=>{ec()&&!Y?("rf"!==V&&h(X,!0),W(!0)):!ec()&&(W(!1),J(null))},1e3)),()=>clearInterval(e)},[h,H,X,Y,ec,V]),lr(t,s,el);let[ed,eu]=(0,l.useState)(8),[eh,e_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{window.innerWidth<768?eu(6):eu(8)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let em=()=>{e_(!eh)},ex=eh?t.slice(-100):t.slice(-ed);s=s.slice(-9),a=a.slice(-1e3);let ep=Array.from({length:10},(e,t)=>lr(a,s,t).matchesPercentage),ej=[...ep].slice().sort((e,t)=>t-e),ev=ep.indexOf(ej[0]),eb=ep.indexOf(ej[1]),eg=ep.indexOf(ej[ej.length-1]),ef=ep.indexOf(ej[ej.length-2]),ey=e=>{let t,s;return e===ev?(t=40,s="#00a79e"):e===eb?(t=50,s="#070bf7"):e===eg?(t=40,s="#ff0000"):e===ef?(t=50,s="#ffe644"):(t=50,s="#777"),`#444 linear-gradient(to bottom, transparent ${t}%, ${s} 0)`},[eN,eC]=(0,l.useState)([{evenOddSelection:"Even",operator:"Greater than",threshold:50,tradeSelection:"Even",isTrading:!1,isTradeActive:!1}]),ek=(0,l.useRef)(!1),eT=e=>{eC(t=>t.filter((t,s)=>s!==e))},eS=e=>{eC(t=>t.map((t,s)=>s===e?{...t,isTrading:!t.isTrading}:t))},{evenPercentage:ew,oddPercentage:eE}=lr(t,s,el),eI=(e,t)=>{let{evenOddSelection:s,operator:a,threshold:n,tradeSelection:i}=e,l="Even"===s?ew:eE;("Greater than"===a&&l>n||"Less than"===a&&l<n||"Equal"===a&&Math.round(l)===n)&&!ek.current&&(ek.current=!0,h("Even"===i?"DIGITEVEN":"DIGITODD",!0),setTimeout(()=>{ek.current=!1,eC(e=>e.map((e,s)=>s===t?{...e,isTradeActive:!1}:e))},5e3))};return(0,l.useEffect)(()=>{let e=setInterval(()=>{eN.forEach((e,t)=>{e.isTrading&&!e.isTradeActive&&eI(e,t)})},1e3);return()=>clearInterval(e)},[eN,ew,eE]),(0,i.jsxs)("div",{className:"ldp_max_container",children:[(0,i.jsxs)("div",{className:"container-ldp",style:{color:n?"#fff":"#000"},children:[(0,i.jsxs)("div",{className:"card-container",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h4",{children:"Digit Circles Analysistool"}),(0,i.jsx)("div",{className:"toggle-icon",onClick:()=>Z(e=>!e),children:P?(0,i.jsx)(iM.tgn,{size:25}):(0,i.jsx)(iM.dSq,{size:25})})]}),P&&(0,i.jsx)("div",{className:"digit-list",children:Array.from({length:10},(e,n)=>{let l=lr(a,s,n).matchesPercentage,o=ey(n),c=t.slice(-1)[0];return(0,i.jsxs)("div",{className:`digit-item ${n===r?"selected":""}`,onClick:()=>m({target:{value:n}}),style:{background:o,position:"relative"},children:[(0,i.jsx)("h3",{children:n}),(0,i.jsxs)("h4",{children:[l.toFixed(2),"%"]}),n===c&&(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{position:"absolute",bottom:"-15px",left:"50%",transform:"translateX(-50%)"},children:(0,i.jsx)("path",{fill:"red",d:"M8 4l6 8H2z"})})]},n)})})]}),(0,i.jsxs)("div",{className:"card-container",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h4",{children:"Over Under Differ LDP Auto"}),(0,i.jsx)("div",{className:"toggle-icon",onClick:()=>Z(e=>!e),children:P?(0,i.jsx)(iM.tgn,{size:25}):(0,i.jsx)(iM.dSq,{size:25})})]}),P&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"last_p",children:[(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("label",{htmlFor:"",children:"LDP:"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:r,onChange:m})]}),u(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:o.current,onChange:d})]}),c()]}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsxs)("div",{className:"all_digit_boxes",children:[ex.map((e,t)=>{let s="";return"number"==typeof r&&(s=e>r?"over":e<r?"under":"same"),(0,i.jsx)("div",{className:`digit-box ${s}`,children:e},t)}),(0,i.jsx)("button",{onClick:em,className:"toggle-button",children:eh?"Less":"More"})]}),(0,i.jsxs)("div",{className:"custom-trade-form",children:[(0,i.jsxs)("label",{children:["If the last",(0,i.jsx)("input",{type:"number",value:x,onChange:e=>{let t=e.target.value;p(""===t?"":Number(t))}})," Digits are"]}),(0,i.jsxs)("select",{value:j,onChange:e=>{v(e.target.value)},children:[(0,i.jsx)("option",{selected:!0,children:"Select <, >, =, ≤, or ≥"}),(0,i.jsx)("option",{value:"less than LDP",children:"Less than LDP"}),(0,i.jsx)("option",{value:"less or equal to LDP",children:"Less or equal to LDP"}),(0,i.jsx)("option",{value:"greater than LDP",children:"Greater than LDP"}),(0,i.jsx)("option",{value:"greater or equal to LDP",children:"Greater or equal to LDP"}),(0,i.jsx)("option",{value:"equal to LDP",children:"Equal to LDP"}),(0,i.jsx)("option",{value:"all digits are the same",children:"All digits are the same"})]}),(0,i.jsxs)("label",{children:["than",(0,i.jsx)("input",{type:"number",value:r,onChange:m})]}),(0,i.jsx)("label",{children:" then it trades "}),(0,i.jsxs)("select",{value:b,onChange:e=>{g(e.target.value)},children:[(0,i.jsx)("option",{value:"DIGITOVER",children:"Digit Over"}),(0,i.jsx)("option",{value:"DIGITUNDER",children:"Digit Under"}),(0,i.jsx)("option",{value:"DIGITDIFF",children:"Digit Differs"})]}),(0,i.jsx)("div",{className:"auto-trade-controls",children:(0,i.jsx)("button",{style:{backgroundColor:f?"red":"green",color:"#fff"},onClick:()=>y(e=>!e),children:f?"STOP":"START"})})]})]})]})]}),(0,i.jsxs)("div",{className:"card-container",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h4",{children:"Even Odd Auto bot"}),(0,i.jsx)("div",{className:"toggle-icon",onClick:()=>ee(e=>!e),children:Q?(0,i.jsx)(iM.tgn,{size:25}):(0,i.jsx)(iM.dSq,{size:25})})]}),Q&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"last_p",children:[u(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:o.current,onChange:d})]}),c()]}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"sequence",children:[(0,i.jsxs)("div",{className:"sequence-container",children:[ex.map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e%2==0?"even":"odd"}`,children:e%2==0?"E":"O"},t)),(0,i.jsx)("button",{onClick:em,className:"toggle-button",children:eh?"Less":"More"})]}),(0,i.jsxs)("div",{className:"custom-trade-form",children:[(0,i.jsxs)("label",{children:["If the last",(0,i.jsx)("input",{type:"number",value:k,onChange:e=>{let t=e.target.value;T(""===t?"":Number(t))}}),"digits are"]}),(0,i.jsxs)("select",{value:E,onChange:e=>{I(e.target.value)},children:[(0,i.jsx)("option",{value:"odd",children:"Odd"}),(0,i.jsx)("option",{value:"even",children:"Even"}),(0,i.jsx)("option",{value:"custom",children:"If Even → Odd, Odd → Even"})]}),"custom"!==E&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{children:"it trades"}),(0,i.jsxs)("select",{value:A,onChange:e=>{R(e.target.value)},children:[(0,i.jsx)("option",{value:"DIGITODD",children:"Odd Trade"}),(0,i.jsx)("option",{value:"DIGITEVEN",children:"Even Trade"})]})]}),(0,i.jsx)("div",{className:"auto-trade-controls",children:(0,i.jsx)("button",{style:{backgroundColor:D?"red":"green",color:"#fff"},onClick:()=>O(e=>!e),children:D?"STOP":"START"})})]})]})})]})]}),(0,i.jsxs)("div",{className:"card-container",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h4",{children:"Rise Fall Auto bot"}),(0,i.jsx)("div",{className:"toggle-icon",onClick:()=>es(e=>!e),children:et?(0,i.jsx)(iM.tgn,{size:25}):(0,i.jsx)(iM.dSq,{size:25})})]}),et&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"last_p",children:[u(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:o.current,onChange:d})]}),c()]}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"sequence",children:[(0,i.jsx)("div",{className:"sequence-container",children:(()=>{let e=[];for(let t=1;t<s.length;t++)e.push(s[t]>s[t-1]?"R":"F");return e.map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${"R"===e?"even":"odd"}`,children:e},t))})()}),(0,i.jsxs)("div",{className:"custom-trade-form",children:[(0,i.jsxs)("label",{children:["If the last",(0,i.jsx)("input",{type:"number",value:z,onChange:e=>{let t=e.target.value;B(""===t?"":Number(t))}}),"ticks are"]}),(0,i.jsxs)("select",{value:V,onChange:e=>{$(e.target.value)},children:[(0,i.jsx)("option",{value:"fall",children:"Fall"}),(0,i.jsx)("option",{value:"rise",children:"Rise"}),(0,i.jsx)("option",{value:"rf",children:"If Rise → Fall, Fall → Rise"})]}),"rf"!==V&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{children:"it trades"}),(0,i.jsxs)("select",{value:X,onChange:e=>{G(e.target.value)},children:[(0,i.jsx)("option",{value:"CALL",children:"Rise"}),(0,i.jsx)("option",{value:"PUT",children:"Fall"})]})]}),(0,i.jsx)("div",{className:"auto-trade-controls",children:(0,i.jsx)("button",{style:{backgroundColor:H?"red":"green",color:"#fff"},onClick:()=>q(e=>!e),children:H?"STOP":"START"})})]})]})})]})]})]}),(0,i.jsx)("div",{className:"instance-container",children:eN.map((e,t)=>(0,i.jsxs)("div",{className:"instance-card",style:{color:n?"#fff":"#000"},children:[(0,i.jsxs)("div",{className:"instance-header",children:[(0,i.jsxs)("h4",{className:"header-title",children:["Instance ",t+1]}),(0,i.jsx)("button",{className:"btn-remove-instance",onClick:()=>eT(t),children:(0,i.jsx)("span",{children:"X"})})]}),(0,i.jsxs)("div",{className:"sequence",children:[(0,i.jsxs)("div",{className:"last_p",children:[u(),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Martingale"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:o.current,onChange:d})]}),c()]}),(0,i.jsxs)("div",{className:"metrics",children:[(0,i.jsxs)("button",{className:"metric even",children:["Even ",ew.toFixed(2),"%"]}),(0,i.jsxs)("button",{className:"metric odd",children:["Odd ",eE.toFixed(2),"%"]})]})]}),(0,i.jsxs)("div",{className:"custom-trade-form",children:[(0,i.jsxs)("label",{children:["If the last",(0,i.jsxs)("select",{value:e.evenOddSelection,onChange:e=>eC(s=>s.map((s,a)=>a===t?{...s,evenOddSelection:e.target.value}:s)),children:[(0,i.jsx)("option",{value:"Even",children:"Even %"}),(0,i.jsx)("option",{value:"Odd",children:"Odd %"})]}),"is"]}),(0,i.jsxs)("select",{value:e.operator,onChange:e=>eC(s=>s.map((s,a)=>a===t?{...s,operator:e.target.value}:s)),children:[(0,i.jsx)("option",{value:"Greater than",children:"Greater than"}),(0,i.jsx)("option",{value:"Less than",children:"Less than"}),(0,i.jsx)("option",{value:"Equal",children:"Equal"})]}),(0,i.jsx)("input",{type:"number",className:"custom_prediction",value:e.threshold,onChange:e=>eC(s=>s.map((s,a)=>a===t?{...s,threshold:parseInt(e.target.value)}:s))}),"%",(0,i.jsx)("label",{children:"it takes"}),(0,i.jsxs)("select",{value:e.tradeSelection,onChange:e=>eC(s=>s.map((s,a)=>a===t?{...s,tradeSelection:e.target.value}:s)),children:[(0,i.jsx)("option",{value:"Even",children:"Even trade"}),(0,i.jsx)("option",{value:"Odd",children:"Odd trade"})]}),(0,i.jsx)("div",{className:"auto-trade-controls",children:(0,i.jsx)("button",{style:{backgroundColor:e.isTrading?"red":"green",color:"#fff"},onClick:()=>eS(t),children:e.isTrading?"Stop":"Start"})})]})]}))}),(0,i.jsx)("button",{className:"btn-add-instance",onClick:()=>{eC(e=>[...e,{evenOddSelection:"Even",operator:"Greater than",threshold:50,tradeSelection:"Even",isTrading:!1,isTradeActive:!1}])},children:"Add Instance"})]})};var ld=s("66506"),lu=JSON.parse('{"activeCard":"AUTOLDP","numberOfTicks":10,"overValue":4,"martingaleValue":1.2,"percentageValue":60,"underValue":4,"isOneClickActive":false,"isAutoClickerActive":false,"isRiseFallOneClickActive":false,"isEvenOddOneClickActive":false,"isOverUnderOneClickActive":false,"isTradeActive":false,"oneClickContract":"DIGITDIFF","tradingDiffType":"AUTO","overUnderContract":"DIGITOVER","overUnderDirection":"SAME","evenOddContract":"DIGITEVEN","sameDiffEvenOdd":"SAME","oneClickDuration":1,"oneClickAmount":0.5,"customPrediction":4,"accountCurrency":"","active_symbol":"R_100","prev_symbol":"R_100","pip_size":2,"prevLowestValue":"","showBotSettings":false,"takeProfitValue":2,"stopLossValue":2,"enableSlTpValue":false,"enableDisableMartingale":true,"overUnderManual":false,"showPopup":false,"showPopup2":false,"contractData":null,"numDigits":5,"comparisonOperator":"less or equal to LDP","tradeAction":"DIGITOVER","isAutoTrading":false,"numDigits1":7,"comparisonOperator1":"custom","tradeAction1":"DIGITODD","isCustomTradeFormVisible":false,"isSequencesVisible":true}'),lh=JSON.parse('{"activeCard":"pie","numberOfTicks":10,"overValue":4,"martingaleValue":1.2,"percentageValue":80,"underValue":4,"isOneClickActive":false,"isAutoClickerActive":false,"isRiseFallOneClickActive":false,"isEvenOddOneClickActive":false,"isOverUnderOneClickActive":false,"isTradeActive":false,"oneClickContract":"DIGITDIFF","tradingDiffType":"AUTO","overUnderContract":"DIGITOVER","overUnderDirection":"SAME","evenOddContract":"BOTH","sameDiffEvenOdd":"OPPOSITE","oneClickDuration":1,"oneClickAmount":0.5,"customPrediction":8,"accountCurrency":"USD","active_symbol":"R_100","prev_symbol":"R_100","pip_size":2,"prevLowestValue":"","showBotSettings":false,"takeProfitValue":5,"stopLossValue":20,"enableSlTpValue":true,"enableDisableMartingale":true,"overUnderManual":false,"showPopup":false,"showPopup2":false,"contractData":null,"numDigits":5,"comparisonOperator":"less or equal to LDP","tradeAction":"DIGITOVER","isAutoTrading":false,"numDigits1":7,"comparisonOperator1":"custom","tradeAction1":"DIGITODD","isCustomTradeFormVisible":true,"isSequencesVisible":false}'),l_=JSON.parse('{"activeCard":"diff","numberOfTicks":12,"overValue":"4","martingaleValue":13,"percentageValue":"60","underValue":"4","oneClickContract":"DIGITDIFF","tradingDiffType":"AUTO","overUnderContract":"DIGITOVER","overUnderDirection":"SAME","evenOddContract":"DIGITEVEN","sameDiffEvenOdd":"SAME","oneClickDuration":2,"oneClickAmount":0.5,"customPrediction":6,"accountCurrency":"USD","active_symbol":"R_100","prev_symbol":"R_100","pip_size":2,"prevLowestValue":"","showBotSettings":false,"takeProfitValue":3,"stopLossValue":30,"enableSlTpValue":true,"enableDisableMartingale":true,"overUnderManual":false,"showPopup":false,"showPopup2":false,"contractData":{"status":"buy","profit":0.03},"numDigits":4,"comparisonOperator":"less or equal to LDP","tradeAction":"DIGITOVER","numDigits1":8,"comparisonOperator1":"custom","tradeAction1":"DIGITODD","isCustomTradeFormVisible":true,"isSequencesVisible":true}');let lm=e=>{let{contractData:t,isTradeActive:s,isOneClickActive:a,isAutoClickerActive:n,isRiseFallOneClickActive:r,isEvenOddOneClickActive:o,isOverUnderOneClickActive:c}=e,[d,u]=(0,l.useState)(!1),[h,_]=(0,l.useState)("Awaiting Contract..."),[m,x]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=s||a||n||r||o||c;t?(u(!0),"buy"===t.status?(_("Contract Bought"),x(1)):"sold"===t.status&&(t.profit>0?_("Contract Won: Profit: "+t.profit):_("Contract Lost: Loss: "+Math.abs(t.profit)),x(3),setTimeout(()=>u(!1),5e3))):e?(u(!0),_("Software is running"),x(2)):u(!1)},[t,s,a,n,r,o,c]),d?(0,i.jsxs)("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#f2f2f2",color:"#000",fontSize:"16px",fontWeight:"bold",padding:"10px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",width:"300px",textAlign:"center",zIndex:9999,opacity:.9},children:[(0,i.jsx)("div",{style:{marginBottom:"10px"},children:h}),(0,i.jsx)("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden",position:"relative"},children:(0,i.jsx)("div",{style:{width:1===m?"50%":2===m?"66%":3===m?"100%":"0%",height:"100%",backgroundColor:3===m?(null==t?void 0:t.profit)>0?"green":"red":"#4caf50",transition:"width 0.5s ease-in-out"}})})]}):null},lx=(0,r.Pi)(()=>{let[e,t]=(0,l.useState)("AUTOLDP"),[s,a]=(0,l.useState)(!1),[n,r]=(0,l.useState)("Updating..."),[o,c]=(0,l.useState)([]),[d,u]=(0,l.useState)(!0),[h,_]=(0,l.useState)(0),[m,x]=(0,l.useState)(1e3),[p,v]=(0,l.useState)([]),[b,g]=(0,l.useState)(4),[f,y]=(0,l.useState)(1.2),[N,C]=(0,l.useState)(60),[k,T]=(0,l.useState)(4),[S,w]=(0,l.useState)(!1),[E,I]=(0,l.useState)(!1),[A,R]=(0,l.useState)(!1),[D,O]=(0,l.useState)(!1),[L,M]=(0,l.useState)(!1),[F,U]=(0,l.useState)(!1),[P,z]=(0,l.useState)("DIGITDIFF"),[B,V]=(0,l.useState)("AUTO"),[$,X]=(0,l.useState)("DIGITOVER"),[G,H]=(0,l.useState)("SAME"),[q,Y]=(0,l.useState)("DIGITEVEN"),[W,K]=(0,l.useState)("SAME"),[J,Q]=(0,l.useState)(1),[ee,et]=(0,l.useState)(.5),[es,ea]=(0,l.useState)(0),[en,ei]=(0,l.useState)(""),[el,er]=(0,l.useState)("R_100"),[eo,ec]=(0,l.useState)("R_100"),[ed,eu]=(0,l.useState)(2),[eh,e_]=(0,l.useState)(""),[em,ex]=(0,l.useState)(!1),[ep,ej]=(0,l.useState)(2),[ev,eb]=(0,l.useState)(2),[eg,ef]=(0,l.useState)(!1),[ey,eN]=(0,l.useState)(!0),[eC,ek]=(0,l.useState)(!1),[eT,eS]=(0,l.useState)(""),[ew,eE]=(0,l.useState)(!1),[eI,eA]=(0,l.useState)(!1),[eR,eD]=(0,l.useState)(!1),[eO,eL]=(0,l.useState)(null),[eM,eF]=(0,l.useState)(3),[eU,eP]=(0,l.useState)("greater than"),[eZ,ez]=(0,l.useState)("DIGITOVER"),[eB,eV]=(0,l.useState)(!1),[e$,eX]=(0,l.useState)(!1),[eG,eH]=(0,l.useState)(5),[eq,eY]=(0,l.useState)(5),[eW,eK]=(0,l.useState)("even"),[eJ,eQ]=(0,l.useState)("DIGITEVEN"),[e0,e1]=(0,l.useState)(!1),[e2,e5]=(0,l.useState)(!1),[e8,e3]=(0,l.useState)(null),[e4,e7]=(0,l.useState)(5),[e6,e9]=(0,l.useState)("rise"),[te,tt]=(0,l.useState)("CALL"),[ts,ta]=(0,l.useState)(!1),[tn,ti]=(0,l.useState)(!1),[tl,tr]=(0,l.useState)(null),[to,tc]=(0,l.useState)(""),[td,tu]=(0,l.useState)(0),[th,t_]=(0,l.useState)(!0),[tm,tx]=(0,l.useState)(!0),[tp,tj]=(0,l.useState)(!0),[tv,tb]=(0,l.useState)(!1),tg=()=>{eA(!eI)},tf=()=>{eD(!eR)},ty=(0,l.useRef)(f),tN=(0,l.useRef)(F),tC=(0,l.useRef)([]),tk=(0,l.useRef)(0),tT=(0,l.useRef)(.5),tS=(0,l.useRef)(["DIGITODD","DIGITEVEN","DIGITOVER","DIGITUNDER","DIGITDIFF"]),tw=(0,l.useRef)({appearence:0,value:0}),tE=(0,l.useRef)({appearence:0,value:0}),tI=(0,l.useRef)(2),tA=(0,l.useRef)(2),tR=(0,l.useRef)(0),tD=(0,l.useRef)(!1),tO=(0,l.useRef)(!1),tL=(0,l.useRef)(!0),{ui:tM}=(0,j.oR)(),{transactions:tF,run_panel:tU}=(0,j.oR)(),{registerBotListeners:tP,unregisterBotListeners:tZ}=tU,{is_mobile:tz,is_dark_mode_on:tB}=tM,{updateResultsCompletedContract:tV}=tF;(0,l.useEffect)(()=>{tP(),tG();let e=localStorage.getItem("no_of_ticks"),s=localStorage.getItem("active_card");return null!==e&&x(parseFloat(e)),null!==s&&t(s),()=>{tZ()}},[]),(0,l.useEffect)(()=>{eo!==el&&Z.api_base4.api.send({ticks_history:el,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),ec(el)},[el]);let t$=e=>{t(e.activeCard||"LDP"),g(e.overValue||4),ty.current=e.martingaleValue||1.2,C(e.percentageValue||60),T(e.underValue||4),z(e.oneClickContract||"DIGITDIFF"),V(e.tradingDiffType||"AUTO"),X(e.overUnderContract||"DIGITOVER"),H(e.overUnderDirection||"SAME"),Y(e.evenOddContract||"DIGITEVEN"),K(e.sameDiffEvenOdd||"SAME"),Q(e.oneClickDuration||1),et(e.oneClickAmount||.5),ea(e.customPrediction||0),ei(e.accountCurrency||""),er(e.active_symbol||"R_100"),ec(e.prev_symbol||"R_100"),eu(e.pip_size||2),e_(e.prevLowestValue||""),ej(e.takeProfitValue||2),eb(e.stopLossValue||2),ef(e.enableSlTpValue||!1),eN(e.enableDisableMartingale||!0),ek(e.enableCopyDemo||!1),eE(e.overUnderManual||!1),eF(e.numDigits||3),eP(e.comparisonOperator||"greater than"),ez(e.tradeAction||"DIGITOVER"),t8({target:{value:e.customPrediction||0}}),ty.current=e.martingaleValue||"",eH(e.numDigits1||3),eK(e.comparisonOperator1||"odd"),eQ(e.tradeAction1||"DIGITODD"),t_(e.isCustomTradeFormVisible??!0),tx(e.isSequencesVisible??!0),tj(e.isRFSequencesVisible??!0)};(0,l.useEffect)(()=>{let e=localStorage.getItem("evenOddContract"),t=localStorage.getItem("sameDiffEvenOddContract"),s=localStorage.getItem("overUnderContract");e&&Y(e),t&&K(t),s&&X(s)},[]),(0,l.useEffect)(()=>{let e=localStorage.getItem("activeCard"),s=localStorage.getItem("numberOfTicks"),a=localStorage.getItem("optionsList"),n=localStorage.getItem("overValue"),i=localStorage.getItem("martingaleValue"),l=localStorage.getItem("percentageValue"),r=localStorage.getItem("underValue"),o=localStorage.getItem("oneClickContract"),c=localStorage.getItem("tradingDiffType"),d=localStorage.getItem("overUnderContract"),u=localStorage.getItem("overUnderDirection"),h=localStorage.getItem("evenOddContract"),_=localStorage.getItem("sameDiffEvenOdd"),m=localStorage.getItem("oneClickDuration"),p=localStorage.getItem("oneClickAmount"),j=localStorage.getItem("showBotSettings"),b=localStorage.getItem("takeProfitValue"),f=localStorage.getItem("stopLossValue"),N=localStorage.getItem("enableSlTpValue"),k=localStorage.getItem("enableDisableMartingale"),S=localStorage.getItem("enableCopyDemo"),w=localStorage.getItem("numDigits"),E=localStorage.getItem("comparisonOperator"),I=localStorage.getItem("tradeAction"),A=localStorage.getItem("customPrediction"),R=localStorage.getItem("numDigits1"),D=localStorage.getItem("comparisonOperator1"),O=localStorage.getItem("tradeAction1"),L=localStorage.getItem("isCustomTradeFormVisible"),M=localStorage.getItem("isSequencesVisible"),F=localStorage.getItem("isRFSequencesVisible");t(e||"LDP"),x(s?JSON.parse(s):1e3),v(a?JSON.parse(a):[]),g(n||4),y(i||1.2),C(l||60),T(r||4),z(o||"DIGITDIFF"),V(c||"AUTO"),X(d||"DIGITOVER"),H(u||"SAME"),Y(h||"DIGITEVEN"),K(_||"BOTH"),Q(m?Number(m):1),et(p||.5),t8({target:{value:A||0}}),ex(!!j&&JSON.parse(j)),ej(b||2),eb(f||2),ef(!!N&&JSON.parse(N)),eN(!k||JSON.parse(k)),ek(!!S&&JSON.parse(S)),eF(w?JSON.parse(w):3),eP(E||"greater than"),ez(I||"DIGITOVER"),t8({target:{value:A||0}}),eH(R?JSON.parse(R):3),eK(D||"odd"),eQ(O||"DIGITODD"),t_(!L||JSON.parse(L)),tx(!M||JSON.parse(M)),tj(!F||JSON.parse(F))},[]),(0,l.useEffect)(()=>{localStorage.setItem("activeCard",e),localStorage.setItem("isSubscribed",JSON.stringify(s)),localStorage.setItem("currentTick",String(n)),localStorage.setItem("allLastDigitList",JSON.stringify(o)),localStorage.setItem("isTickChart",JSON.stringify(d)),localStorage.setItem("lastDigit",JSON.stringify(h)),localStorage.setItem("numberOfTicks",JSON.stringify(m)),localStorage.setItem("optionsList",JSON.stringify(p)),localStorage.setItem("overValue",String(b)),localStorage.setItem("martingaleValue",String(f)),localStorage.setItem("percentageValue",String(N)),localStorage.setItem("underValue",String(k)),localStorage.setItem("oneClickContract",P),localStorage.setItem("tradingDiffType",B),localStorage.setItem("overUnderContract",$),localStorage.setItem("overUnderDirection",G),localStorage.setItem("evenOddContract",q),localStorage.setItem("sameDiffEvenOdd",W),localStorage.setItem("oneClickDuration",String(J)),localStorage.setItem("oneClickAmount",String(ee)),localStorage.setItem("customPrediction",JSON.stringify(es)),localStorage.setItem("accountCurrency",en),localStorage.setItem("active_symbol",el),localStorage.setItem("prev_symbol",eo),localStorage.setItem("showBotSettings",JSON.stringify(em)),localStorage.setItem("takeProfitValue",String(ep)),localStorage.setItem("stopLossValue",String(ev)),localStorage.setItem("enableSlTpValue",JSON.stringify(eg)),localStorage.setItem("enableDisableMartingale",JSON.stringify(ey)),localStorage.setItem("enableCopyDemo",JSON.stringify(eC)),localStorage.setItem("numDigits",JSON.stringify(eM)),localStorage.setItem("comparisonOperator",eU),localStorage.setItem("tradeAction",eZ),localStorage.setItem("customPrediction",JSON.stringify(es)),localStorage.setItem("numDigits1",JSON.stringify(eG)),localStorage.setItem("comparisonOperator1",eW),localStorage.setItem("tradeAction1",eJ),localStorage.setItem("isCustomTradeFormVisible",JSON.stringify(th)),localStorage.setItem("isSequencesVisible",JSON.stringify(tm)),localStorage.setItem("isRFSequencesVisible",JSON.stringify(tp))},[e,s,n,o,d,h,m,p,b,f,N,k,S,E,A,D,L,F,P,B,$,G,q,W,J,ee,es,en,el,eo,ed,eh,em,ep,ev,eg,ey,eC,eM,eU,eZ,es,eB,eG,eq,eW,eJ,th,tm,tp]);let tX=(e,t)=>{let s=e.toFixed(t);return Number(s=String(s).slice(-1))},tG=async()=>{if(await new Promise(e=>setTimeout(e,5e3)),!s&&(Z.api_base4.api.send({active_symbols:"brief",product_type:"basic"}),a(!0)),Z.api_base4.api){let e=Z.api_base4.api.onMessage().subscribe(e=>{let{data:t}=e;if("tick"===t.msg_type){let{tick:e}=t,{ask:s,id:a,pip_size:n}=e;_(tX(s,n)),r(s),tK(),c(e=>[...e,s])}if("history"===t.msg_type){let{history:e,pip_size:s}=t;eu(s);let{prices:a}=e,{ticks_history:n}=t.echo_req;c(a),er(n),Z.api_base4.api.send({ticks:n,subscribe:1})}if("active_symbols"===t.msg_type){let{active_symbols:e}=t,s=e.filter(e=>"synthetics"===e.subgroup);s.sort((e,t)=>e.display_order-t.display_order),Z.api_base4.api.send({ticks_history:s[0].symbol,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),v(s)}});Z.api_base4.pushSubscription(e)}if(Z.api_base.api){let e=Z.api_base.api.onMessage().subscribe(e=>{let{data:t}=e;if("proposal_open_contract"===t.msg_type){let e=t.proposal_open_contract;eL({status:e.is_sold?"sold":"buy",profit:e.profit});let{proposal_open_contract:s}=t,a=s.contract_type;if(tS.current.includes(a)&&s.is_sold){if(!tC.current.includes(s.contract_id)&&tD.current&&(tR.current+=s.profit,tR.current,tR.current>=tI.current?tY():tR.current<=-tA.current&&tY()),"lost"===s.status){if(!tC.current.includes(s.contract_id))tC.current.push(s.contract_id),tk.current+=Math.abs(s.profit),tL.current&&et(parseFloat((tk.current*parseFloat(ty.current)).toFixed(2))),tN.current=!1,U(!1)}else tk.current=0,et(tT.current);tN.current&&!tC.current.includes(s.contract_id)&&(tN.current=!1,U(!1),tC.current.push(s.contract_id))}tV(s)}});Z.api_base.pushSubscription(e)}ei(Z.api_base.account_info.currency)},tH=(e,t)=>{!tN.current&&(tN.current=!0,U(!0),eC?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(eT).token],price:ee,parameters:{amount:ee,basis:"stake",contract_type:e,currency:en,duration:J,duration_unit:"t",symbol:el}}):Z.api_base.api.send({buy:"1",price:ee,subscribe:1,parameters:{amount:ee,basis:"stake",contract_type:e,currency:en,duration:J,duration_unit:"t",symbol:el}}))},tq=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eC?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(eT).token],price:ee,parameters:{amount:ee,basis:"stake",contract_type:e,currency:en,duration:J,duration_unit:"t",symbol:el,barrier:t?tW():es}}):Z.api_base.api.send({buy:"1",price:ee,subscribe:1,parameters:{amount:ee,basis:"stake",contract_type:e,currency:"USD",duration:J,duration_unit:"t",symbol:el,barrier:t?tW():es}})},tY=()=>{R(!1),M(!1),O(!1),w(!1),eV(!1),tk.current=0,tR.current=0,et(tT.current)},tW=()=>"DIGITOVER"===$?b:"DIGITUNDER"===$?k:void 0,tK=()=>{c(e=>e.slice(1))},tJ=()=>{let e=o.slice(-m),t=[];return e.forEach(e=>{let s=tX(e,ed);t.push(s)}),t},tQ=()=>{let e=o.slice(-1e3),t=[];return e.forEach(e=>{let s=tX(e,ed);t.push(s)}),t},t0=()=>o.slice(-m),t1=e=>{let t=e.target.value;ty.current=""===t?"":Number(t),y(""===t?"":Number(t))},t2=e=>{let t=e.target.value;C(""===t?"":Number(t))},t5=e=>{let t=e.target.value;et(""===t?"":Number(t)),tT.current=""===t?"":Number(t)},t8=e=>{let t=e.target.value;ea(""===t?"":Number(t))},t3=e=>{Q(Number(e.target.value))},t4=e=>{t(e),localStorage.setItem("active_card",e)},t7=e=>{let t=e.target.value;ej(""===t?"":Number(t)),tI.current=""!==t?Number(t):0},t6=e=>{let t=e.target.value;eb(""===t?"":Number(t)),tA.current=""!==t?Number(t):0},t9=e=>{eS(e.target.value)},se=()=>{ef(!eg),tD.current=!tD.current},st=()=>{eN(!ey),tL.current=!ey},ss=()=>{ek(!eC),tO.current=!tO.current},[sa,sn]=l.useState([]),[si,sl]=l.useState("");l.useEffect(()=>{if("undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem("accountsList"))||void 0,t=Object.keys(e).filter(e=>e.startsWith("CR"));sn(t),t.length>0&&(sl(t[0]),eS(t[0]))}catch(e){console.error("Error while parsing accounts list from localStorage",e)}},[]);let sr=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Ticks"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",id:"contract_duration",value:J,onChange:t3,min:"1",max:"9",defaultValue:1})]}),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Stake"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:ee,onChange:t5})]})]}),so=()=>(0,i.jsx)("div",{className:"guide",onClick:()=>ex(!em),children:(0,i.jsx)(iH.C6u,{})});return!function(){document.querySelectorAll(".differs_container .progress .active-svg").forEach(e=>e.remove());let e=document.querySelector(".differs_container .progress.active");if(e){let t=document.createElement("div");t.classList.add("active-svg"),t.innerHTML=`
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                    <path fill="red" d="M8 4l6 8H2z"/>
                </svg>`,t.style.position="absolute",t.style.bottom="-15px",t.style.left="50%",t.style.transform="translateX(-50%)",e.appendChild(t)}}(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lm,{contractData:eO,isTradeActive:F,isOneClickActive:S,isAutoClickerActive:E,isRiseFallOneClickActive:A,isEvenOddOneClickActive:D,isOverUnderOneClickActive:L}),(0,i.jsxs)("div",{className:"main_app",children:[(0,i.jsxs)("div",{className:"top_bar",children:[(0,i.jsx)("div",{className:"toolbar__symbol-section",children:(0,i.jsx)("div",{className:"toolbar__symbol-select",children:(0,i.jsx)("select",{className:"toolbar__select",onChange:e=>{let t=e.target.value;Z.api_base4.api.forgetAll("ticks").then(()=>{r("Loading..."),er(t)})},children:p.length>0?p.map(e=>(0,i.jsx)("option",{value:e.symbol,children:e.display_name},e.symbol)):(0,i.jsx)("option",{value:"",children:"SELECT MARKET"})})})}),(0,i.jsxs)("div",{className:"toolbar__price-section",children:[(0,i.jsxs)("div",{className:"toolbar__ticks",children:[(0,i.jsx)("small",{className:"toolbar__label",children:"Ticks"}),(0,i.jsx)("input",{type:"number",className:"toolbar__input",value:m,onChange:e=>{let t=e.target.value;x(""===t?"":Number(t)),localStorage.setItem("no_of_ticks",t)}})]}),(0,i.jsxs)("div",{className:"toolbar__current-price",children:[(0,i.jsx)("h4",{className:"toolbar__price-label",children:"PRICE"}),(0,i.jsx)("h3",{className:"toolbar__price-value",children:n.toString()})]})]}),em&&(0,i.jsx)(iq,{enable_tp_sl:tD,setShowBotSettings:ex,showBotSettings:em,stop_loss:tA,take_profit:tI,setStopLossValue:eb,setTakeProfitValue:ej,stopLossValue:ev,takeProfitValue:ep,enableSlTpValue:eg,setEnableSlTpValue:ef,enableCopyDemo:eC,setCopyDemo:ek,enable_demo_copy:tO,liveAccCR:eT,setLiveAccCr:eS,enableDisableMartingale:ey,enable_disable_martingale:tL,setEnableDisableMartingale:eN}),(0,i.jsxs)("div",{className:"toolbar__controls",children:[(0,i.jsxs)("div",{className:"toolbar__control-group",children:[(0,i.jsx)("span",{className:"toolbar__control-label",children:"Select an Option"}),(0,i.jsxs)("select",{className:`toolbar__dropdown ${e?"toolbar__dropdown--active":""}`,value:e,onChange:e=>t4(e.target.value),children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Select an Option"}),(0,i.jsx)("option",{value:"AUTOLDP",children:"Auto LDP"}),(0,i.jsx)("option",{value:"LDP",children:"Manual LDP"}),(0,i.jsx)("option",{value:"pie",children:"Even & Odd"}),(0,i.jsx)("option",{value:"diff",children:"Differs & Matches"}),(0,i.jsx)("option",{value:"over_under",children:"Over & Under"}),(0,i.jsx)("option",{value:"rise_fall",children:"Rise & Fall"})]})]}),(0,i.jsxs)("div",{className:"upload-settings",children:[(0,i.jsxs)("label",{htmlFor:"file-upload",className:"upload-label",children:[(0,i.jsx)(iM.Qvc,{className:"iconu"}),(0,i.jsx)("span",{children:"Upload"})]}),(0,i.jsx)("input",{id:"file-upload",type:"file",accept:".json",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){let e=new FileReader;e.onload=e=>{var s;let a=JSON.parse(null===(s=e.target)||void 0===s?void 0:s.result);t(a.activeCard||"LDP"),g(a.overValue||4),ty.current=a.martingaleValue||1.2,C(a.percentageValue||60),T(a.underValue||4),z(a.oneClickContract||"DIGITDIFF"),V(a.tradingDiffType||"AUTO"),X(a.overUnderContract||"DIGITOVER"),H(a.overUnderDirection||"SAME"),Y(a.evenOddContract||"DIGITEVEN"),K(a.sameDiffEvenOdd||"SAME"),Q(a.oneClickDuration||1),et(a.oneClickAmount||.5),ea(a.customPrediction||0),ei(a.accountCurrency||""),er(a.active_symbol||"R_100"),ec(a.prev_symbol||"R_100"),eu(a.pip_size||2),e_(a.prevLowestValue||""),ej(a.takeProfitValue||2),eb(a.stopLossValue||2),ef(a.enableSlTpValue||!1),eN(a.enableDisableMartingale||!0),ek(a.enableCopyDemo||!1),eE(a.overUnderManual||!1),eF(a.numDigits||3),eP(a.comparisonOperator||"greater than"),ez(a.tradeAction||"DIGITOVER"),t8({target:{value:a.customPrediction||0}}),ty.current=a.martingaleValue||"",eH(a.numDigits1||3),eK(a.comparisonOperator1||"odd"),eQ(a.tradeAction1||"DIGITODD"),t_(a.isCustomTradeFormVisible??!0),tx(a.isSequencesVisible??!0),tj(a.isRFSequencesVisible??!0)},e.readAsText(a),tu(e=>e+1)}},className:"file-upload-input"},td)]}),(0,i.jsx)("div",{className:"download-settings",children:(0,i.jsxs)("label",{onClick:()=>{let t=window.prompt("Enter the name for your settings file:",to);if(t){let s=new Blob([JSON.stringify({activeCard:e,numberOfTicks:m,overValue:b,martingaleValue:ty.current,percentageValue:N,underValue:k,oneClickContract:P,tradingDiffType:B,overUnderContract:$,overUnderDirection:G,evenOddContract:q,sameDiffEvenOdd:W,oneClickDuration:J,oneClickAmount:ee,customPrediction:es,accountCurrency:en,active_symbol:el,prev_symbol:eo,pip_size:ed,prevLowestValue:eh,showBotSettings:em,takeProfitValue:ep,stopLossValue:ev,enableSlTpValue:eg,enableDisableMartingale:ey,overUnderManual:ew,showPopup:eI,showPopup2:eR,contractData:eO,numDigits:eM,comparisonOperator:eU,tradeAction:eZ,numDigits1:eG,predictionDigits:eq,comparisonOperator1:eW,tradeAction1:eJ,isCustomTradeFormVisible:th,isSequencesVisible:tm,isRFSequencesVisible:tp},null,2)],{type:"application/json"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`${t}.json`,n.click(),URL.revokeObjectURL(a)}},className:"download-label",children:[(0,i.jsx)(iM.veA,{className:"icond"}),(0,i.jsx)("span",{children:"Download"})]})}),(0,i.jsx)("div",{className:"strategies",children:(0,i.jsxs)("label",{onClick:()=>tb(!0),className:"strategies-label",children:[(0,i.jsx)(ld.JAC,{className:"icons"}),(0,i.jsx)("span",{children:"Strategies"})]})}),tv&&(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("button",{onClick:()=>tb(!1),className:"close-btn",children:"X"}),(0,i.jsx)("h2",{className:"modal-header",children:"Select a Strategy"}),(0,i.jsx)("ul",{className:"strategy-list",children:[{name:"Multi-Million Even-Odd Setup",data:lu},{name:"EvenOdd80%",data:lh},{name:"Auto Differ",data:l_}].map((e,t)=>(0,i.jsx)("li",{onClick:()=>{t$(e.data),tb(!1)},children:e.name},t))})]})})]})]}),"AUTOLDP"===e&&(0,i.jsx)(lc,{digitList:tJ(),tickList:t0(),CirclesDigitList:tQ(),customPrediction:es,handleCustomPredictionInputChange:t8,is_dark_mode_on:tB,buy_contract:tH,buy_contract_differs:tq,selectTickList:sr,handleMartingaleInputChange:t1,martingaleValueRef:ty,isTradeActive:F,setIsTradeActive:U,guideElement:so,numDigits:eM,setNumDigits:eF,comparisonOperator:eU,setComparisonOperator:eP,tradeAction:eZ,setTradeAction:ez,isAutoTrading:eB,setIsAutoTrading:eV,tradeExecuted:e$,setTradeExecuted:eX,numDigits1:eG,setNumDigits1:eH,predictionDigits:eq,setPredictionDigits:eY,comparisonOperator1:eW,setComparisonOperator1:eK,tradeAction1:eJ,setTradeAction1:eQ,isAutoTrading1:e0,setIsAutoTrading1:e1,tradeExecuted1:e2,setTradeExecuted1:e5,lastTradeType:e8,setLastTradeType:e3,numTicks:e4,setNumTicks:e7,comparisonOperator2:e6,setComparisonOperator2:e9,tradeAction2:te,setTradeAction2:tt,isAutoTrading2:ts,setIsAutoTrading2:ta,tradeExecuted2:tn,setTradeExecuted2:ti,lastTradeType2:tl,setLastTradeType2:tr,presetName:to,setPresetName:tc,fileInputKey:td,setFileInputKey:tu,isCustomTradeFormVisible:th,setIsCustomTradeFormVisible:t_,isSequencesVisible:tm,setIsSequencesVisible:tx,isRFSequencesVisible:tp,setIsRFSequencesVisible:tj}),"LDP"===e&&(0,i.jsx)(lo,{digitList:tJ(),tickList:t0(),CirclesDigitList:tQ(),customPrediction:es,handleCustomPredictionInputChange:t8,is_dark_mode_on:tB,buy_contract:tH,buy_contract_differs:tq,selectTickList:sr,handleMartingaleInputChange:t1,martingaleValueRef:ty,isTradeActive:F,setIsTradeActive:U,guideElement:so}),("rise_fall"===e||"over_under"===e)&&(0,i.jsxs)("div",{className:"rf_ou",children:["over_under"===e&&(0,i.jsxs)("div",{className:"over_under card1",children:[(0,i.jsxs)("div",{className:"over_under_options",children:[(0,i.jsxs)("div",{className:"digit_inputs",children:[(0,i.jsxs)("div",{className:"over_digit",children:[(0,i.jsx)("label",{htmlFor:"over_input",children:"Over"}),(0,i.jsx)("input",{type:"number",value:b,onChange:e=>{let t=e.target.value;g(""===t?"":Number(t))}})]}),(0,i.jsxs)("div",{className:"under_digit",children:[(0,i.jsx)("label",{htmlFor:"under_input",children:"Under"}),(0,i.jsx)("input",{type:"number",value:k,onChange:e=>{let t=e.target.value;T(""===t?"":Number(t))}})]})]}),(0,i.jsxs)("div",{className:"over_oct_container",children:[(0,i.jsxs)("div",{className:"over_oct",children:[ew?(0,i.jsx)("button",{onClick:()=>tq($,!0),className:"overunder_buy_btn",children:"Buy"}):(0,i.jsx)("button",{onClick:()=>{M(e=>!e)},style:{backgroundColor:L?"red":"green",color:"white",border:"none",padding:"4px 8px",cursor:"pointer",borderRadius:"5px"},children:L?"Stop":"Run"}),sr(),(0,i.jsxs)("div",{className:"oneclick_amout",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5px"},children:[(0,i.jsx)("h3",{children:"Settings"}),(0,i.jsx)("div",{className:"guide",onClick:tg,children:(0,i.jsx)(iH.C6u,{})})]})]}),eI&&(0,i.jsx)("div",{className:"popup-overlay",children:(0,i.jsxs)("div",{className:"popup-box",children:[(0,i.jsx)("button",{className:"close-button",onClick:tg,children:"X"}),(0,i.jsx)("h2",{children:"Over/Under Settings"}),(0,i.jsxs)("div",{className:"settings-column",children:[(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Trade Type"}),(0,i.jsxs)("select",{name:"contractType",id:"contractType",value:$,onChange:e=>{let t=e.target.value;X(t),localStorage.setItem("overUnderContract",t)},children:[(0,i.jsx)("option",{value:"DIGITOVER",children:"Over"}),(0,i.jsx)("option",{value:"DIGITUNDER",children:"Under"})]})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Contract Type"}),(0,i.jsxs)("select",{name:"direction",id:"direction",onChange:e=>{let t=e.target.value;"MANUAL"===t?eE(!0):eE(!1),H(t)},children:[(0,i.jsx)("option",{value:"SAME",children:"Same as trade type"}),(0,i.jsx)("option",{value:"OPPOSITE",children:"Opposite to trade type"}),(0,i.jsx)("option",{value:"MANUAL",children:"Manual"})]})]}),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Ticks"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",id:"contract_duration",value:J,onChange:t3,min:"1",max:"9",defaultValue:1})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"% Value"}),(0,i.jsx)("input",{type:"number",value:N,onChange:t2})]}),(0,i.jsx)("h5",{children:"Risk Management"}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Use Martingale"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:ey,id:"enable_disbale_martingale",onChange:st}),(0,i.jsx)("span",{className:"slider round"})]})]}),ey&&(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Martingale"}),(0,i.jsx)("input",{type:"number",value:ty.current,onChange:t1})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Use Take Profit/Stop Loss"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eg,id:"enable_tp_sl",onChange:se}),(0,i.jsx)("span",{className:"slider round"})]})]}),eg&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Take Profit"}),(0,i.jsx)("input",{type:"text",value:ep,id:"take_profit",onChange:t7})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Stop Loss"}),(0,i.jsx)("input",{type:"text",value:ev,id:"stop_loss",onChange:t6})]})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Copy Demo to Real Account"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eC,id:"copy_demo",onChange:ss}),(0,i.jsx)("span",{className:"slider round"})]})]}),eC&&(0,i.jsx)("select",{value:eT,onChange:t9,children:sa.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]})]})})]})]}),(0,i.jsx)(le,{overUnderList:tJ(),overValue:b,underValue:k,is_mobile:tz,active_symbol:el,isOverUnderOneClickActive:L,oneClickAmount:ee,oneClickDuration:J,isTradeActive:F,percentageValue:N,overUnderContract:$,overUnderDirection:G,setIsTradeActive:U,isTradeActiveRef:tN,enableCopyDemo:eC,liveAccCR:eT})]}),("rise_fall"===e||"over_under"===e)&&(0,i.jsxs)("div",{className:"line_chart card2",children:[(0,i.jsxs)("div",{className:"linechat_oct",children:[(0,i.jsxs)("select",{name:"",id:"linechat_oct_options",onChange:e=>{let t=e.target.value;"risefall"===t?u(!0):"lastdigit"===t&&u(!1)},children:["rise_fall"===e&&(0,i.jsx)("option",{value:"risefall",children:"Rise/Fall Chart"}),"over_under"===e&&(0,i.jsx)("option",{value:"lastdigit",children:"Last Digits Chart"})]}),!d&&(0,i.jsx)("h2",{className:"analysis_title",children:"Last Digits Chart"}),d&&(0,i.jsxs)("div",{className:"oct_trading_options",children:["rise_fall"===e&&(0,i.jsxs)("div",{className:"details_options",children:[(0,i.jsx)("small",{children:"Enable"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:A,onChange:()=>{R(!A)}}),(0,i.jsx)("span",{className:"slider round"})]})]}),"rise_fall"===e&&(0,i.jsxs)("div",{className:"rise_fall_buttons",children:[(0,i.jsx)("button",{className:"rise_btn",onClick:()=>tH("CALL",A),children:"Rise"}),(0,i.jsx)("button",{className:"fall_btn",onClick:()=>tH("PUT",A),children:"Fall"}),sr(),(0,i.jsx)("div",{className:"guide",onClick:()=>ex(!em),children:(0,i.jsx)(iH.C6u,{})})]})]})]}),(0,i.jsx)(iQ,{data:(()=>{let e=o.slice(-m),t=[],s=0,a=0;return e.forEach(e=>{let n=tX(e,ed);0!==s?(a=e-s,s=e):(s=e,a=e),t.push({name:d?e.toString():n.toString(),value:d?parseFloat(a.toFixed(2)):n})}),t})()})]}),"rise_fall"===e&&(0,i.jsxs)("div",{className:"rise_fall card1",children:[(0,i.jsx)("h2",{className:"analysis_title",children:"Rise/Fall"}),(0,i.jsx)(ll,{allDigitList:tJ(),is_mobile:tz})]})]}),"pie"===e&&(0,i.jsx)("div",{className:"pie_diff",children:(0,i.jsxs)("div",{className:"pie card4",children:[(0,i.jsxs)("div",{className:"odd_even_info",children:[(0,i.jsx)("h2",{className:"analysis_title",children:"Even/Odd"}),(0,i.jsxs)("div",{className:"odd_even_settings",children:[(0,i.jsx)("button",{onClick:()=>{O(e=>!e)},style:{backgroundColor:D?"red":"green",color:"white",border:"none",padding:"4px 8px",cursor:"pointer",borderRadius:"5px"},children:D?"Stop":"Run"}),(0,i.jsx)("div",{className:"tick_stake",children:sr()}),(0,i.jsxs)("div",{className:"oneclick_amout",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5px"},children:[(0,i.jsx)("h3",{children:"Settings"}),(0,i.jsx)("div",{className:"guide",onClick:tg,children:(0,i.jsx)(iH.C6u,{})})]})]}),eI&&(0,i.jsx)("div",{className:"popup-overlay",children:(0,i.jsxs)("div",{className:"popup-box",children:[(0,i.jsx)("button",{className:"close-button",onClick:tg,children:"X"}),(0,i.jsx)("h2",{children:"Even/Odd Settings"}),(0,i.jsxs)("div",{className:"settings-column",children:[(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Check if "}),(0,i.jsxs)("select",{name:"ct_types",id:"contract_types",value:q,onChange:e=>{let t=e.target.value;Y(t),localStorage.setItem("evenOddContract",t)},children:[(0,i.jsx)("option",{value:"DIGITEVEN",children:"Even %"}),(0,i.jsx)("option",{value:"DIGITODD",children:"Odd %"}),(0,i.jsx)("option",{value:"BOTH",children:"Either Even or Odd %"})]})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Is Greater than"}),(0,i.jsx)("input",{type:"number",value:N,onChange:t2}),"%"]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Then trade "}),(0,i.jsxs)("select",{value:W,onChange:e=>{let t=e.target.value;K(t),localStorage.setItem("sameDiffEvenOddContract",t)},children:[(0,i.jsx)("option",{value:"SAME",children:"If Even trade Even, Odd = Odd"}),(0,i.jsx)("option",{value:"OPPOSITE",children:"If Even = Odd, Odd = Even"})]})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Ticks"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",id:"contract_duration",value:J,onChange:t3,min:"1",max:"9",defaultValue:1})]}),(0,i.jsx)("h5",{children:"Risk Management"}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Use Martingale"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:ey,id:"enable_disbale_martingale",onChange:st}),(0,i.jsx)("span",{className:"slider round"})]})]}),ey&&(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Martingale"}),(0,i.jsx)("input",{type:"number",value:ty.current,onChange:t1})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Use Take Profit/Stop Loss"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eg,id:"enable_tp_sl",onChange:se}),(0,i.jsx)("span",{className:"slider round"})]})]}),eg&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Take Profit"}),(0,i.jsx)("input",{type:"text",value:ep,id:"take_profit",onChange:t7})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Stop Loss"}),(0,i.jsx)("input",{type:"text",value:ev,id:"stop_loss",onChange:t6})]})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Copy Demo to Real Account"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eC,id:"copy_demo",onChange:ss}),(0,i.jsx)("span",{className:"slider round"})]})]}),eC&&(0,i.jsx)("select",{value:eT,onChange:t9,children:sa.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]})]})})]}),(0,i.jsx)("div",{className:"pie_container",children:(0,i.jsx)(ln,{allDigitList:tJ(),contract_type:q,isEvenOddOneClickActive:D,percentageValue:N,active_symbol:el,isTradeActive:F,isTradeActiveRef:tN,oneClickAmount:ee,oneClickDuration:J,setIsTradeActive:U,enableCopyDemo:eC,liveAccCR:eT,sameDiffEvenOdd:W})})]})}),"diff"===e&&(0,i.jsx)("div",{className:"pie_diff",children:(0,i.jsxs)("div",{className:"digit_diff card3",children:[(0,i.jsx)("h2",{className:"analysis_title",children:"Differs/Matches"}),(0,i.jsx)("div",{className:"title_oc_trader",children:(0,i.jsxs)("div",{className:"oneclick_trader",children:["MANUAL"===B?(0,i.jsx)("button",{className:"custom_buy_btn",onClick:()=>tq(P),children:"Buy"}):"DIGITDIFF"===P&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"differs_choices",children:[(0,i.jsx)("button",{onClick:()=>{w(!S)},style:{backgroundColor:S?"red":"green",color:"white",border:"none",padding:"4px 8px",cursor:"pointer",borderRadius:"5px"},children:S?"Stop":"Run"}),(0,i.jsxs)("div",{className:"auto_clicker",children:[(0,i.jsx)("small",{children:"Auto Differ"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:E,onChange:()=>{I(!E)}}),(0,i.jsx)("span",{className:"slider round"})]})]})]})}),"MANUAL"===B&&(0,i.jsxs)("div",{className:"auto_clicker",children:[(0,i.jsx)("small",{children:"Prediction"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:es,onChange:t8})]}),sr(),(0,i.jsxs)("div",{className:"oneclick_amout",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5px"},children:[(0,i.jsx)("h3",{children:"Settings"}),(0,i.jsx)("div",{className:"guide",onClick:tf,children:(0,i.jsx)(iH.C6u,{})}),eR&&(0,i.jsx)("div",{className:"popup-overlay",children:(0,i.jsxs)("div",{className:"popup-box",children:[(0,i.jsx)("button",{className:"close-button",onClick:tf,children:"X"}),(0,i.jsx)("h2",{children:"Differs/Matches Settings"}),(0,i.jsxs)("div",{className:"settings-column",children:[(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Trade Type"}),(0,i.jsxs)("select",{name:"ct_types",id:"contract_types",onChange:e=>{z(e.target.value)},children:[(0,i.jsx)("option",{value:"DIGITDIFF",children:"Differs"}),(0,i.jsx)("option",{value:"DIGITMATCH",children:"Matches"})]})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Contract Type"}),(0,i.jsxs)("select",{name:"td_options",id:"trading_options",onChange:e=>{V(e.target.value)},children:[(0,i.jsx)("option",{value:"AUTO",children:"Auto"}),(0,i.jsx)("option",{value:"MANUAL",children:"Manual"})]})]}),(0,i.jsxs)("div",{className:"martingale_ldp",children:[(0,i.jsx)("small",{children:"Ticks"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",id:"contract_duration",value:J,onChange:t3,min:"1",max:"9",defaultValue:1})]}),(0,i.jsx)("h5",{children:"Risk Management"}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Use Martingale"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:ey,id:"enable_disbale_martingale",onChange:st}),(0,i.jsx)("span",{className:"slider round"})]})]}),ey&&(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Martingale"}),(0,i.jsx)("input",{type:"number",value:ty.current,onChange:t1})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Use Take Profit/Stop Loss"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eg,id:"enable_tp_sl",onChange:se}),(0,i.jsx)("span",{className:"slider round"})]})]}),eg&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Take Profit"}),(0,i.jsx)("input",{type:"text",value:ep,id:"take_profit",onChange:t7})]}),(0,i.jsxs)("div",{className:"setting-item",children:[(0,i.jsx)("label",{children:"Stop Loss"}),(0,i.jsx)("input",{type:"text",value:ev,id:"stop_loss",onChange:t6})]})]}),(0,i.jsxs)("div",{className:"active_inactive",children:[(0,i.jsx)("label",{children:"Copy Demo to Real Account"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eC,id:"copy_demo",onChange:ss}),(0,i.jsx)("span",{className:"slider round"})]})]}),eC&&(0,i.jsx)("select",{value:eT,onChange:t9,children:sa.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]})]})})]})]})}),(0,i.jsx)(iY,{lastDigitList:tJ(),active_last:h,active_symbol:el,contract_type:P,duration:J,isOneClickActive:S,stake_amount:ee,prevLowestValue:eh,isAutoClickerActive:E,digitDiffHigh:tw,digitDiffLow:tE,isTradeActive:F,isTradeActiveRef:tN,setIsTradeActive:U,setPrevLowestValue:e_,tradingDiffType:B,enableCopyDemo:eC,liveAccCR:eT})]})})]})]})}),lp=()=>(0,i.jsx)("div",{className:"main_analysis",children:(0,i.jsx)(lx,{})});var lj=s("29357");let lv=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{is_chart_modal_visible:t,setChartModalVisibility:s}=e;return(0,i.jsx)(l.Fragment,{children:t&&(0,i.jsx)(L,{boundary:".main",header:(0,y.NC)("Chart"),onClose:s,modalWidth:526,modalHeight:595,minWidth:526,minHeight:524,enableResizing:!0,children:(0,i.jsx)("div",{className:"chart-modal-dialog","data-testid":"chart-modal-dialog",children:(0,i.jsx)(lj.default,{show_digits_stats:!0})})})})}),lb=(0,r.Pi)(()=>{let{isDesktop:e}=(0,N.F)();return(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(T.a,{}),children:e&&(0,i.jsx)(lv,{})})});var lg=s("82076"),lf=s("83253"),ly=s.n(lf),lN=s("23638");let lC=(0,r.Pi)(()=>{var e,t;let{ui:{is_dark_mode_on:s}}=(0,j.oR)(),[a,n]=l.useState([]),[r,o]=l.useState(""),[c,d]=l.useState([]),[u,h]=l.useState(!1),[_,x]=l.useState(""),[p,v]=l.useState(Z.config_v1.demo_copy_trading.is_active),[b,g]=l.useState([]),[f,N]=l.useState(""),[C,k]=l.useState(!1),[T,S]=l.useState(Z.config_v1.copy_trading.is_active),{client:w}=(0,j.oR)(),{accounts:E,all_accounts_balance:I}=w,A=Object.values(E||{}).find(e=>!e.is_virtual),R=A?null==I?void 0:null===(t=I.accounts)||void 0===t?void 0:null===(e=t[A.loginid])||void 0===e?void 0:e.balance:0,D=null==A?void 0:A.currency,O=(0,m.O$T)(D),[L,M]=l.useState(""),[F,U]=l.useState("");l.useEffect(()=>{if(z(),"undefined"!=typeof localStorage){let e=localStorage.getItem("accountsList"),t=e?JSON.parse(e):void 0;if(t){let e=Object.keys(t).filter(e=>e.startsWith("CR"));if(g(e),e.length>0){let t=e[0];N(t),Z.config_v1.demo_copy_trading.login_id=t}}}},[]),l.useEffect(()=>{z()},[s]);let P=e=>{v(e),Z.config_v1.demo_copy_trading.is_active=e;let t=e?"started":"stopped";U(`Demo to Real copy trading ${t} successfully`),setTimeout(()=>{U("")},1e4)},z=async()=>{(0,Z.retrieveListItem)().then(e=>{if(e){let t=Array.isArray(e[0])?e[0]:e;n(t.length>0?t:[])}})},B=async()=>{if((0,Z.getToken)().account_id)try{let e=r.trim();await (0,Z.updateCopyTradingTokens)(e),(0,Z.saveListItemToStorage)(e),n(t=>[e,...t])}catch(e){void 0!==e.error?(x(e.error.message),h(!0)):console.log(e)}finally{o("")}else x((0,y.NC)("It seems you haven't logged in, please login in and try adding the token again.")),h(!0)},V=e=>{(0,Z.deleteItemFromStorage)(e),(0,Z.removeCopyTradingTokens)(e),d(t=>[...t,e])},$=e=>{n(a.filter(t=>t!==e)),d(t=>t.filter(t=>t!==e))},X=async()=>{k(!0);let e=await (0,Z.reCallTheTokens)();void 0!==e?n(e):n([]),k(!1)},[G,H]=(0,l.useState)(!1),[q,Y]=(0,l.useState)(""),W=e=>{Y(e),H(!0)},K=()=>{H(!1),Y("")};return(0,i.jsxs)("div",{className:"main_copy",children:[u&&(0,i.jsx)(sq.Z,{title:(0,y.NC)("Error while adding new token!"),confirm_button_text:(0,y.NC)("OK"),onConfirm:()=>h(!1),is_visible:u,children:_}),(0,i.jsxs)("div",{className:"ena_DC",children:[(0,i.jsxs)("div",{className:"enable_disable",children:[(0,i.jsx)("button",{className:`copy-trading-btn ${p?"stop":"start"}`,onClick:()=>{P(!p)},children:p?"Stop Demo to Real Copy Trading":"Start Demo to Real Copy Trading"}),(0,i.jsxs)("div",{onClick:()=>W("https://www.youtube.com/embed/gsWzKmslEnY"),style:{cursor:"pointer",textAlign:"center",background:"#d5e2eb",borderRadius:"5px"},children:[(0,i.jsx)(iM.V2E,{size:30,style:{color:"#FF0000"}}),(0,i.jsx)("div",{style:{fontSize:"12px",color:"#333"},children:"Tutorial"})]})]}),(0,i.jsxs)("div",{className:"realaccount-card",children:[(0,i.jsx)("span",{className:"realaccount-label",children:(null==A?void 0:A.loginid)?`${A.loginid}`:"CR*****"}),(0,i.jsx)("span",{className:"realaccount-amount",children:D?`${(0,m.lby)(D,R??0,!0)} ${O}`:"******"})]}),F&&(0,i.jsx)("div",{className:"success-message",children:F})]}),(0,i.jsx)("header",{className:`title ${s&&"dark_active"}`,children:(0,i.jsx)("small",{children:(0,y.NC)("Add tokens to Replicator")})}),(0,i.jsxs)("div",{className:"copytrading",children:[(0,i.jsxs)("div",{className:`input_content ${s&&"dark_active"}`,children:[(0,i.jsxs)("div",{className:"input_items",children:[(0,i.jsx)("input",{type:"text",value:r,className:"tokens-input",onChange:e=>{o(e.target.value)},placeholder:(0,y.NC)("Enter Client token")}),(0,i.jsx)("button",{className:"token-action-btn",onClick:()=>B(),children:"Add"}),(0,i.jsxs)("button",{className:"token-action-btn",onClick:()=>X(),children:[C?"syncing":"Sync "," ",(0,i.jsx)(lN.Qxo,{})]})]}),(0,i.jsxs)("div",{className:"enable_disable",children:[(0,i.jsx)("button",{className:`copy-trading-btn ${Z.config_v1.copy_trading.is_active?"stop":"start"}`,onClick:()=>{let e=!T;S(e),Z.config_v1.copy_trading.is_active=e;let t=a.length,s=e?"started":"stopped";M(`Copy trading ${s} successfully for all ${t} tokens!`),setTimeout(()=>{M("")},1e4)},children:Z.config_v1.copy_trading.is_active?"Stop Copy Trading":"Start Copy Trading"}),(0,i.jsx)("button",{onClick:()=>W("https://www.youtube.com/embed/gsWzKmslEnY"),style:{cursor:"pointer"},children:(0,i.jsx)(iM.V2E,{style:{color:"#FF0000"}})})]}),L&&(0,i.jsx)("div",{className:"success-message",children:L})]}),(0,i.jsx)("div",{className:`tokens_container ${s&&"dark_active"}`,children:(0,i.jsxs)("ul",{className:"tokens-list",children:[(0,i.jsxs)("h2",{children:[(0,y.NC)("Total Clients added:")," ",a.length]}),a.length>0?a.map((e,t)=>(0,i.jsxs)("li",{className:`token ${c.includes(e)?"fall":""}`,onTransitionEnd:()=>$(e),children:[(0,i.jsxs)("span",{className:"token-number",children:[t+1,"."]})," ",(0,i.jsx)("span",{className:"token-item",children:e}),(0,i.jsx)("button",{className:"trash-btn",onClick:()=>V(e),children:(0,i.jsx)(lg.Xm5,{})})]},e)):(0,i.jsx)("div",{className:`token_info ${s&&"dark_active"}`,children:(0,y.NC)("No tokens added yet")})]})})]}),(0,i.jsxs)(ly(),{isOpen:G,onRequestClose:K,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:1e3},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",width:"90vw",height:"80vh",border:"none",borderRadius:"8px",padding:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",background:"#fff",zIndex:1001,position:"relative"}},children:[(0,i.jsx)("span",{onClick:K,style:{position:"fixed",top:"10px",right:"10px",fontSize:"30px",fontWeight:"bold",cursor:"pointer",color:"#000",background:"transparent",border:"none"},children:"X"}),(0,i.jsx)("h2",{style:{color:"#000",fontSize:"20px",textAlign:"center",margin:"5px 0"},children:"Copytrading Tutorial"}),(0,i.jsx)("iframe",{width:"100%",height:"100%",src:q,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})]})}),lk=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{active_tab:t,active_tour:s,setActiveTour:a,setTourDialogVisibility:n}=e,{is_close_tour:r,is_finished:o,handleJoyrideCallback:c,setIsCloseTour:d}=aU();return l.useEffect(()=>{(r||o)&&(d(!1),a(""))},[r,o,a,d]),!(0,av.$8)("onboard_tour_token")&&1===t&&n(!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aF,{}),s&&(0,i.jsx)(af,{handleCallback:c,steps:aw,spotlightClicks:!0})]})}),lT={content:[],header:"",img:"",tour_step_key:1},lS=(0,r.Pi)(()=>{let{dashboard:e}=(0,j.oR)(),{onCloseTour:t,onTourEnd:s,setTourActiveStep:a,active_tour:n,active_tab:r,setActiveTour:o}=e,[c,d]=l.useState(1),[u,h]=l.useState(lT),{content:_,header:m,img:x,media:p,tour_step_key:v}=u,b=1===c?(0,y.NC)("Start"):(0,y.NC)("Next"),g=8===c?(0,y.NC)("Got it, thanks!"):b,f="onboarding"===n;return(l.useEffect(()=>{aA.forEach(e=>{e.tour_step_key===c&&h(e),a(c)})},[c]),l.useEffect(()=>{(0,av.$8)("onboard_tour_token")||1!==r||o("onboarding")},[r,n]),n)?(0,i.jsxs)("div",{className:F()("dbot-slider",{"dbot-slider--active":1===c,"dbot-slider--tour-position":1!==c}),"data-testid":"onboarding-tour-mobile",children:[1!==v&&(0,i.jsxs)("div",{className:"dbot-slider__navbar",children:[(0,i.jsx)(es.Z,{color:"less-prominent",weight:"less-prominent",lineHeight:"s",size:"xxs","data-testid":"dbot-onboard-slider__navbar",children:`${v-1}/7`}),(0,i.jsx)("span",{onClick:t,children:(0,i.jsx)(E.Z,{height:"20px",width:"20px","data-testid":"exit-onboard-tour",className:"db-contract-card__result-icon",color:"secondary"})})]}),m&&(0,i.jsx)(es.Z,{color:"prominent",weight:"bold",align:"center",className:"dbot-slider__title",as:"span",lineHeight:"s",size:"xs",children:(0,y.NC)(m)}),p&&(0,i.jsx)("div",{className:"dbot-slider__media",children:(0,i.jsx)("video",{autoPlay:!0,loop:!0,controls:!0,preload:"auto",playsInline:!0,disablePictureInPicture:!0,controlsList:"nodownload",src:p})}),x&&(0,i.jsx)("div",{className:"dbot-slider__image",children:(0,i.jsx)("img",{src:x})}),_&&(0,i.jsx)(i.Fragment,{children:_.map(e=>(0,i.jsx)(es.Z,{align:"center",color:"prominent",className:"dbot-slider__content",as:"div",lineHeight:"s",size:"xxs",children:e},e))}),(0,i.jsxs)("div",{className:"dbot-slider__status",children:[(0,i.jsx)("div",{className:"dbot-slider__progress-bar",children:(0,i.jsx)(aZ,{step:c,steps_list:aA.map(e=>e.tour_step_key.toString()),onStepChange:d})}),(0,i.jsxs)("div",{className:"dbot-slider__button-group",children:[1===c&&(0,i.jsx)(az,{onClick:()=>{t()},label:(0,y.NC)("Skip"),"data-testid":"skip-onboard-tour"}),![1,2,8].includes(c)&&(0,i.jsx)(az,{onClick:()=>{d(c-1)},label:(0,y.NC)("Previous"),"data-testid":"prev-onboard-tour"}),(0,i.jsx)(az,{type:"danger",onClick:()=>{d(c+1),s(c,f)},label:g,"data-testid":8===v?"finish-onboard-tour":"next-onboard-tour"})]})]})]}):null}),lw=(0,r.Pi)(e=>{let{is_mobile:t}=e;return(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(lS,{}):(0,i.jsx)(lk,{})})});var lE=s("58995"),lI=s("69498");let lA=e=>{let{dashboard_click_name:t,subpage_name:s}=e;sQ.Analytics.trackEvent("ce_bot_form",{action:s0.om.DASHBOARD_CLICK,form_name:s0.oH,subpage_name:s,dashboard_click_name:t})},lR=e=>{let{announcement_name:t}=e;sQ.Analytics.trackEvent("ce_bot_form",{action:s0.om.ANNOUNCEMENT_CLICK,form_name:s0.oH,subform_name:"announcements",subform_source:"dashboard",announcement_name:t})},lD=e=>{let{announcement_name:t,announcement_action:s}=e;sQ.Analytics.trackEvent("ce_bot_form",{action:s0.om.ANNOUNCEMENT_ACTION,form_name:s0.oH,subform_name:"announcements",subform_source:"dashboard",announcement_name:t,announcement_action:s})};var lO=s("64376");let lL=e=>{let{children:t,text_size:s,className:a}=e;return(0,i.jsx)("button",{type:"button",className:(0,nu.Z)("open-livechat__link",a),onClick:()=>window.LC_API.open_chat_window(),children:(0,i.jsx)(es.Z,{size:s||"xs",weight:"bold",color:"brand-red-coral",children:t||(0,i.jsx)(y.Xx,{i18n_default_text:"live chat"})})})};var lM=s("69557");let lF=e=>{let{announce:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lM.Z,{fill:"var(--text-info-blue)",width:"24",height:"26"}),t&&(0,i.jsx)("div",{className:"notification__icon--indicator"})]})},lU=e=>{let{title:t,announce:s}=e;return(0,i.jsx)(es.Z,{size:"xs",line_height:"l",weight:s?"bold":"normal",styles:s?{}:{color:"var(--text-general)"},children:t})},lP=e=>{let{message:t,date:s,announce:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.Z,{size:"xs",line_height:"m",weight:a?"normal":"lighter",styles:a?{}:{color:"var(--text-general)"},children:t}),(0,i.jsx)(es.Z,{size:"xxs",line_height:"xl",styles:{color:"var(--text-primary)"},children:s})]})},lZ=e=>{let{announce_id:t}=e;switch(t){case"MOVING_STRATEGIES_ANNOUNCE":return(0,i.jsx)(e6.J,{icon:"IcMigrateStrategy",className:"category-type",style:{height:100,width:140}});case"BLOCKLY_ANNOUNCE":return(0,i.jsx)(e6.J,{icon:"IcUpgradeBlockly",className:"category-type",style:{height:120,width:120}});case"ACCUMULATOR_ANNOUNCE":return(0,i.jsx)(e6.J,{icon:"IcTradetypeAccu",className:"category-type",style:{height:80,width:80}});default:return null}},lz={UPDATES_QUICK_STRATEGY_MODAL_ANNOUNCE:{announcement:{id:"UPDATES_QUICK_STRATEGY_MODAL_ANNOUNCE",main_title:(0,y.NC)("Updates: Quick strategy modal"),confirm_button_text:(0,y.NC)("Explore now"),base_classname:"announcement-dialog",media:[(0,m.MT8)("assets/images/dbot-new-look-QS-and-accumulators-addition.gif")],title:[(0,i.jsx)(es.Z,{as:"div",align:"left",size:"xs",className:"announcement-dialog__title",children:(0,i.jsx)(y.Xx,{i18n_default_text:"We've improved the Quick strategy (QS) modal for a better trading experience."})},0),(0,i.jsx)(y.Xx,{i18n_default_text:"<0>What’s new:</0>",components:[(0,i.jsx)("div",{},0)]},1)],unordered_list:[{id:0,text:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>A revamped design</0> for improved functionality.",components:[(0,i.jsx)("strong",{},0)]})},{id:1,text:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Support for multiple trade types </0> with a filter to find strategies by preference.",components:[(0,i.jsx)("strong",{},0)]})},{id:2,text:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Integration of Accumulators Options</0> for direct strategy application within the QS modal.",components:[(0,i.jsx)("strong",{},0)]})}]},should_not_be_cancel:!0,switch_tab_on_confirm:sp.ve.BOT_BUILDER,should_toggle_qs_modal:!0},MOVING_STRATEGIES_ANNOUNCE:{announcement:{id:"MOVING_STRATEGIES_ANNOUNCE",main_title:(0,y.NC)("Moving strategies to D-Bot"),confirm_button_text:(0,y.NC)("Import strategy"),base_classname:"announcement-dialog",title:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Follow these steps to smoothly transfer your strategies:</0>",components:[(0,i.jsx)("strong",{},0)]}),numbered_content:[{id:0,text:(0,y.NC)("Download your strategy in XML format and import it to D-Bot.")},{id:1,text:(0,y.NC)("Run your updated strategy to check its performance.")},{id:2,text:(0,y.NC)("Save the updated strategy for quicker re-imports.")}],plain_text:[{id:0,text:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Note</0>: Uploading complex strategies may take some time. Saving them from D-Bot ensures quicker access later. If you have questions, contact us via <1/>.",components:[(0,i.jsx)("strong",{},0),(0,i.jsx)(lL,{className:""},1)]})}]},should_not_be_cancel:!0,should_toggle_load_modal:!0,switch_tab_on_confirm:sp.ve.BOT_BUILDER,onConfirm:()=>{(0,t8.m5)({subpage_name:"bot_builder",subform_source:"announcements",subform_name:"load_strategy",load_strategy_tab:"recent"})}},BLOCKLY_ANNOUNCE:{announcement:{id:"BLOCKLY_ANNOUNCE",main_title:(0,y.NC)("Google Blockly v10 update"),base_classname:"announcement-dialog",title:(0,i.jsx)(y.Xx,{i18n_default_text:"We have updated our Blockly system in D-Bot from <0>version 3 to version 10</0>. This brings:",components:[(0,i.jsx)("strong",{},0)]}),numbered_content:[{id:0,text:(0,y.NC)("Better security.")},{id:1,text:(0,y.NC)("Faster performance.")},{id:2,text:(0,y.NC)("New features for developers.")}],plain_text:[{id:0,text:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Note</0>: Some complex strategies might face issues in the Bot Builder. If you have questions, contact us via <1/>.",components:[(0,i.jsx)("strong",{},0),(0,i.jsx)(lL,{className:""},1)]})}]},should_not_be_cancel:!0},ACCUMULATOR_ANNOUNCE:{announcement:{id:"ACCUMULATOR_ANNOUNCE",main_title:(0,y.NC)("Accumulators now on D-Bot"),confirm_button_text:(0,y.NC)("Try now"),cancel_button_text:(0,y.NC)("Learn more"),base_classname:"announcement-dialog",title:(0,i.jsx)(y.Xx,{i18n_default_text:"<0>Boost your trading strategy with Accumulators</0>",components:[(0,i.jsx)("strong",{},0)]}),content:[{id:0,text:(0,y.NC)("Trade Accumulators to build up potential profits with a structured approach.")},{id:1,text:(0,y.NC)("Customise your investment period and price levels to fit your trading goals.")},{id:2,text:(0,y.NC)("Manage risks while capitalising on market opportunities.")}]},switch_tab_on_cancel:sp.ve.TUTORIAL,switch_tab_on_confirm:sp.ve.BOT_BUILDER,onConfirm:()=>l$()}},lB={MODAL_BUTTON_ACTION:"modal_button_action",REDIRECT_BUTTON_ACTION:"redirect_button_action"},lV=[{id:"UPDATES_QUICK_STRATEGY_MODAL_ANNOUNCE",icon:lF,title:(0,y.NC)("Updated: Quick Strategy Modal"),message:(0,y.NC)("We've improved the Quick strategy (QS) modal for a better trading experience."),date:"18 November 2024 00:00 UTC",buttonAction:lB.MODAL_BUTTON_ACTION,actionText:""},{id:"MOVING_STRATEGIES_ANNOUNCE",icon:lF,title:(0,y.NC)("Moving strategies to D-Bot"),message:(0,y.NC)("Follow these steps to smoothly transfer your strategies"),date:"1 August 2024 00:00 UTC",buttonAction:lB.MODAL_BUTTON_ACTION,actionText:""},{id:"BLOCKLY_ANNOUNCE",icon:lF,title:(0,y.NC)("Google Blockly v10 update"),message:(0,y.NC)("We have updated our Blockly system in D-Bot from version 3 to version 10."),date:"24 July 2024 00:00 UTC",buttonAction:lB.MODAL_BUTTON_ACTION,actionText:""},{id:"ACCUMULATOR_ANNOUNCE",icon:lF,title:(0,y.NC)("Accumulators is now on D-Bot"),message:(0,y.NC)("Boost your trading strategy with Accumulators."),date:"2 July 2024 00:00 UTC",buttonAction:lB.MODAL_BUTTON_ACTION,actionText:""}],l$=()=>{Promise.resolve().then(s.bind(s,56505)).then(e=>{let t=Blockly.utils.xml.textToDom(e.default);((e,s)=>{let a=`${e.toUpperCase()}_LIST`,n=null==t?void 0:t.querySelectorAll(`field[name="${a}"]`);null==n||n.forEach(e=>{e.textContent=s})})("tradetypecat","accumulator");let{derivWorkspace:s}=Blockly;(0,Z.load)({block_string:Blockly.Xml.domToText(t),file_name:"Strategy with accumulator trade type",workspace:s,from:Z.save_types.UNSAVED,drop_event:null,strategy_id:null,showIncompatibleStrategyDialog:null})}).catch(e=>{console.error("Failed to load strategy XML:",e)})},lX=(e,t,s)=>{switch(e.buttonAction){case lB.MODAL_BUTTON_ACTION:return t(e.id,lz[e.id]);case lB.REDIRECT_BUTTON_ACTION:{let t=lz[e.id].url_redirect;if(t)return s(t);return!1}default:return!1}},lG=e=>{let{announcement:t,handleOnConfirm:s,handleOnCancel:a,is_announce_dialog_open:n,setIsAnnounceDialogOpen:l,is_tablet:r}=e,{id:o,main_title:c,confirm_button_text:d,cancel_button_text:u,base_classname:h,title:_,content:m,numbered_content:x,plain_text:p,unordered_list:j,media:v}=t;return(0,i.jsx)(sq.Z,{portal_element_id:"modal_root",title:c,is_visible:n,confirm_button_text:d,onConfirm:s,cancel_button_text:u,onCancel:a,is_mobile_full_width:!0,has_close_icon:!0,onClose:()=>{l(!1),(0,t8._W)({subform_name:"announcements",announcement_name:c})},className:r?`${h} ${h}--tablet`:h,children:(0,i.jsxs)("div",{className:`${h}__body-text`,children:[(0,i.jsx)("div",{className:`${h}__body-icon--${o.toLowerCase()}`,children:(0,i.jsx)(lZ,{announce_id:o})}),Array.isArray(v)&&(0,i.jsx)(i.Fragment,{children:v.map((e,t)=>(0,i.jsx)("img",{className:`${h}__image`,src:e,alt:e},t))}),(0,i.jsxs)("div",{className:`${h}__body-main-content`,children:[(0,i.jsx)(es.Z,{as:"p",size:"xs",className:`${h}__title--${o.toLowerCase()}`,children:_}),Array.isArray(m)&&m.map(e=>(0,i.jsxs)("div",{className:`${h}__body-item`,children:[(0,i.jsx)("div",{children:(0,i.jsx)(eb.Z,{fill:"var(--icon-black-plus)"})}),(0,i.jsx)(es.Z,{as:"p",lineHeight:"l",size:"xs",children:null==e?void 0:e.text})]},null==e?void 0:e.id)),Array.isArray(j)&&(0,i.jsx)("ul",{className:`${h}__unordered_list`,children:j.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)(es.Z,{as:"div",lineHeight:"l",size:"xs",children:null==e?void 0:e.text})},null==e?void 0:e.id))},0),Array.isArray(x)&&(0,i.jsx)("ol",{className:`${h}__body-item--numbered`,children:x.map(e=>(0,i.jsx)(es.Z,{as:"li",lineHeight:"xl",size:"xs",styles:{listStyle:"auto"},children:null==e?void 0:e.text},null==e?void 0:e.id))}),Array.isArray(p)&&(0,i.jsx)("div",{children:p.map(e=>(0,i.jsx)("span",{children:(0,i.jsx)(es.Z,{lineHeight:"m",size:"xs",styles:{listStyle:"auto"},children:e.text},e.id)},null==e?void 0:e.id))})]})]})})},lH=(0,r.Pi)(e=>{let{is_mobile:t,is_tablet:s,handleTabChange:a}=e,{load_modal:{toggleLoadModal:n},dashboard:{showVideoDialog:r},quick_strategy:{setFormVisibility:o}}=(0,j.oR)(),[c,d]=l.useState(!1),[u,h]=l.useState(!1),[_,m]=l.useState(null),[x,p]=l.useState({}),[v,b]=l.useState(0),g=(0,iF.s0)(),[f,N]=l.useState([]),C="announcements__label",k=e=>{var t;null===(t=localStorage)||void 0===t||t.setItem("bot-announcements",JSON.stringify(e))},T=e=>{let t=null;k({...t=JSON.parse(localStorage.getItem("bot-announcements")??"{}"),[e]:!1}),p(E())},S=(e,t)=>()=>{m(t),d(!0),h(e=>!e),lR({announcement_name:t.announcement.main_title}),T(e)},w=e=>()=>{g&&g(e)},E=()=>{let e=null;e=JSON.parse(localStorage.getItem("bot-announcements")??"{}");let t=[],s={};return lV.map(a=>{let n=!0;e&&Object.hasOwn(e,a.id)&&(n=e[a.id]),t.push({id:a.id,icon:(0,i.jsx)(a.icon,{announce:n}),title:(0,i.jsx)(lU,{title:a.title,announce:n}),message:(0,i.jsx)(lP,{message:a.message,date:a.date,announce:n}),buttonAction:lX(a,S,w),actionText:a.actionText}),s[a.id]=n}),N(t),s};l.useEffect(()=>{let e=E();k(e),p(e)},[]),l.useEffect(()=>{b(Object.values(x).filter(e=>e).length)},[x]);let I=()=>{let e=(0,lO.zw)().find(e=>4===e.id);e&&r({url:e.url,type:"url"})};return(0,i.jsxs)("div",{className:"announcements",children:[(0,i.jsxs)("button",{className:"announcements__button",onClick:()=>{h(e=>!e),!u&&(0,t8.m5)({subform_name:"announcements",subform_source:"dashboard"})},"data-testid":"btn-announcements",children:[(0,i.jsx)(lE.Z,{fill:"var(--icon-black-plus)",iconSize:"sm"}),!t&&(0,i.jsx)(es.Z,{size:"xs",line_height:"s",className:C,children:(0,y.NC)("Announcements")}),0!==v&&(0,i.jsx)("div",{className:"announcements__amount",children:(0,i.jsx)("p",{"data-testid":"announcements__amount",children:v})})]}),(0,i.jsx)("div",{className:"notifications__wrapper",children:(0,i.jsx)(lI.T,{className:F()("",{"notifications__wrapper--mobile":t,"notifications__wrapper--desktop":!t,"notifications__wrapper--tablet":s}),clearNotificationsCallback:()=>{k(Object.fromEntries(Object.keys(x).map(e=>[e,!1]))),p(E())},componentConfig:{clearButtonText:(0,y.NC)("Mark all as read"),modalTitle:(0,y.NC)("Announcements"),noNotificationsMessage:"",noNotificationsTitle:""},isOpen:u,setIsOpen:h,notifications:f,excludedClickOutsideClass:C,...t&&{appElement:document.getElementById("modal_root")}})}),(null==_?void 0:_.announcement)&&(0,i.jsx)(lG,{announcement:_.announcement,is_announce_dialog_open:c,setIsAnnounceDialogOpen:d,handleOnCancel:(null==_?void 0:_.should_not_be_cancel)?null:()=>{var e;lD({announcement_name:null==_?void 0:_.announcement.main_title,announcement_action:null==_?void 0:_.announcement.cancel_button_text}),(null==_?void 0:_.switch_tab_on_cancel)&&(a(_.switch_tab_on_cancel),"ACCUMULATOR_ANNOUNCE"===_.announcement.id&&I()),null==_||null===(e=_.onCancel)||void 0===e||e.call(_),m(null)},handleOnConfirm:()=>{var e;lD({announcement_name:null==_?void 0:_.announcement.main_title,announcement_action:null==_?void 0:_.announcement.confirm_button_text}),(null==_?void 0:_.switch_tab_on_confirm)&&a(_.switch_tab_on_confirm),(null==_?void 0:_.should_toggle_qs_modal)&&o(!0),(null==_?void 0:_.should_toggle_load_modal)&&n(),null==_||null===(e=_.onConfirm)||void 0===e||e.call(_),m(null)},is_tablet:s})]})});var lq=s("21317"),lY=s("96475"),lW=s("69483"),lK=s.n(lW),lJ=s("26961"),lQ=s.n(lJ);let l0=(0,r.Pi)(()=>{let{load_modal:e,dashboard:t}=(0,j.oR)(),{is_delete_modal_open:s,onToggleDeleteDialog:a,selected_strategy_id:n,setDashboardStrategies:l,loadStrategyToBuilder:r,refreshStrategiesTheme:o,resetBotBuilderStrategy:c}=e,{setOpenSettings:d}=t,u=async(e,t)=>{t.length?(n===e&&await r(null==t?void 0:t[0]),await o()):c()},h=async e=>{let t=(await (0,Z.getSavedWorkspaces)()).filter(t=>t.id!==e);l(t),lK().setItem("saved_workspaces",lQ().compress(JSON.stringify(t))),await u(e,t),a(!1)};return(0,i.jsx)("div",{children:(0,i.jsxs)(sq.Z,{title:(0,y.NC)("Delete bot"),is_visible:s,confirm_button_text:(0,y.NC)("Yes, delete"),onConfirm:()=>{h(n),a(!1),d(sK.tx.BOT_DELETE)},cancel_button_text:(0,y.NC)("No"),onCancel:()=>{a(!1)},is_mobile_full_width:!1,className:"dc-dialog__delete-strategy--delete",has_close_icon:!0,children:[(0,i.jsx)("div",{children:(0,i.jsxs)(es.Z,{color:"prominent",lineHeight:"s",size:"xs",children:[(0,y.NC)("Your bot will be permanently deleted when you hit "),(0,i.jsx)("strong",{children:(0,y.NC)("Yes, delete.")})]})}),(0,i.jsx)("div",{children:(0,i.jsx)(es.Z,{color:"prominent",lineHeight:"xl",size:"xs",children:(0,y.NC)("Are you sure you want to delete it?")})})]})})}),l1=e=>{let[t,s]=l.useState(!1),a=e=>{"ESCAPE"===e.key.toUpperCase()&&s(!1)},n=t=>{var a;!(null==e?void 0:null===(a=e.current)||void 0===a?void 0:a.contains(t.target))&&s(!1)};return l.useEffect(()=>(document.addEventListener("keydown",a,!0),document.addEventListener("click",n,!0),()=>{document.removeEventListener("keydown",a,!0),document.removeEventListener("click",n,!0)}),[]),{is_dropdown_visible:t,setDropdownVisibility:s}};var l2=s("85127"),l5=s("37575"),l8=s("42754"),l3=s("33571");let l4={OPEN:"open",SAVE:"save",DELETE:"delete",INIT:"init"},l7=[{type:l4.OPEN,icon:(0,i.jsx)(l2.Z,{fill:"var(--text-general)"}),label:(0,i.jsx)(y.Xx,{i18n_default_text:"Open"})},{type:l4.SAVE,icon:(0,i.jsx)(l8.Z,{fill:"var(--text-general)",className:"icon-general-fill-path",iconSize:"xs",path:"",opacity:.8}),label:(0,i.jsx)(y.Xx,{i18n_default_text:"Save"})},{type:l4.DELETE,icon:(0,i.jsx)(l5.Z,{fill:"var(--text-general)"}),label:(0,i.jsx)(y.Xx,{i18n_default_text:"Delete"})}],l6=(0,r.Pi)(e=>{let{workspace:t,index:s}=e,{dashboard:a,load_modal:n,save_modal:r}=(0,j.oR)(),{setActiveTab:o}=a,{toggleSaveModal:c,updateBotName:d}=r,{dashboard_strategies:u=[],getSaveType:h,getSelectedStrategyID:_,loadFileFromRecent:m,onToggleDeleteDialog:x,previewed_strategy_id:p,selected_strategy_id:v,setSelectedStrategyId:b}=n,g=l.useRef(null),f=l.useRef(null),y=l.useRef(!1),{setDropdownVisibility:C,is_dropdown_visible:k}=l1(f),{isDesktop:T}=(0,N.F)();l.useEffect(()=>{let e;return(null==u?void 0:u.length)&&0===s&&!y.current&&(e=setTimeout(()=>{var e;y.current=!0,null==g||null===(e=g.current)||void 0===e||e.click()},50)),()=>{e&&clearTimeout(e)}},[u,s]);let S=async()=>{await m(),o(sp.ve.BOT_BUILDER),lA({dashboard_click_name:"open",subpage_name:"bot_builder"})},w=()=>{d(null==t?void 0:t.name),c(),lA({dashboard_click_name:"save",subpage_name:"dashboard"})},E=async e=>{switch(b(t.id),e){case l4.OPEN:await S();break;case l4.SAVE:w();break;case l4.DELETE:x(!0),lA({dashboard_click_name:"delete",subpage_name:"dashboard"})}},I=v===t.id&&k,A=T?"xs":"xxs";return(0,i.jsxs)("div",{className:F()("bot-list__item",{"bot-list__item--selected":p===t.id,"bot-list__item--loaded":u,"bot-list__item--min":!!(null==u?void 0:u.length)&&!T}),ref:g,onClick:e=>{e.stopPropagation(),k&&C(!1),_(t.id),E(l4.INIT)},children:[(0,i.jsx)("div",{className:"bot-list__item__label",children:(0,i.jsx)("div",{className:"text-wrapper",title:t.name,children:(0,i.jsx)(es.Z,{align:"left",as:"p",size:A,lineHeight:"l",children:t.name})})}),(0,i.jsx)("div",{className:"bot-list__item__time-stamp",children:(0,i.jsx)(es.Z,{align:"left",as:"p",size:A,lineHeight:"l",children:(0,Z.timeSince)(t.timestamp)})}),(0,i.jsxs)("div",{className:"bot-list__item__load-type",children:[ao(t.save_type,"bot-list__item__load-type__icon--active"),(0,i.jsx)("div",{className:"bot-list__item__load-type__icon--saved",children:(0,i.jsx)(es.Z,{align:"left",as:"p",size:A,lineHeight:"l",children:h(t.save_type)})})]}),T?(0,i.jsx)("div",{className:"bot-list__item__actions",children:l7.map(e=>(0,i.jsx)("div",{className:"bot-list__item__actions__action-item",onClick:t=>{t.stopPropagation(),E(e.type)},children:(0,i.jsx)($.Z,{alignment:"top",message:e.label,zIndex:"9999",children:e.icon})},e.type))}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"bot-list__item__actions",children:(0,i.jsx)("button",{ref:f,onClick:e=>{e.stopPropagation(),C(!k),b(t.id)},tabIndex:0,children:(0,i.jsx)(l3.Z,{height:"20px",width:"20px"})})}),(0,i.jsx)("div",{className:F()("bot-list__item__responsive",{"bot-list__item__responsive--active":I,"bot-list__item__responsive--min":u.length<=5}),children:l7.map(e=>(0,i.jsxs)("div",{className:"bot-list__item__responsive__menu",onClick:t=>{t.stopPropagation(),E(e.type)},children:[(0,i.jsx)("div",{className:"bot-list__item__responsive__menu__icon",children:e.icon}),(0,i.jsx)(es.Z,{color:"prominent",className:"bot-list__item__responsive__menu__item",as:"p",size:"xs",children:e.label})]},e.type))})]})]},t.id)}),l9=[{label:(0,y.NC)("Bot name"),className:"bot-list__header__label"},{label:(0,y.NC)("Last modified"),className:"bot-list__header__time-stamp"},{label:(0,y.NC)("Status"),className:"bot-list__header__load-type"}],re=(0,r.Pi)(()=>{let{load_modal:e,dashboard:t}=(0,j.oR)(),{setDashboardStrategies:s,dashboard_strategies:a}=e,{setStrategySaveType:n,strategy_save_type:r}=t,{isDesktop:o}=(0,N.F)(),c=l.useRef(!1),d=l.useRef(!1);return(l.useEffect(()=>{n(""),(async()=>{s(await (0,Z.getSavedWorkspaces)()),!d.current&&(d.current=!0)})()},[r]),l.useEffect(()=>{!(null==a?void 0:a.length)&&!c.current&&(c.current=!0)},[]),null==a?void 0:a.length)?(0,i.jsxs)("div",{className:"bot-list__container",children:[(0,i.jsxs)("div",{className:"bot-list__wrapper",children:[(0,i.jsx)("div",{className:"bot-list__title",children:(0,i.jsx)(es.Z,{size:o?"s":"xs",weight:"bold",children:(0,i.jsx)(y.Xx,{i18n_default_text:"Your bots:"})})}),(0,i.jsx)("div",{className:"bot-list__header",children:l9.map(e=>{let{label:t,className:s}=e;return(0,i.jsx)("div",{className:s,children:(0,i.jsx)(es.Z,{size:o?"xs":"xxs",weight:"bold",children:t})},t)})}),(0,i.jsx)("div",{className:"bot-list__table",children:a.map(e=>(0,i.jsx)(l6,{workspace:e},e.id))})]}),(0,i.jsx)(l0,{})]}):null}),rt=(0,r.Pi)(e=>{let{is_mobile:t,has_dashboard_strategies:s}=e,{dashboard:a,load_modal:n,quick_strategy:r}=(0,j.oR)(),{toggleLoadModal:o,setActiveTabIndex:c}=n,{isDesktop:d}=(0,N.F)(),{onCloseDialog:u,dialog_options:h,is_dialog_open:_,setActiveTab:m,setPreviewOnPopup:x}=a,{setFormVisibility:p}=r,v=()=>{o(),c(t?1:2),m(sp.ve.BOT_BUILDER)},b=()=>{o(),c(t?0:1),m(sp.ve.BOT_BUILDER)},g=[{id:"my-computer",icon:t?(0,i.jsx)(s4.Z,{height:"48px",width:"48px"}):(0,i.jsx)(s7.Z,{height:"48px",width:"48px"}),content:t?(0,i.jsx)(y.Xx,{i18n_default_text:"Local"}):(0,i.jsx)(y.Xx,{i18n_default_text:"My computer"}),callback:()=>{b(),(0,t8.m5)({subpage_name:"bot_builder",subform_source:"dashboard",subform_name:"load_strategy",load_strategy_tab:"local"})}},{id:"google-drive",icon:(0,i.jsx)(s8.Z,{height:"48px",width:"48px"}),content:(0,i.jsx)(y.Xx,{i18n_default_text:"Google Drive"}),callback:()=>{v(),(0,t8.m5)({subpage_name:"bot_builder",subform_source:"dashboard",subform_name:"load_strategy",load_strategy_tab:"google drive"})}},{id:"bot-builder",icon:(0,i.jsx)(lq.Z,{height:"48px",width:"48px"}),content:(0,i.jsx)(y.Xx,{i18n_default_text:"Bot builder"}),callback:()=>{m(sp.ve.BOT_BUILDER),lA({dashboard_click_name:"bot_builder",subpage_name:"bot_builder"})}},{id:"quick-strategy",icon:(0,i.jsx)(lY.Z,{height:"48px",width:"48px"}),content:(0,i.jsx)(y.Xx,{i18n_default_text:"Quick strategy"}),callback:()=>{m(sp.ve.BOT_BUILDER),p(!0),(0,t8.m5)({subpage_name:"bot_builder",subform_source:"dashboard",subform_name:"quick_strategy"})}}];return l.useMemo(()=>(0,i.jsxs)("div",{className:F()("tab__dashboard__table",{"tab__dashboard__table--minimized":s&&t}),children:[(0,i.jsxs)("div",{className:F()("tab__dashboard__table__tiles",{"tab__dashboard__table__tiles--minimized":s&&t}),id:"tab__dashboard__table__tiles",children:[g.map(e=>{let{icon:a,content:n,callback:l,id:r}=e;return(0,i.jsxs)("div",{className:F()("tab__dashboard__table__block",{"tab__dashboard__table__block--minimized":s&&t}),children:[(0,i.jsx)("div",{className:F()("tab__dashboard__table__images",{"tab__dashboard__table__images--minimized":s}),width:"8rem",height:"8rem",icon:a,id:r,onClick:()=>{l()},children:a}),(0,i.jsx)(es.Z,{color:"prominent",size:t?"xxs":"xs",children:n})]},r)}),d?(0,i.jsx)(sk,{is_modal_open:_,className:"load-strategy__wrapper",header:(0,y.NC)("Load strategy"),onClickClose:()=>{x(!1),u()},height_offset:"80px",page_overlay:!0,children:(0,i.jsx)("div",{label:"Google Drive",className:"google-drive-label",children:(0,i.jsx)(s3,{})})}):(0,i.jsx)(sq.Z,{title:h.title,is_visible:_,onCancel:u,is_mobile_full_width:!0,className:"dc-dialog__wrapper--google-drive",has_close_icon:!0,children:(0,i.jsx)(s3,{})})]}),(0,i.jsx)(re,{})]}),[_,s])}),rs=()=>[{label:(0,y.NC)("Welcome to D-Bot!"),content:[{data:(0,y.NC)("Ready to automate your trading strategy without writing any code? You’ve come to the right place.")},{data:(0,y.NC)("Check out these guides and FAQs to learn more about building your bot:")}],link:!1},{label:(0,y.NC)("Guide"),content:[{data:(0,y.NC)("DollarPrinter - your automated trading partner")}],link:!0},{label:(0,y.NC)("FAQs"),content:[{data:(0,y.NC)("What is D-Bot?"),faq_id:"faq-0"},{data:(0,y.NC)("Where do I find the blocks I need?"),faq_id:"faq-1"},{data:(0,y.NC)("How do I remove blocks from the workspace?"),faq_id:"faq-2"}],link:!0}],ra=(0,r.Pi)(()=>{let{isDesktop:e}=(0,N.F)(),{dashboard:t}=(0,j.oR)(),{active_tour:s,is_info_panel_visible:a,setActiveTab:n,setActiveTabTutorial:l,setInfoPanelVisibility:r,setFaqTitle:o}=t,c=(e,t,s)=>{let a=e?n(sp.ve.TUTORIAL):null,i="Guide"===t?l(0):l(1);return o(s),{tutorial_link:a,tutorial_label:i}},d=()=>{r(!1),localStorage.setItem("dbot_should_show_info",JSON.stringify(Date.now()))},u=()=>(0,i.jsxs)("div",{className:"db-info-panel",children:[(0,i.jsx)("div",{"data-testid":"close-icon",className:"db-info-panel__close-action",onClick:d,children:(0,i.jsx)(E.Z,{height:"18px",width:"18px",fill:"var(--text-prominent)"})}),rs().map(t=>{let{label:s,content:a,link:n}=t;return(0,i.jsxs)("div",{children:[(0,i.jsx)(es.Z,{color:"prominent",lineHeight:"xxl",size:e?"m":"s",weight:"bold",as:"h1",children:s}),a.map(t=>(0,i.jsx)(es.Z,{className:F()("db-info-panel__card",{"db-info-panel__content":n}),color:"prominent",lineHeight:"xl",as:"p",onClick:()=>c(n,s,t.faq_id),size:e?"s":"xxs",children:t.data},`info-panel-tour${t.data}`))]},`${s}-${a}`)})]});return e?!s&&(0,i.jsx)("div",{className:F()("tab__dashboard__info-panel",{"tab__dashboard__info-panel--active":a}),children:u()}):(0,i.jsx)(C.Z,{className:"statistics__modal statistics__modal--mobile",is_open:a,toggleModal:d,width:"440px",children:(0,i.jsx)(C.Z.Body,{children:u()})})}),rn=(0,r.Pi)(e=>{let{handleTabChange:t}=e,{load_modal:s,dashboard:a}=(0,j.oR)(),{dashboard_strategies:n}=s,{active_tab:r,active_tour:o}=a,c=!!(null==n?void 0:n.length),{isDesktop:d,isTablet:u}=(0,N.F)();return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:F()("tab__dashboard",{"tab__dashboard--tour-active":o}),children:(0,i.jsxs)("div",{className:"tab__dashboard__content",children:[(0,i.jsx)(lH,{is_mobile:!d,is_tablet:u,handleTabChange:t}),(0,i.jsxs)("div",{className:"quick-panel",children:[(0,i.jsxs)("div",{className:F()("tab__dashboard__header",{"tab__dashboard__header--listed":d&&c}),children:[!c&&(0,i.jsx)(es.Z,{className:"title",as:"h2",color:"prominent",size:d?"sm":"s",lineHeight:"xxl",weight:"bold",children:(0,y.NC)("Load or build your bot")}),(0,i.jsx)(es.Z,{as:"p",color:"prominent",lineHeight:"s",size:d?"s":"xxs",className:F()("subtitle",{"subtitle__has-list":c}),children:(0,y.NC)("Import a bot from your computer or Google Drive, build it from scratch, or start with a quick strategy.")})]}),(0,i.jsx)(rt,{has_dashboard_strategies:c,is_mobile:!d})]})]})}),(0,i.jsx)(ra,{}),1===r&&(0,i.jsx)(lw,{is_mobile:!d})]})}),ri=()=>(0,i.jsx)("div",{className:"toolbar__section","data-testid":"dt_run_strategy",children:(0,i.jsx)(t6,{className:"toolbar__animation"})}),rl=(0,r.Pi)(()=>{let{load_modal:e,dashboard:t}=(0,j.oR)(),{is_delete_modal_open:s,onToggleDeleteDialog:a,selected_strategy_id:n,setDashboardStrategies:l,loadStrategyToBuilder:r,refreshStrategiesTheme:o,resetBotBuilderStrategy:c}=e,{setOpenSettings:d}=t,u=async(e,t)=>{t.length?(n===e&&await r(null==t?void 0:t[0]),await o()):c()},h=async e=>{let t=(await (0,Z.getSavedWorkspaces)()).filter(t=>t.id!==e);l(t),lK().setItem("saved_workspaces",lQ().compress(JSON.stringify(t))),await u(e,t),a(!1)};return(0,i.jsx)("div",{children:(0,i.jsxs)(sq.Z,{title:(0,y.NC)("Delete bot"),is_visible:s,confirm_button_text:(0,y.NC)("Yes, delete"),onConfirm:()=>{h(n),a(!1),d(sK.tx.BOT_DELETE)},cancel_button_text:(0,y.NC)("No"),onCancel:()=>{a(!1)},is_mobile_full_width:!1,className:"dc-dialog__delete-strategy--delete",has_close_icon:!0,children:[(0,i.jsx)("div",{children:(0,i.jsxs)(es.Z,{color:"prominent",lineHeight:"s",size:"xs",children:[(0,y.NC)("Your bot will be permanently deleted when you hit "),(0,i.jsx)("strong",{children:(0,y.NC)("Yes, delete.")})]})}),(0,i.jsx)("div",{children:(0,i.jsx)(es.Z,{color:"prominent",lineHeight:"xl",size:"xs",children:(0,y.NC)("Are you sure you want to delete it?")})})]})})});l4.OPEN,l2.Z,y.Xx,l4.SAVE,l8.Z,y.Xx,l4.DELETE,l5.Z,y.Xx;let rr=(0,r.Pi)(e=>{let{workspace:t,index:s}=e,{dashboard:a,load_modal:n,toolbar:r}=(0,j.oR)(),{setActiveTab:o}=a,{dashboard_strategies:c=[],previewed_strategy_id:d}=n,u=l.useRef(null),{isDesktop:h}=(0,N.F)(),{loadCustomStrategy:_}=r,m=async()=>{await _(s),o(sp.ve.BOT_BUILDER)};return(0,i.jsxs)("div",{className:F()("apollo-list__item"),ref:u,onClick:e=>{e.stopPropagation(),m()},children:[(0,i.jsx)("div",{className:"apollo-list__item__label",children:(0,i.jsxs)("div",{className:"text-wrapper",title:t.name,children:[(0,i.jsx)("div",{className:"name_text",children:t.name}),t.description&&(0,i.jsx)(es.Z,{align:"left",as:"p",size:h?"xs":"xxs",color:"less-prominent",lineHeight:"l",children:t.description})]})}),(0,i.jsx)("button",{className:"load-bot-button",onClick:e=>{e.stopPropagation(),m()},children:(0,i.jsx)(y.Xx,{i18n_default_text:"Load Bot"})})]},t.id)}),ro=(0,r.Pi)(()=>{let{isDesktop:e}=(0,N.F)();return(null===Z.dollar_bot_list||void 0===Z.dollar_bot_list?void 0:Z.dollar_bot_list.length)?(0,i.jsxs)("div",{className:"bot-list__apollo_container",children:[(0,i.jsx)("div",{className:"bot-list__apollo_wrapper",children:(0,i.jsx)("div",{className:"apollo-list__wrapper",children:Z.dollar_bot_list.map((e,t)=>(0,i.jsx)(rr,{workspace:{name:e.name,video_url:e.video_url,description:e.description},index:t},e.id))})}),(0,i.jsx)(rl,{})]}):null}),rc=(0,r.Pi)(e=>{let{is_mobile:t,has_dashboard_strategies:s}=e,{dashboard:a}=(0,j.oR)(),{is_dialog_open:n}=a;return l.useMemo(()=>(0,i.jsx)("div",{className:F()("tab__dashboard__table",{"tab__dashboard__table--minimized":s&&t}),children:(0,i.jsx)(ro,{})}),[n,s])}),rd=(0,r.Pi)(e=>{let{handleTabChange:t}=e,{load_modal:s,dashboard:a}=(0,j.oR)(),{dashboard_strategies:n}=s,{active_tab:r,active_tour:o}=a,c=!!(null==n?void 0:n.length),{isDesktop:d,isTablet:u}=(0,N.F)();return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:F()("tab__dashboard",{"tab__dashboard--tour-active":o}),children:(0,i.jsx)("div",{className:"tab__dashboard__apollo_content ",children:(0,i.jsx)("div",{className:"quick-panel",children:(0,i.jsx)(rc,{has_dashboard_strategies:c,is_mobile:!d})})})}),1===r&&(0,i.jsx)(lw,{is_mobile:!d})]})});var ru=s("1142"),rh=s("92036"),r_=s("38609"),rm=s("45418"),rx=s("11750"),rp=s("72589"),rj=s("21021"),rv=s("62807");let rb=(0,r.Pi)(e=>{let{type:t,amount:s,symbol:a,onClose:n,isOpen:l}=e;return(0,i.jsx)(C.Z,{is_open:l,toggleModal:n,title:"profit"===t?(0,y.NC)("Take Profit Reached"):(0,y.NC)("Stop Loss Reached"),children:(0,i.jsx)(es.Z,{children:"profit"===t?(0,y.NC)("Take profit of {{amount}} reached for {{symbol}}",{amount:s,symbol:a}):(0,y.NC)("Stop loss of {{amount}} reached for {{symbol}}",{amount:s,symbol:a})})})}),rg=(e,t,s)=>{let a=e.length;t.length;let n=e.filter(e=>e%2==0).length,i=e.filter(e=>e%2!=0).length,l=e.filter(e=>e>s).length,r=e.filter(e=>e<=s).length,o=e.filter(e=>e===s).length,c=e.filter(e=>e!==s).length,d=0,u=0;for(let e=1;e<t.length;e++)t[e]>t[e-1]?d++:t[e]<t[e-1]&&u++;let h=d+u,_=h>0?d/h*100:0;return{evenPercentage:n/a*100,oddPercentage:i/a*100,overPercentage:l/a*100,underPercentage:r/a*100,matchesPercentage:o/a*100,differsPercentage:c/a*100,risePercentage:_,fallPercentage:h>0?u/h*100:0}},rf={call:"CALL",put:"PUT",even:"DIGITEVEN",odd:"DIGITODD",over:"DIGITOVER",under:"DIGITUNDER",matches:"DIGITMATCH",differs:"DIGITDIFF"},ry=(0,r.Pi)(()=>{let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)("Updating..."),[n,r]=(0,l.useState)([]),[o,c]=(0,l.useState)(0),[d,u]=(0,l.useState)(1e3),[h,_]=(0,l.useState)([]),[m,x]=(0,l.useState)(1),[p,v]=(0,l.useState)(.5),[b,g]=(0,l.useState)(""),[f,y]=(0,l.useState)("R_100"),[C,k]=(0,l.useState)("R_100"),[T,S]=(0,l.useState)(2),[w,E]=(0,l.useState)(!1),[I,A]=(0,l.useState)(2),[R,D]=(0,l.useState)(2),[O,L]=(0,l.useState)(!1),[M,U]=(0,l.useState)(!0),[P,z]=(0,l.useState)(!1),[B,V]=(0,l.useState)(""),[$,X]=(0,l.useState)(5),[G,H]=(0,l.useState)(!1),[q,Y]=(0,l.useState)("even-odd"),W=(0,l.useRef)(null),[K,J]=(0,l.useState)(1),Q=(0,l.useRef)([]),ee=(0,l.useRef)(0),et=(0,l.useRef)(.5),es=(0,l.useRef)(["DIGITODD","DIGITEVEN","DIGITOVER","DIGITUNDER","DIGITDIFF"]),ea=(0,l.useRef)(2),en=(0,l.useRef)(2),ei=(0,l.useRef)(0),el=(0,l.useRef)(!1);(0,l.useRef)(!1);let er=(0,l.useRef)(!0),[eo,ec]=(0,l.useState)(!1),[ed,eu]=(0,l.useState)("even"),[eh,e_]=(0,l.useState)(!1),[em,ex]=(0,l.useState)(!1),[ep,ej]=(0,l.useState)(1.15),[ev,eb]=(0,l.useState)(5),[eg,ef]=(0,l.useState)(30),[ey,eN]=(0,l.useState)(!1),[eC,ek]=(0,l.useState)("take-profit"),[eT,eS]=(0,l.useState)(0);(0,l.useRef)(eo);let ew=(0,l.useRef)(p),eE=(0,l.useRef)(ep),eI=(0,l.useRef)(!0),eA=(0,l.useRef)("even"),eR=(0,l.useRef)(ev),eD=(0,l.useRef)(eg),eO=(0,l.useRef)(null),eL=(0,l.useRef)(!1);(0,l.useRef)(null),(0,l.useRef)(new Set);let{ui:eM}=(0,j.oR)(),eF=(0,j.oR)(),{isDesktop:eU}=(0,N.F)(),{transactions:eP,run_panel:eZ,summary_card:ez}=eF,{registerBotListeners:eB,unregisterBotListeners:eV,onContractStatusEvent:e$,is_drawer_open:eX}=eZ,{is_dark_mode_on:eG}=eM,{updateResultsCompletedContract:eH}=eP,{onBotContractEvent:eq}=ez;(0,l.useEffect)(()=>{if(!eo)return;if(eR.current&&ei.current>=eR.current){ec(!1),ek("take-profit"),eS(ei.current),eN(!0);return}if(eD.current&&ei.current<=-eD.current){ec(!1),ek("stop-loss"),eS(ei.current),eN(!0);return}let e=ed,t=rf[ed],s=null;if(null!==eO.current?eL.current?s=function(e,t,s){if(!Number.isInteger(t)||t<0||t>9)throw Error("Invalid lastDigit: must be an integer from 0 to 9");switch(e.toUpperCase()){case"DIGITEVEN":return t%2==0;case"DIGITODD":return t%2!=0;case"DIGITMATCH":return t===s;case"DIGITDIFF":return t!==s;case"DIGITOVER":return t>s;case"DIGITUNDER":return t<s;default:throw Error(`Unsupported contract type: ${e}`)}}(t,eO.current,$):eL.current=!0:eL.current=!1,!0===s)v(et.current),ew.current=et.current,ee.current=0;else if(!1===s){ee.current+=Number(ew.current);let e=ee.current*Number(eE.current);v(e=Math.max(e=parseFloat(e.toFixed(2)),.35)),ew.current=e}if(eh&&(["even","odd"].includes(ed)?(e=eI.current?"even":"odd",eI.current=!eI.current):["over","under"].includes(ed)?(e=eI.current?"over":"under",eI.current=!eI.current):["call","put"].includes(ed)&&(e=eI.current?"call":"put",eI.current=!eI.current),eu(e)),em&&!1===s){if(["even","odd"].includes(ed)){let t="even"===ed?"odd":"even";eA.current=t,e=t}else if(["over","under"].includes(ed)){let t="over"===ed?"under":"over";eA.current=t,e=t}else if(["call","put"].includes(ed)){let t="call"===ed?"put":"call";eA.current=t,e=t}eu(e)}else em&&!0===s&&(e=ed);let a=rf[e];["over","under","matches","differs"].includes(e)?eJ(a,$):eK(a)},[s,eo]),(0,l.useEffect)(()=>{eB(),eW();let e=localStorage.getItem("no_of_ticks");return null!==e&&u(parseFloat(e)),()=>{eV()}},[]),(0,l.useEffect)(()=>{C!==f&&Z.api_base4.api.send({ticks_history:f,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),k(f)},[f]);let eY=(e,t)=>{let s=e.toFixed(t);return Number(s=String(s).slice(-1))},eW=async()=>{if(await new Promise(e=>setTimeout(e,5e3)),!e&&(Z.api_base4.api.send({active_symbols:"brief",product_type:"basic"}),t(!0)),Z.api_base4.api){let e=Z.api_base4.api.onMessage().subscribe(e=>{let{data:t}=e;if("tick"===t.msg_type){let{tick:e}=t,{ask:s,pip_size:n}=e,i=eY(s,n);c(i),eO.current=i,a(s),e0(),r(e=>[...e,s])}if("history"===t.msg_type){let{history:e,pip_size:s}=t;S(s);let{prices:a}=e,{ticks_history:n}=t.echo_req;r(a),y(n),Z.api_base4.api.send({ticks:n,subscribe:1})}if("active_symbols"===t.msg_type){let{active_symbols:e}=t,s=e.filter(e=>"synthetics"===e.subgroup);s.sort((e,t)=>e.display_order-t.display_order),Z.api_base4.api.send({ticks_history:s[0].symbol,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),_(s)}});Z.api_base4.pushSubscription(e)}if(Z.api_base.api){let e=Z.api_base.api.onMessage().subscribe(e=>{let{data:t}=e;if("proposal_open_contract"===t.msg_type){t.proposal_open_contract;let{proposal_open_contract:e}=t,s=e.contract_type;es.current.includes(s)&&(e.is_sold?e$({id:"contract.sold",contract:e,data:0}):e$({id:"contract.purchase_received",contract:e,data:0}),e.is_sold&&(!Q.current.includes(e.contract_id)&&el.current&&(ei.current+=e.profit,ei.current,ei.current>=ea.current?eQ():ei.current<=-en.current&&eQ()),"lost"===e.status?!Q.current.includes(e.contract_id)&&(Q.current.push(e.contract_id),ee.current+=Math.abs(e.profit)):(ee.current=0,v(et.current)),!Q.current.includes(e.contract_id)&&Q.current.push(e.contract_id))),eH(e),eq(e)}});Z.api_base.pushSubscription(e)}g(Z.api_base.account_info.currency)},eK=e=>{e$({id:"contract.purchase_sent",data:0});for(let t=0;t<K;t++)P?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(B).token],price:ew.current,parameters:{amount:ew.current,basis:"stake",contract_type:e,currency:b,duration:m,duration_unit:"t",symbol:f}}):Z.api_base.api.send({buy:"1",price:ew.current,subscribe:1,parameters:{amount:ew.current,basis:"stake",contract_type:e,currency:b,duration:m,duration_unit:"t",symbol:f}})},eJ=(e,t)=>{e$({id:"contract.purchase_sent",data:0});for(let s=0;s<K;s++)P?Z.api_base.api.send({buy_contract_for_multiple_accounts:"1",tokens:[(0,Z.getToken)().token,(0,Z.getLiveAccToken)(B).token],price:ew.current,parameters:{amount:ew.current,basis:"stake",contract_type:e,currency:b,duration:m,duration_unit:"t",symbol:f,barrier:t.toString()}}):Z.api_base.api.send({buy:"1",price:ew.current,subscribe:1,parameters:{amount:ew.current,basis:"stake",contract_type:e,currency:"USD",duration:m,duration_unit:"t",symbol:f,barrier:t.toString()}})},eQ=()=>{ee.current=0,ei.current=0,v(et.current)},e0=()=>{r(e=>e.slice(1))},e1=e=>{let t=""===e.target.value?"":Number(e.target.value);v(t),et.current=t,ew.current=t},[e2,e5]=l.useState([]),[e8,e3]=l.useState("");l.useEffect(()=>{if("undefined"!=typeof localStorage)try{let e=JSON.parse(localStorage.getItem("accountsList"))||void 0,t=Object.keys(e).filter(e=>e.startsWith("CR"));e5(t),t.length>0&&(e3(t[0]),setLiveAccCR(t[0]))}catch(e){console.error("Error while parsing accounts list from localStorage",e)}},[]);let e4=(()=>{let e=n.slice(-d),t=[];return e.forEach(e=>{let s=eY(e,T);t.push(s)}),t})(),e7=n.slice(-d),e6=(()=>{let e=n.slice(-1e3),t=[];return e.forEach(e=>{let s=eY(e,T);t.push(s)}),t})(),e9="number"==typeof $?$:0,{evenPercentage:te,oddPercentage:tt,overPercentage:ts,underPercentage:ta,matchesPercentage:tn,differsPercentage:ti,risePercentage:tl,fallPercentage:tr}=rg(e4,e7,e9),to=Array.from({length:10},(e,t)=>rg(e6,e7,t).matchesPercentage),tc=[...to].slice().sort((e,t)=>t-e),td=to.indexOf(tc[0]),tu=to.indexOf(tc[1]),th=to.indexOf(tc[tc.length-1]),t_=to.indexOf(tc[tc.length-2]),tm=e=>{let t,s;return e===td?(t=40,s="#00a79e"):e===tu?(t=50,s="#070bf7"):e===th?(t=40,s="#ff0000"):e===t_?(t=50,s="#ffe644"):(t=50,s="#777"),`#444 linear-gradient(to bottom, transparent ${t}%, ${s} 0)`},tx=e=>{Y(e),H(!1)};return(0,i.jsx)("div",{className:F()("dashboard__chart-wrapper",{"dashboard__chart-wrapper--expanded":eX&&eU}),dir:"ltr",children:(0,i.jsxs)("div",{className:"dtrader",style:{color:eG?"#fff":"#000"},children:[(0,i.jsxs)("div",{className:"market-settings-container",children:[(0,i.jsx)("div",{className:"market-card",children:(0,i.jsxs)("div",{className:"market-center",children:[(0,i.jsx)("select",{ref:W,id:"market-select",className:"market-select",onChange:e=>{let t=e.target.value;Z.api_base4.api.forgetAll("ticks").then(()=>{a("Loading..."),y(t)})},disabled:eo,children:h.length>0?h.map(e=>(0,i.jsx)("option",{value:e.symbol,children:e.display_name},e.symbol)):(0,i.jsx)("option",{value:"",children:"SELECT MARKET"})}),(0,i.jsx)("div",{className:"current-tick",children:"number"==typeof s?s.toFixed(T):s})]})}),(0,i.jsxs)("div",{className:"ticks-input",children:[(0,i.jsx)("small",{children:"Ticks"}),(0,i.jsx)("input",{type:"number",value:d,onChange:e=>{let t=e.target.value;u(""===t?"":Number(t)),localStorage.setItem("no_of_ticks",t)},disabled:eo})]})]}),(0,i.jsx)("div",{className:"circles",children:Array.from({length:10},(e,t)=>{let s=rg(e6,e7,t).matchesPercentage,a=tm(t),n=e4.slice(-1)[0];return(0,i.jsxs)("div",{className:`circle-item ${$===t?"active":""}`,onClick:()=>!eo&&X(t),style:{background:a,position:"relative",transform:t===n?"scale(1.15)":"scale(1)",transition:"transform 0.3s ease-in-out"},children:[(0,i.jsx)("h3",{children:t}),(0,i.jsxs)("h4",{children:[s.toFixed(2),"%"]}),t===n&&(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{position:"absolute",bottom:"-15px",left:"50%",transform:"translateX(-50%)"},children:(0,i.jsx)("path",{fill:"red",d:"M8 4l6 8H2z"})})]},t)})}),(0,i.jsx)("div",{className:"trade-type-selector",children:(0,i.jsxs)("div",{className:"custom-dropdown",onClick:()=>!eo&&H(!G),tabIndex:0,children:[(0,i.jsxs)("div",{className:"selected-option",children:[(0,i.jsx)("div",{className:"option-icons",children:(e=>{switch(e){case"even-odd":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ru.Z,{}),(0,i.jsx)(rh.Z,{})]});case"over-under":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_.Z,{}),(0,i.jsx)(rm.Z,{})]});case"rise-fall":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rx.Z,{}),(0,i.jsx)(rp.Z,{})]});case"matches-differ":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rj.Z,{}),(0,i.jsx)(rv.Z,{})]});default:return null}})(q)}),(0,i.jsx)("span",{className:"option-label",children:(e=>{switch(e){case"even-odd":return"Even/Odd";case"over-under":return"Over/Under";case"rise-fall":return"Rise/Fall";case"matches-differ":return"Matches/Differ";default:return""}})(q)}),(0,i.jsx)("svg",{className:"dropdown-arrow",viewBox:"0 0 30 30",children:(0,i.jsx)("path",{d:"M7 10l5 5 5-5z"})})]}),G&&(0,i.jsxs)("div",{className:"dropdown-options",children:[(0,i.jsxs)("div",{className:"dropdown-option",onClick:()=>tx("even-odd"),children:[(0,i.jsx)(ru.Z,{}),(0,i.jsx)(rh.Z,{}),(0,i.jsx)("span",{children:"Even/Odd"})]}),(0,i.jsxs)("div",{className:"dropdown-option",onClick:()=>tx("over-under"),children:[(0,i.jsx)(r_.Z,{}),(0,i.jsx)(rm.Z,{}),(0,i.jsx)("span",{children:"Over/Under"})]}),(0,i.jsxs)("div",{className:"dropdown-option",onClick:()=>tx("rise-fall"),children:[(0,i.jsx)(rx.Z,{}),(0,i.jsx)(rp.Z,{}),(0,i.jsx)("span",{children:"Rise/Fall"})]}),(0,i.jsxs)("div",{className:"dropdown-option",onClick:()=>tx("matches-differ"),children:[(0,i.jsx)(rj.Z,{}),(0,i.jsx)(rv.Z,{}),(0,i.jsx)("span",{children:"Matches/Differ"})]})]})]})}),["over-under","matches-differ"].includes(q)&&(0,i.jsx)("div",{className:"prediction-selections",children:Array.from({length:10},(e,t)=>(0,i.jsx)("button",{className:`prediction-selection ${$===t?"active":""}`,onClick:()=>!eo&&X(t),disabled:eo,children:t},t))}),(0,i.jsxs)("div",{className:"mobile-widget duration_amount_selector",children:[(0,i.jsxs)("div",{className:"mobile-widget__duration mobile-widget__button",children:[(0,i.jsx)("small",{children:"Ticks"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",id:"contract_duration",value:m,onChange:e=>{x(Number(e.target.value))},min:"1",max:"9",defaultValue:1,disabled:eo})]}),(0,i.jsxs)("div",{className:"mobile-widget__amount mobile-widget__button",children:[(0,i.jsx)("small",{children:"Stake"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",value:p,onChange:e1,disabled:eo})]}),(0,i.jsxs)("div",{className:"mobile-widget__multiple-buy mobile-widget__button",children:[(0,i.jsx)("small",{children:"No. of Contracts"}),(0,i.jsx)("input",{className:"custom_prediction",type:"number",min:"1",value:K,onChange:e=>{let t=e.target.value;J(""===t?"":Math.max(1,Number(t)))},onBlur:()=>{""===K&&J(1)},disabled:eo})]})]}),(0,i.jsxs)("div",{className:"trade-interface",children:["even-odd"===q&&(0,i.jsxs)("div",{className:"even-odd-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Even/Odd Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(0===e4.length)return"No data";let e=1,t=e4[e4.length-1]%2==0;for(let s=e4.length-2;s>=0;s--)if(e4[s]%2==0===t)e++;else break;return`${e}x ${t?"even":"odd"}`})()]})]}),(0,i.jsx)("div",{className:"sequence-container",children:e4.slice(-8).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e%2==0?"even":"odd"}`,children:e%2==0?"E":"O"},t))}),(0,i.jsxs)("div",{className:"Purchase-buttons",children:[(0,i.jsxs)("button",{className:"Purchase even",onClick:()=>eK("DIGITEVEN"),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(ru.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Even"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[te.toFixed(2),"%"]})]}),(0,i.jsxs)("button",{className:"Purchase odd",onClick:()=>eK("DIGITODD"),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(rh.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Odd"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[tt.toFixed(2),"%"]})]})]})]}),"over-under"===q&&(0,i.jsxs)("div",{className:"over-under-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Over/Under Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(0===e4.length)return"No data";let e=1,t=e4[e4.length-1]>e9;for(let s=e4.length-2;s>=0;s--)if(e4[s]>e9===t)e++;else break;return`${e}x ${t?"Over":"Under"}`})()]})]}),(0,i.jsx)("div",{className:"sequence-container",children:e4.slice(-8).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e>e9?"over":"under"}`,children:e>e9?"O":"U"},t))}),(0,i.jsxs)("div",{className:"Purchase-buttons",children:[(0,i.jsxs)("button",{className:"Purchase even",onClick:()=>eJ("DIGITOVER",$),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(r_.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Over"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[ts.toFixed(2),"%"]})]}),(0,i.jsxs)("button",{className:"Purchase odd",onClick:()=>eJ("DIGITUNDER",$),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(rm.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Under"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[ta.toFixed(2),"%"]})]})]})]}),"rise-fall"===q&&(0,i.jsxs)("div",{className:"rise-fall-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Rise/Fall Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(e7.length<2)return"No data";let e=1,t=e7[e7.length-1]>e7[e7.length-2]?"R":"F";for(let s=e7.length-2;s>=1;s--)if((e7[s]>e7[s-1]?"R":"F")===t)e++;else break;return`${e}x ${"R"===t?"Fall":"Rise"}`})()]})]}),(0,i.jsx)("div",{className:"sequence-container",children:(e=>{let t=e7.slice(-e),s=[];for(let e=1;e<t.length;e++)s.push(t[e]>t[e-1]?"R":"F");return s})(9).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${"R"===e?"rise":"fal"}`,children:e},t))}),(0,i.jsxs)("div",{className:"Purchase-buttons",children:[(0,i.jsxs)("button",{className:"Purchase even",onClick:()=>eK("CALL"),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(rx.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Rise"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[tl.toFixed(2),"%"]})]}),(0,i.jsxs)("button",{className:"Purchase odd",onClick:()=>eK("PUT"),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(rp.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Fall"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[tr.toFixed(2),"%"]})]})]})]}),"matches-differ"===q&&(0,i.jsxs)("div",{className:"matches-differs-card",children:[(0,i.jsxs)("div",{className:"streak-container",children:[(0,i.jsx)("div",{className:"current-streak left",children:(0,i.jsx)("strong",{children:"Matches/Differs Analysis"})}),(0,i.jsxs)("div",{className:"current-streak right",children:[(0,i.jsx)("strong",{children:"Current Streak:"})," ",(()=>{if(0===e4.length)return"No data";let e=1,t=e4[e4.length-1]===e9;for(let s=e4.length-2;s>=0;s--)if(e4[s]===e9===t)e++;else break;return`${e}x ${t?"Match":"Differ"}`})()]})]}),(0,i.jsx)("div",{className:"sequence-container",children:e4.slice(-8).map((e,t)=>(0,i.jsx)("div",{className:`digit-box ${e===e9?"match":"differ"}`,children:e===e9?"M":"D"},t))}),(0,i.jsxs)("div",{className:"Purchase-buttons",children:[(0,i.jsxs)("button",{className:"Purchase even",onClick:()=>eJ("DIGITMATCH",$),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(rv.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Matches"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[tn.toFixed(2),"%"]})]}),(0,i.jsxs)("button",{className:"Purchase odd",onClick:()=>eJ("DIGITDIFF",$),disabled:eo,children:[(0,i.jsxs)("div",{className:"btn-purchase__top",children:[(0,i.jsx)("div",{className:"btn-purchase__icon_wrapper",children:(0,i.jsx)(rj.Z,{})}),(0,i.jsx)("div",{className:"btn-purchase__text_wrapper",children:(0,i.jsx)("span",{children:"Differ"})})]}),(0,i.jsxs)("div",{className:"btn-purchase__bottom",children:[ti.toFixed(2),"%"]})]})]})]})]}),(0,i.jsxs)("div",{className:"auto-trade-section",style:{marginTop:32,padding:24,border:eG?"1px solid #333":"1px solid #ccc",borderRadius:12,background:eG?"linear-gradient(135deg, #232526 0%, #414345 100%)":"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",boxShadow:eG?"0 2px 12px 0 rgba(0,0,0,0.4)":"0 2px 12px 0 rgba(0,0,0,0.08)"},children:[(0,i.jsx)("h3",{style:{margin:0,marginBottom:16,fontWeight:700,fontSize:20,color:eG?"#fff":"#222"},children:"Turbo Speed AI Bot"}),(0,i.jsxs)("div",{style:{display:"flex",gap:24,flexWrap:"wrap",alignItems:"center",marginBottom:12},children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Trade Option:\xa0",(0,i.jsxs)("select",{value:ed,onChange:e=>{eu(e.target.value),["over","under","matches","differs"].includes(e.target.value)&&X(5)},style:{padding:"6px 12px",borderRadius:6,border:eG?"1px solid #444":"1px solid #bbb",background:eG?"#222":"#fff",color:eG?"#fff":"#222",fontWeight:500},disabled:eo,children:[(0,i.jsx)("option",{value:"even",children:"Even"}),(0,i.jsx)("option",{value:"odd",children:"Odd"}),(0,i.jsx)("option",{value:"over",children:"Over"}),(0,i.jsx)("option",{value:"under",children:"Under"}),(0,i.jsx)("option",{value:"matches",children:"Matches"}),(0,i.jsx)("option",{value:"differs",children:"Differs"}),(0,i.jsx)("option",{value:"call",children:"Rise (CALL)"}),(0,i.jsx)("option",{value:"put",children:"Fall (PUT)"})]})]}),["over","under","matches","differs"].includes(ed)&&(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Prediction:\xa0",(0,i.jsx)("input",{type:"number",min:"0",max:"9",value:$,onChange:e=>{X(Math.min(9,Math.max(0,parseInt(e.target.value)||0)))},style:{width:50,padding:"6px 10px",borderRadius:6,border:eG?"1px solid #444":"1px solid #bbb",background:eG?"#222":"#fff",color:eG?"#fff":"#222",fontWeight:500},disabled:eo})]}),(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Stake:\xa0",(0,i.jsx)("input",{type:"number",min:.35,step:.01,value:p,onChange:e1,style:{width:90,padding:"6px 10px",borderRadius:6,border:eG?"1px solid #444":"1px solid #bbb",background:eG?"#222":"#fff",color:eG?"#fff":"#222",fontWeight:500},disabled:eo})]}),(0,i.jsx)("button",{style:{padding:"10px 22px",background:eo?"#e11d48":"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,boxShadow:eo?"0 2px 8px 0 rgba(225,29,72,0.15)":"0 2px 8px 0 rgba(5,150,105,0.12)",cursor:"pointer",transition:"background 0.2s",display:"flex",alignItems:"center",gap:8},onClick:()=>{eo?ec(!1):(ee.current=0,v(et.current),ew.current=et.current,ec(!0))},children:eo?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"}),(0,i.jsx)("rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"})]}),"Stop Auto Trade"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("path",{d:"M5 3l14 9-14 9V3z"})}),"Start Auto Trade"]})})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:24,flexWrap:"wrap",alignItems:"center",marginBottom:12},children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Take Profit ($):\xa0",(0,i.jsx)("input",{type:"number",value:ev,onChange:e=>{let t=parseFloat(e.target.value);!isNaN(t)&&(eb(t),eR.current=t)},style:{width:90,padding:"6px 10px",borderRadius:6,border:eG?"1px solid #444":"1px solid #bbb",background:eG?"#222":"#fff",color:eG?"#fff":"#222",fontWeight:500},disabled:eo})]}),(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Stop Loss ($):\xa0",(0,i.jsx)("input",{type:"number",value:eg,onChange:e=>{let t=parseFloat(e.target.value);!isNaN(t)&&(ef(t),eD.current=t)},style:{width:90,padding:"6px 10px",borderRadius:6,border:eG?"1px solid #444":"1px solid #bbb",background:eG?"#222":"#fff",color:eG?"#fff":"#222",fontWeight:500},disabled:eo})]}),M&&eo&&(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",borderRadius:6,background:eG?"rgba(220, 38, 38, 0.2)":"rgba(220, 38, 38, 0.1)",color:eG?"#fca5a5":"#dc2626",fontWeight:500},children:[(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})}),"Martingale Active: ",p,"x"]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:24,flexWrap:"wrap",alignItems:"center",marginBottom:12},children:[!em&&(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:[["even","odd"].includes(ed)?"Alternate Even and Odd":["over","under"].includes(ed)?"Alternate Over and Under":["call","put"].includes(ed)?"Alternate Rise and Fall":"Use Zigzag",":\xa0",(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:eh,onChange:()=>{e_(e=>!e),!eh&&ex(!1)},disabled:eo}),(0,i.jsx)("span",{className:"slider round"})]})]}),!eh&&(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Alternate on Loss:\xa0",(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:em,onChange:()=>{ex(e=>!e),!em&&e_(!1)},disabled:eo}),(0,i.jsx)("span",{className:"slider round"})]})]}),(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Use Martingale:\xa0",(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:M,onChange:()=>{U(!M),er.current=!M},disabled:eo}),(0,i.jsx)("span",{className:"slider round"})]})]}),M&&(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:500},children:["Multiplier:\xa0",(0,i.jsx)("input",{type:"number",step:"0.01",min:"1",max:"10",value:ep,onChange:e=>{let t=e.target.value;eE.current=""===t?"":Number(t),ej(""===t?"":Number(t))},style:{width:60,padding:"6px 10px",borderRadius:6,border:eG?"1px solid #444":"1px solid #bbb",background:eG?"#222":"#fff",color:eG?"#fff":"#222",fontWeight:500},disabled:eo})]})]}),(0,i.jsx)("div",{style:{marginTop:8,color:eG?"#bbb":"#555",fontSize:14,fontStyle:"italic",display:"flex",alignItems:"center",gap:8},children:eo?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"M12 8v4l3 3"})]}),'Auto trading "',ed,'" ',["over","under","matches","differs"].includes(ed)?`(${$})`:""," with ",M?`martingale (${ep}x)`:"fixed stake"]}):"Configure your settings and click Start to begin auto trading."})]}),(0,i.jsx)(rb,{type:eC,amount:Math.abs(eT),symbol:f,onClose:()=>eN(!1),isOpen:ey})]})})}),rN=[{name:"A Beginners Guide by Trader Mike 1.pdf",type:"pdf"},{name:"Understanding Derivs Trade Types- A Beginners Guide By Trader Mike1.pdf",type:"pdf"}],rC=()=>{let[e,t]=(0,l.useState)(rN[0]);return(0,i.jsxs)("div",{className:"containerviewer",children:[(0,i.jsx)("div",{className:"button-group",children:rN.map(s=>(0,i.jsx)("button",{onClick:()=>t(s),className:e.name===s.name?"active-button":"button",children:s.name},s.name))}),(0,i.jsx)("div",{className:"viewer-container",children:(()=>{let t=`/docs/${e.name}`;return(0,i.jsx)("iframe",{title:"PDF Viewer",src:t,width:"100%",height:"600px"})})()})]})},rk=e=>{let{botName:t,botDescription:s,starCount:a,startAction:n}=e,l="★".repeat(a),r="☆".repeat(Math.max(0,5-a));return(0,i.jsxs)("div",{className:"bot-card",children:[(0,i.jsx)("h2",{className:"bot-card-title",children:t}),(0,i.jsx)("p",{className:"bot-card-description",children:s}),(0,i.jsxs)("div",{className:"bot-card-actions",children:[(0,i.jsx)("button",{onClick:n,className:"bot-card-start-button",children:"▶ Upload AI Bot"}),(0,i.jsxs)("span",{className:"bot-card-stars",children:[l+r,a>=3&&(0,i.jsx)("span",{className:"strong-rating"})]})]})]})},rT=e=>{let{botName:t,botDescription:s,setShowRdTradePage:a,showRdTradePage:n,martingale:l,setMartingale:r,setStopLoss:o,setTakeProfit:c,handleSelectChange:d,martingaleValueRef:u,active_symbol:h,handleUpdateStake:_,setStake:m,enableDisableMartingale:x,setEnableDisableMartingale:p,enable_disable_martingale:j,stop_loss:v,take_profit:b,optionsList:g,stake:f,lostTrades:y,stopLoss:N,takeProfit:C,wonTrades:k,pnl:T,isTradeActive:S,isTradeActiveRef:w,consoleRef:E,isTradeActiveRef_v2:I,pip_size:A,allLastDigitList:R,currentTick:D,clearBotStats:O,appendToConsole:L,setIsTradeActive:M}=e,F=R.slice(-10).map(e=>parseInt(Number(e).toFixed(A).slice(-1),10)),U=(e,t)=>{try{let s=e.toFixed(t);return parseInt(s.slice(-1),10)}catch{return 0}},P=(()=>{let e=R.slice(-1e3),t=Array(10).fill(0);return e.forEach(e=>{let s=U(e,A);t[s]++}),t.map(t=>t/e.length*100)})(),Z=Math.min(...P),z=Math.max(...P),B=R.length>0?U(R[R.length-1],A):-1;return(0,i.jsxs)("div",{className:"rd-trade-page",children:[(0,i.jsxs)("span",{className:"rd-close-button",onClick:()=>a(!n),children:["\uD83D\uDD19 ",t]}),(0,i.jsx)("div",{style:{height:"1.2px",backgroundColor:"#444",margin:"10px 0"}}),(0,i.jsxs)("div",{className:"digit-percentages-card",children:[(0,i.jsxs)("div",{className:"current_tick",children:[(0,i.jsx)("h3",{children:"Price"}),(0,i.jsx)("h2",{children:D})]}),(0,i.jsx)("div",{style:{height:"1.2px",backgroundColor:"#444",margin:"10px 0"}}),(0,i.jsx)("div",{className:"digit-percentages",children:[0,1,2,3,4,5,6,7,8,9].map(e=>(0,i.jsxs)("div",{className:"digit-circle",style:{color:e===B?"#3498db":P[e]===Z?"#e74c3c":P[e]===z?"#2ecc71":"#999",border:`2px solid ${e===B?"#3498db":"#444"}`},children:[(0,i.jsx)("div",{className:"dig",children:e}),(0,i.jsxs)("div",{className:"percen",children:[P[e].toFixed(1),"%"]})]},e))})]}),(0,i.jsx)("div",{className:"number-list",children:F.map((e,t)=>(0,i.jsx)("div",{className:`number-item ${e%2==0?"green":"red"}`,children:e},t))}),(0,i.jsxs)("div",{className:"description",children:[(0,i.jsx)("h3",{children:t}),(0,i.jsx)("div",{style:{height:"1.2px",backgroundColor:"#444",margin:"10px 0"}}),(0,i.jsx)("p",{children:s})]}),(0,i.jsxs)("form",{className:"rd-config-form",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Market Type"}),(0,i.jsx)("select",{name:"",id:"symbol_options",value:h,onChange:d,children:g.length>0?g.map(e=>(0,i.jsx)("option",{value:e.symbol,children:e.display_name},e.symbol)):(0,i.jsx)("option",{value:"",children:"SELECT MARKET"})})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Stake Amount"}),(0,i.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),onBlur:_})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Martingale"}),(0,i.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),onBlur:e=>{let t=e.target.value,s=""===t||isNaN(Number(t))?t:parseFloat(t);u.current=s,r(s)}})]}),(0,i.jsxs)("div",{className:"form-group use_martingale",children:[(0,i.jsx)("label",{children:"Enable/Disable Martingale:"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:x,id:"enable_disbale_martingale",onChange:()=>{p(!x),j.current=!x}}),(0,i.jsx)("span",{className:"slider round"})]})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Take Profit (TP)"}),(0,i.jsx)("input",{type:"text",value:C,onChange:e=>c(e.target.value),onBlur:e=>{let t=e.target.value,s=""===t||isNaN(Number(t))?t:parseFloat(t);b.current=s,c(s)}})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Stop Loss (SL)"}),(0,i.jsx)("input",{type:"text",value:N,onChange:e=>o(e.target.value),onBlur:e=>{let t=e.target.value,s=""===t||isNaN(Number(t))?t:parseFloat(t);v.current=s,o(s)}})]})]}),(0,i.jsxs)("div",{className:"rd-trade-page-header",children:[(0,i.jsxs)("div",{className:"win-loss",children:[(0,i.jsx)("p",{children:"W / L"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"win",children:k})," / ",(0,i.jsx)("span",{className:"loss",children:y})]})]}),(0,i.jsxs)("div",{className:"tp-sl",children:[(0,i.jsx)("p",{children:"PnL"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{style:{color:T>0?"green":T<0?"red":""},children:T.toFixed(2)})," USD"]})]}),(0,i.jsxs)("div",{className:"tp-sl",children:[(0,i.jsx)("p",{children:"TP"}),(0,i.jsxs)("p",{children:[C," USD"]})]}),(0,i.jsxs)("div",{className:"tp-sl",children:[(0,i.jsx)("p",{children:"SL"}),(0,i.jsxs)("p",{className:"loss",children:[N," USD"]})]})]}),(0,i.jsxs)("div",{className:"rd-trade-page-buttons",children:[(0,i.jsx)("button",{className:`${S?"stop-button":"start-button"}`,onClick:()=>{M(!S),w.current=!S,I.current=!S;S?L("Bot Stopped","red"):L("Bot Started...","green")},children:S?"⏹ Stop trading":"▶ Start trading"}),(0,i.jsx)("button",{className:"configure-button",onClick:()=>void(document.querySelector(".rd-trade-page-console").innerHTML="",O()),children:"\uD83D\uDD03 Reset"})]}),(0,i.jsx)("div",{className:"rd-trade-page-console",ref:E})]})},rS={botName:"Over 5 Under 4 (No analysis)",botDescription:"Takes Over 5 & Under 4 Trades at the same time with no condition. If the exit spot is either 4 or 5 you loose both contracts",starCount:3},rw={botName:"Over 5 Under 4 (1 digit analysis)",botDescription:"This Bot trades Over 5 and Under 4 at same time if the last digit is either 4 or 5. Incase the exit spot is either 4 or 5 you loose both contracts",starCount:3},rE={botName:"Over 5 Under 4 Premium (2 digit analysis) ",botDescription:"This Bot trades Over 5 and Under 4 at same time if the  2 last digits are either 4 or 5. Incase the exit spot is either 4 or 5 you loose both contracts",starCount:5},rI={botName:"Over-Under 5 {After 1 LD is 5}",botDescription:"This Bot trades Over 5 and Under 5 at same time. If the last digit is 5",starCount:4},rA={botName:"Auto Even Odd {5}",botDescription:"This Bot takes Even trade if last 5 Digits are Odd. And Vice Versa",starCount:3},rR={botName:"Auto Even Odd {6}",botDescription:"This Bot takes Even trade if last 6 Digits are Odd. And Vice Versa",starCount:4},rD={botName:"Under 7",botDescription:"Perfect for range-bound markets, this bot trades within a set price range.",starCount:3},rO={botName:"Under 7 Pro",botDescription:"Perfect for range-bound markets, this bot trades within a set price range.",starCount:4},rL={botName:"Under 7 Pro",botDescription:"Perfect for range-bound markets, this bot trades within a set price range.",starCount:5},rM=()=>{let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(0),[n,r]=(0,l.useState)(0),[o,c]=(0,l.useState)(5),[d,u]=(0,l.useState)(10),[h,_]=(0,l.useState)(0),[m,x]=(0,l.useState)(.5),[p,j]=(0,l.useState)(m),[v,b]=(0,l.useState)(1),[g,f]=(0,l.useState)(!1),[y,N]=(0,l.useState)(0),[C,k]=(0,l.useState)("Updating..."),[T,S]=(0,l.useState)([]),[w,E]=(0,l.useState)(2),[I,A]=(0,l.useState)("R_100"),[R,D]=(0,l.useState)([]),[O,L]=(0,l.useState)(!1),[M,F]=(0,l.useState)(1),[U,P]=(0,l.useState)("R_100"),[z,B]=(0,l.useState)(!0),V=(0,l.useRef)(["DIGITODD","DIGITEVEN","DIGITOVER","DIGITUNDER","DIGITDIFF"]),$=(0,l.useRef)(I),X=(0,l.useRef)(v),G=(0,l.useRef)(O),H=(0,l.useRef)(O),q=(0,l.useRef)([]),Y=(0,l.useRef)([]),W=(0,l.useRef)(o),K=(0,l.useRef)(d),J=(0,l.useRef)(0),Q=(0,l.useRef)(M),ee=(0,l.useRef)(m),et=(0,l.useRef)(p),es=(0,l.useRef)(0),ea=(0,l.useRef)(null),en=(0,l.useRef)(z);(0,l.useEffect)(()=>{em()},[]),(0,l.useEffect)(()=>{U!==I&&Z.api_base4.api.send({ticks_history:I,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),P(I)},[I]);let ei=e=>{t(!0),F(e),Q.current=e},el=(e,t)=>{let s=e.toFixed(t);return Number(s=String(s).slice(-1))},er=()=>{S(e=>e.slice(1)),Y.current.shift()},eo=e=>{let t=e.slice(1e3),s=[];return t.forEach(e=>{let t=el(e,w);s.push(t)}),s},ec=()=>{L(!1),G.current=!1},ed=(e,t)=>{G.current=!1;let s={amount:ee.current,basis:"stake",contract_type:e,currency:"USD",duration:1,duration_unit:"t",symbol:$.current};void 0!==t&&(s.barrier=t.toString()),Z.api_base.api.send({buy:"1",price:ee.current,subscribe:1,parameters:s})};function eu(e,t){let s=document.querySelector(".rd-trade-page-console"),a=document.createElement("p");a.textContent=e,a.style.color=t,s.appendChild(a),ea.current.scrollTop=ea.current.scrollHeight}let eh=e=>{if(!G.current||!H.current){G.current=!1;return}let t=(e,t,s,a)=>{let n=e.slice(-t);if("greater"===a)return n.every(e=>e>=s);if("less"===a)return n.every(e=>e<=s);if("equal"===a)return n.every(e=>e===s);return!1},s=(e,t,s)=>{let a=e.slice(-t);return"even"===s?a.every(e=>e%2==0):"odd"===s&&a.every(e=>e%2!=0)},a=(e,t,s)=>{e&&(void 0!==s?ed(t,s):ed(t))},n=Q.current;0===n?(ed("DIGITUNDER",4),ed("DIGITOVER",5)):1===n?(a(t(e,1,5,"equal"),"DIGITUNDER",4),a(t(e,1,5,"equal"),"DIGITOVER",5),a(t(e,1,4,"equal"),"DIGITUNDER",4),a(t(e,1,4,"equal"),"DIGITOVER",5)):2===n?(a(t(e,2,5,"equal"),"DIGITUNDER",4),a(t(e,2,5,"equal"),"DIGITOVER",5),a(t(e,2,4,"equal"),"DIGITUNDER",4),a(t(e,2,4,"equal"),"DIGITOVER",5)):3===n?(a(t(e,1,5,"equal"),"DIGITUNDER",5),a(t(e,1,5,"equal"),"DIGITOVER",5)):4===n?(a(s(e,5,"odd"),"DIGITEVEN"),a(s(e,5,"even"),"DIGITODD")):5===n?(a(s(e,6,"odd"),"DIGITEVEN"),a(s(e,6,"even"),"DIGITODD")):6===n?(a(t(e,2,8,"greater"),"DIGITUNDER",7),a(t(e,2,2,"less"),"DIGITOVER",2),a(t(e,3,8,"greater"),"DIGITUNDER",8),a(t(e,3,2,"less"),"DIGITOVER",1)):7===n?a(t(e,3,7,"less"),"DIGITUNDER",7):8===n&&a(t(e,4,6,"less"),"DIGITUNDER",7)},e_=()=>{J.current>=W.current?ec():J.current<=-K.current?ec():G.current=!0},em=async()=>{if(await new Promise(e=>setTimeout(e,5e3)),!g&&(Z.api_base4.api.send({active_symbols:"brief",product_type:"basic"}),f(!0)),Z.api_base4.api){let e=Z.api_base4.api.onMessage().subscribe(e=>{let{data:t}=e;if("tick"===t.msg_type){let{tick:e}=t,{ask:s,id:a,pip_size:n}=e;N(el(s,n)),k(s),er(),S(e=>[...e,s]),Y.current.push(s),eh(eo(Y.current))}if("history"===t.msg_type){let{history:e,pip_size:s}=t;E(s);let{prices:a}=e,{ticks_history:n}=t.echo_req;S(a),Y.current=a,A(n),Z.api_base4.api.send({ticks:n,subscribe:1})}if("active_symbols"===t.msg_type){let{active_symbols:e}=t,s=e.filter(e=>"synthetics"===e.subgroup);s.sort((e,t)=>e.display_order-t.display_order),Z.api_base4.api.send({ticks_history:s[0].symbol,adjust_start_time:1,count:5e3,end:"latest",start:1,style:"ticks"}),D(s)}});Z.api_base4.pushSubscription(e)}if(Z.api_base.api){let e=Z.api_base.api.onMessage().subscribe(e=>{let{data:t}=e;if("buy"===t.msg_type){let{buy:e}=t,s=new Date().toLocaleTimeString();eu(`[${s}]`,"gray"),eu(e.longcode,"white"),G.current=!1}if("proposal_open_contract"===t.msg_type){let{proposal_open_contract:e}=t,s=e.contract_type;if(V.current.includes(s)&&e.is_sold){if("lost"===e.status){if(!q.current.includes(e.contract_id)){if(q.current.push(e.contract_id),J.current+=e.profit,_(J.current),J.current>=W.current){ec();return}if(J.current<=-K.current){ec(),r(e=>e+1),eu(`Contract Lost ${e.profit}`,"red"),eu("Stop Loss Hitted!!","red");return}if(en.current){es.current+=Math.abs(e.profit);let t=es.current*parseFloat(X.current);x(parseFloat(t.toFixed(2))),ee.current=parseFloat(t.toFixed(2))}eu(`Contract Lost ${e.profit}`,"red"),r(e=>e+1)}e_()}else{if(!q.current.includes(e.contract_id)){if(q.current.push(e.contract_id),J.current+=e.profit,_(J.current),J.current>=W.current){ec(),a(e=>e+1),eu(`Contract Won ${e.profit}`,"green"),eu("Take Profit Hitted!!","green");return}if(J.current<=-K.current){ec();return}eu(`Contract Won ${e.profit}`,"green"),a(e=>e+1)}es.current=0,x(et.current),ee.current=et.current,e_()}}}});Z.api_base.pushSubscription(e)}},ex=[rS,rw,rE,rI,rA,rR,rD,rO,rL];return(0,i.jsxs)("div",{className:"main_rd_bots",children:[e&&(0,i.jsx)("div",{className:"trademodal",children:(0,i.jsx)("div",{className:"modal-tool",children:(0,i.jsx)(rT,{setShowRdTradePage:t,showRdTradePage:e,botName:ex[M].botName,botDescription:ex[M].botDescription,stopLoss:d,takeProfit:o,martingale:v,setMartingale:b,setStopLoss:u,setTakeProfit:c,stake:m,handleSelectChange:e=>{let t=e.target.value;Z.api_base4.api.forgetAll("ticks").then(()=>{k("Loading..."),A(t),$.current=t})},optionsList:R,martingaleValueRef:X,stop_loss:K,take_profit:W,handleUpdateStake:e=>{let t=e.target.value,s=""===t||isNaN(Number(t))?t:parseFloat(t);et.current=s,ee.current=s,x(s),j(s)},setStake:x,active_symbol:I,enableDisableMartingale:z,enable_disable_martingale:en,setEnableDisableMartingale:B,lostTrades:n,pnl:h,wonTrades:s,isTradeActive:O,setIsTradeActive:L,isTradeActiveRef:G,appendToConsole:eu,clearBotStats:()=>{a(0),r(0),_(0),J.current=0},consoleRef:ea,isTradeActiveRef_v2:H,allLastDigitList:T,pip_size:w,currentTick:C})})}),(0,i.jsx)(rk,{botName:rS.botName,botDescription:rS.botDescription,starCount:rS.starCount,startAction:()=>ei(0)}),(0,i.jsx)(rk,{botName:rw.botName,botDescription:rw.botDescription,starCount:rw.starCount,startAction:()=>ei(1)}),(0,i.jsx)(rk,{botName:rE.botName,botDescription:rE.botDescription,starCount:rE.starCount,startAction:()=>ei(2)}),(0,i.jsx)(rk,{botName:rI.botName,botDescription:rI.botDescription,starCount:rI.starCount,startAction:()=>ei(3)}),(0,i.jsx)(rk,{botName:rA.botName,botDescription:rA.botDescription,starCount:rA.starCount,startAction:()=>ei(4)}),(0,i.jsx)(rk,{botName:rR.botName,botDescription:rR.botDescription,starCount:rR.starCount,startAction:()=>ei(5)}),(0,i.jsx)(rk,{botName:rD.botName,botDescription:rD.botDescription,starCount:rD.starCount,startAction:()=>ei(6)}),(0,i.jsx)(rk,{botName:rO.botName,botDescription:rO.botDescription,starCount:rO.starCount,startAction:()=>ei(7)}),(0,i.jsx)(rk,{botName:rL.botName,botDescription:rL.botDescription,starCount:rL.starCount,startAction:()=>ei(8)})]})},rF=(0,l.lazy)(()=>Promise.resolve().then(s.bind(s,29357))),rU=(0,r.Pi)(()=>{var e,t,s;let{connectionStatus:a}=(0,p.T)(),{dashboard:n,load_modal:r,run_panel:o,quick_strategy:c,summary_card:d,ui:u}=(0,j.oR)(),[h,x]=(0,l.useState)("1"),[v,b]=(0,l.useState)("1"),[g,f]=(0,l.useState)("1"),[C,k]=(0,l.useState)("1"),{shouldShowDisclaimer:T}=u,{active_tab:S,active_tour:w,setActiveTab:E,setWebSocketState:I,setActiveTour:A,setTourDialogVisibility:R}=n,{onEntered:D,dashboard_strategies:O}=r,{is_dialog_open:L,is_drawer_open:M,dialog_options:U,onCancelButtonClick:P,onCloseDialog:B,onOkButtonClick:V,stopBot:$}=o,{is_open:X}=c,{cancel_button_text:G,ok_button_text:H,title:q,message:Y}=U,{clear:W}=d,{DASHBOARD:K,DTRADER:J,BOT_BUILDER:Q}=sp.ve,ee=l.useRef(!0),et=["a","b","c","d","e","f","g","h","i","j","k","l"],{isDesktop:es}=(0,N.F)(),ea=(0,iF.TH)(),en=(0,iF.s0)(),ei=S;let el=(t=S,(ei=null===(s=ea.hash)||void 0===s?void 0:s.split("#")[1])?Number(et.indexOf(String(ei))):t),er=["dbot.mrduke.site","www.dollarmint.site"].includes(window.location.hostname),eo="www.dinsightstool.com"===window.location.hostname,ec=["www.tradehack.site","www.jktraders.site","www.alientrades.site"].includes(window.location.hostname),ed="www.binaryguru.site"===window.location.hostname,eu=window.location.hostname;"dbot.mkoreanwwn.com"===eu||"www.mkoreanwwn.com"===eu?(document.documentElement.style.setProperty("--dynamic-list-bg","#6e1430"),document.documentElement.style.setProperty("--dynamic-active-list-bg","#471128")):"www.paigeytraders.site"===eu?(document.documentElement.style.setProperty("--dynamic-list-bg","#964B00"),document.documentElement.style.setProperty("--dynamic-active-list-bg","#C46200")):"www.kikuyufx.site"===eu&&(document.documentElement.style.setProperty("--dynamic-list-bg","#956f3e"),document.documentElement.style.setProperty("--dynamic-active-list-bg","#be8f37")),l.useEffect(()=>{a!==sO.cR.OPENED&&null!==document.getElementById("db-animation__stop-button")&&(W(),$(),Z.api_base.setIsRunning(!1),I(!1))},[W,a,I,$]),l.useEffect(()=>{X&&R(!1),ee.current?(E(Number(el)),!es&&eh(Number(el)),ee.current=!1):en(`#${et[S]||et[0]}`),""!==w&&A("")},[S]),l.useEffect(()=>{let e=setTimeout(()=>{var e,t,s,a,n;if(S===Q&&(null===(t=Blockly)||void 0===t?void 0:null===(e=t.derivWorkspace)||void 0===e?void 0:e.trashcan)){let e;let t=window.innerHeight-250;e=M?(0,z.rK)()?380:window.innerWidth-460:(0,z.rK)()?20:window.innerWidth-100,null===(n=Blockly)||void 0===n||null===(a=n.derivWorkspace)||void 0===a||null===(s=a.trashcan)||void 0===s||s.setTrashcanPosition(e,t)}},100);return()=>{clearTimeout(e)}},[S,M]),(0,l.useEffect)(()=>{let e;return O.length>0&&(e=setTimeout(()=>{(0,Z.updateWorkspaceName)()})),()=>{e&&clearTimeout(e)}},[O,S]);let eh=l.useCallback(e=>{E(e);let t=sp.FK[e];if(t){let e=document.getElementById(t);setTimeout(()=>{null==e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},10)}},[S]);return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:"main",children:[(0,i.jsx)("div",{className:F()("main__container",{"main__container--active":w&&S===K&&!es}),children:(0,i.jsxs)(tt,{active_index:S,className:"main__tabs",onTabItemChange:D,onTabItemClick:eh,top:!0,children:[ec?(0,i.jsxs)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.iNY,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Free Bots"})]}),id:"id-1",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:[(0,i.jsxs)("div",{className:"iframe-switcher",children:[(0,i.jsx)("button",{className:`switch-button ${"1"===g?"active":""}`,onClick:()=>f("1"),children:"Free Bots"}),(0,i.jsx)("button",{className:`switch-button ${"3"===g?"active":""}`,onClick:()=>f("3"),children:"Risk Management"})]}),"1"===g&&(0,i.jsx)(rd,{handleTabChange:eh}),"2"===g&&(0,i.jsx)(rC,{}),"3"===g&&(0,i.jsx)("iframe",{src:"https://risk.binarytool.site/",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}})]}):eo?(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.iNY,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Free Bots"})]}),id:"id-1",children:(0,i.jsx)(rd,{handleTabChange:eh})}):(0,i.jsxs)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.iNY,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Free Bots"})]}),id:"id-1",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:[(0,i.jsxs)("div",{className:"iframe-switcher",children:[(0,i.jsx)("button",{className:`switch-button ${"1"===g?"active":""}`,onClick:()=>f("1"),children:"Free Bots"}),(0,i.jsx)("button",{className:`switch-button ${"2"===g?"active":""}`,onClick:()=>f("2"),children:"AI Bots"}),(0,i.jsx)("button",{className:`switch-button ${"3"===g?"active":""}`,onClick:()=>f("3"),children:"Strategy"}),(0,i.jsx)("button",{className:`switch-button ${"4"===g?"active":""}`,onClick:()=>f("4"),children:"Risk Management"})]}),"1"===g&&(0,i.jsx)(rd,{handleTabChange:eh}),"2"===g&&(0,i.jsx)(rM,{}),"3"===g&&(0,i.jsx)("iframe",{src:"https://dollarstrategy.vercel.app",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}}),"4"===g&&(0,i.jsx)("iframe",{src:"https://risk.binarytool.site/",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}})]}),(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(i$.Z,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Dashboard"})]}),id:"id-2",children:(0,i.jsx)(rn,{handleTabChange:eh})}),(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iX.Z,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Bot Builder"})]}),id:"id-3"}),ec?(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.esY,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Strategies"})]}),id:"id-4",children:(0,i.jsx)(rC,{})}):null,eo?(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.Op,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Analysis tool"})]}),id:"id-analysistool",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:(0,i.jsx)("iframe",{src:"https://bot-analysis-tool-belex.web.app",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}})}):(0,i.jsxs)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.Op,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Analysistools"})]}),id:"id-4",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:[(0,i.jsxs)("div",{className:"iframe-switcher",children:[(0,i.jsx)("button",{className:`switch-button ${"1"===h?"active":""}`,onClick:()=>x("1"),children:"AnalysisTool"}),(0,i.jsx)("button",{className:`switch-button ${"2"===h?"active":""}`,onClick:()=>x("2"),children:"LDP Tool"}),(0,i.jsx)("button",{className:`switch-button ${"3"===h?"active":""}`,onClick:()=>x("3"),children:"Circles"})]}),er?"1"===h&&(0,i.jsx)("iframe",{src:"https://mrdukesignals.site",title:"Analysistool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}}):"1"===h&&(0,i.jsx)("iframe",{src:"https://api.binarytool.site/",title:"Analysistool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}}),"2"===h&&(0,i.jsx)("iframe",{src:"https://binarycampus.com/deriv_ldp/bc_deriv_market_ldp_analyzer",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}}),"3"===h&&(0,i.jsx)(iB,{})]}),(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(i$.Z,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"D-Trader"})]}),id:"id-5",children:localStorage.getItem("authToken")?(0,i.jsx)("iframe",{src:`https://deriv-dtrader.vercel.app/dtrader?acct1=${localStorage.getItem("active_loginid")}&token1=${"CR7299344"===localStorage.getItem("active_loginid")?(0,sD.Hw)():localStorage.getItem("authToken")}&cur1=${(null===(e=JSON.parse(localStorage.getItem("clientAccounts")||"{}")[localStorage.getItem("active_loginid")||""])||void 0===e?void 0:e.currency)||"USD"}&lang=EN&app_id=${(0,m.rhL)()}`,style:{width:window.innerWidth<=768?"100%":"99%",height:window.innerWidth<=768?"85vh":"84vh",border:"none"}}):(0,i.jsx)("iframe",{src:"https://deriv-dtrader.vercel.app/dtrader",style:{width:window.innerWidth<=768?"100%":"99%",height:window.innerWidth<=768?"85vh":"84vh",border:"none"}})}),eo||ed?null:(0,i.jsxs)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.Op,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Smart Analysis"})]}),id:"id-analysistool",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:[(0,i.jsxs)("div",{className:"iframe-switcher",children:[(0,i.jsx)("button",{className:`switch-button ${"1"===v?"active":""}`,onClick:()=>b("1"),children:"Smart Analysis"}),(0,i.jsx)("button",{className:`switch-button ${"2"===v?"active":""}`,onClick:()=>b("2"),children:"Manual"})]}),"1"===v&&(0,i.jsx)(lp,{}),"2"===v&&(0,i.jsx)(ry,{})]}),eo?(0,i.jsxs)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.Op,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Strategy/Risk"})]}),id:"id-analysistool",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:[(0,i.jsxs)("div",{className:"iframe-switcher",children:[(0,i.jsx)("button",{className:`switch-button ${"1"===g?"active":""}`,onClick:()=>f("1"),children:"Strategy"}),(0,i.jsx)("button",{className:`switch-button ${"2"===g?"active":""}`,onClick:()=>f("2"),children:"Risk Management"})]}),"1"===g&&(0,i.jsx)("iframe",{src:"https://dollarstrategy.vercel.app",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}}),"2"===g&&(0,i.jsx)("iframe",{src:"https://risk.binarytool.site/",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}})]}):(0,i.jsxs)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.Op,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Signals"})]}),id:"id-analysistool",style:{height:"100vh",width:"100%",overflowY:"auto",paddingBottom:"20vh",position:"relative"},children:[(0,i.jsxs)("div",{className:"iframe-switcher",children:[(0,i.jsx)("button",{className:`switch-button ${"1"===C?"active":""}`,onClick:()=>k("1"),children:"Signals"}),(0,i.jsx)("button",{className:`switch-button ${"2"===C?"active":""}`,onClick:()=>k("2"),children:"Scanner"})]}),"1"===C&&(0,i.jsx)("iframe",{src:"https://www.smartanalysistool.com/signal-center",title:"Analysistool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}}),"2"===C&&(0,i.jsx)("iframe",{src:"https://signals-scanner.vercel.app/",title:"LDP Tool",style:{width:"100%",height:"calc(100vh - 20vh)",border:"none",marginBottom:"20vh"}})]}),(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iG.Z,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Charts"})]}),id:"id-charts",children:(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(_.Z,{message:(0,y.NC)("Please wait, loading chart...")}),children:(0,i.jsx)(rF,{show_digits_stats:!0})})}),ed?null:(0,i.jsx)("div",{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iM.esY,{height:"24px",width:"24px",fill:"var(--icons)"}),(0,i.jsx)(y.Xx,{i18n_default_text:"Copy Trading"})]}),id:"id-copytrader",children:(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(_.Z,{message:(0,y.NC)("Please wait, loading copy trader...")}),children:(0,i.jsx)(lC,{})})})]})}),"false"!==T&&(0,i.jsx)(iU,{})]}),(0,i.jsxs)(to.Z,{children:[(0,i.jsxs)("div",{className:"main__run-strategy-wrapper",children:[S!==J&&(0,i.jsx)(ri,{}),(0,i.jsx)(sC,{})]}),(0,i.jsx)(lb,{}),(0,i.jsx)(iV,{})]}),S!==J&&(0,i.jsx)(eW.Z,{children:!X&&(0,i.jsx)(sC,{})}),(0,i.jsx)(sq.Z,{cancel_button_text:G||(0,y.NC)("Cancel"),className:"dc-dialog__wrapper--fixed",confirm_button_text:H||(0,y.NC)("Ok"),has_close_icon:!0,is_mobile_full_width:!1,is_visible:L,onCancel:P,onClose:B,onConfirm:V||B,portal_element_id:"modal_root",title:q,children:Y})]})});s("51156");let rP=(0,r.Pi)(()=>{var e,t,a,n,r;let[c,d]=l.useState(!1),[u,x]=l.useState(!0),v=(0,j.oR)(),{app:b,transactions:g,common:f,client:N}=v,{showDigitalOptionsMaltainvestError:C}=b,{is_dark_mode_on:T}=(0,sF.Z)(),{recovered_transactions:S,recoverPendingContracts:w}=g,E=l.useRef(!1),I=l.useRef(null),{connectionStatus:A}=(0,p.T)(),{initTrackJS:R}=sZ();R(N.loginid),h({is_client_store_initialized:(null==N?void 0:N.is_logged_in)?!!(null==N?void 0:null===(e=N.account_settings)||void 0===e?void 0:e.email):!!N,is_logged_in:null==N?void 0:N.is_logged_in,loginid:null==N?void 0:N.loginid,landing_company_shortcode:null==N?void 0:N.landing_company_shortcode,currency:null==N?void 0:N.currency,residence:null==N?void 0:N.residence,email:null==N?void 0:null===(t=N.account_settings)||void 0===t?void 0:t.email,first_name:null==N?void 0:null===(a=N.account_settings)||void 0===a?void 0:a.first_name,last_name:null==N?void 0:null===(n=N.account_settings)||void 0===n?void 0:n.last_name}),sM((0,sD.PO)()??null),(0,l.useEffect)(()=>{A===sO.cR.OPENED?(d(!0),f.setSocketOpened(!0)):A!==sO.cR.OPENED&&f.setSocketOpened(!1)},[f,A]);let{current_language:D}=f,O=document.documentElement;l.useEffect(()=>{null==O||O.setAttribute("lang",D.toLowerCase()),null==O||O.setAttribute("dir","ar"===D.toLowerCase()?"rtl":"ltr")},[D,O]);let L=l.useCallback(e=>{let{data:t}=e;if((null==t?void 0:t.msg_type)==="proposal_open_contract"&&!(null==t?void 0:t.error)){let{proposal_open_contract:e}=t;(null==e?void 0:e.status)!=="open"&&!(null==S?void 0:S.includes(null==e?void 0:e.contract_id))&&w(e)}},[S,w]);l.useEffect(()=>{(0,s$.setSmartChartsPublicPath)((0,m.MT8)("/js/smartcharts/"))},[]),l.useEffect(()=>{if(!E.current&&N.is_logged_in&&c&&(null===Z.api_base||void 0===Z.api_base?void 0:Z.api_base.api)){var e;E.current=!0,I.current=null===(e=Z.api_base.api.onMessage())||void 0===e?void 0:e.subscribe(L)}return()=>{if(E.current&&I.current){var e,t;E.current=!1,null===(e=(t=I.current).unsubscribe)||void 0===e||e.call(t)}}},[c,N.is_logged_in,N.loginid,L,A]),l.useEffect(()=>{C(N,f)},[N.is_options_blocked,null===(r=N.account_settings)||void 0===r?void 0:r.country_code,N.clients_country]);let M=()=>{Z.ServerTime.init(f),b.setDBotEngineStores(),Z.ApiHelpers.setInstance(b.api_helpers_store),Promise.resolve().then(s.bind(s,18908)).then(e=>{let{default:t}=e;t.init(v)})},F=()=>{var e;M();let t=()=>{let{active_symbols:e}=Z.ApiHelpers.instance;e.retrieveActiveSymbols(!0).then(()=>{x(!1)})};if(null===Z.ApiHelpers||void 0===Z.ApiHelpers?void 0:null===(e=Z.ApiHelpers.instance)||void 0===e?void 0:e.active_symbols)t();else{let e=setInterval(()=>{var s;(null===Z.ApiHelpers||void 0===Z.ApiHelpers?void 0:null===(s=Z.ApiHelpers.instance)||void 0===s?void 0:s.active_symbols)&&(clearInterval(e),t())},1e3)}};return(l.useEffect(()=>{c&&(M(),x(!0),!N.is_logged_in&&F())},[c]),l.useEffect(()=>{N.is_logged_in&&N.is_landing_company_loaded&&c&&F()},[N.is_landing_company_loaded,c,N.loginid]),(0,l.useEffect)(()=>{sz(!0),N&&sV(N)},[]),null==f?void 0:f.error)?null:u?(0,i.jsx)(_.Z,{message:(0,y.NC)("Initializing your account...")}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(sX.f,{theme:T?"dark":"light",children:[(0,i.jsx)(sH,{}),(0,i.jsxs)("div",{className:"bot-dashboard bot","data-testid":"dt_bot_dashboard",children:[(0,i.jsx)(sG,{}),(0,i.jsx)(rU,{}),(0,i.jsx)(iL,{}),(0,i.jsx)(sY,{}),(0,i.jsx)(sR,{}),(0,i.jsx)(o.Ix,{limit:3,draggable:!1}),(0,i.jsx)(k,{})]})]})})})},30394:function(e,t,s){s.d(t,{Z:()=>m});var a=s("85893"),n=s("67294"),i=s("63387"),l=s.n(i),r=s("82106"),o=s("86278"),c=s("14244"),d=s("26088"),u=s("92868"),h=s("2502"),_=s("45452");let m=e=>{let{alignment:t,children:s,className:i,classNameBubble:m,classNameTarget:x,classNameTargetIcon:p,counter:j,disable_message_icon:v,disable_target_icon:b,has_error:g,icon:f,id:y,is_open:N,is_bubble_hover_enabled:C,margin:k=0,message:T,onBubbleClose:S,onBubbleOpen:w,onClick:E=()=>void 0,relative_render:I=!1,should_disable_pointer_events:A=!1,should_show_cursor:R,zIndex:D="1",data_testid:O,arrow_styles:L}=e,M=n.useRef(),[F,U]=n.useState(void 0),[P,Z]=n.useState(!1),{isDesktop:z}=(0,h.F)(),[B,V]=(0,o.X)(null,!0),[$,X]=(0,o.m)(),G=n.useMemo(()=>!z&&void 0===N,[z,N]);n.useEffect(()=>{M.current&&U(M.current)},[g]),n.useEffect(()=>{!V&&G&&Z(!1)},[V,G]);let H=()=>{w&&w()},q=()=>{S&&S()},Y=l()(p,f),W=V&&T&&(!G||P);return(0,a.jsxs)("div",{ref:B,className:l()({"dc-popover__wrapper":I}),onClick:e=>{E(e),G&&Z(!P)},"data-testid":"dt_popover_wrapper",children:[I&&(0,a.jsx)("div",{className:"dc-popover__container",style:{zIndex:D},children:(0,a.jsx)("div",{ref:M,className:"dc-popover__container-relative","data-testid":"dt_popover_relative_container"})}),(F||!I)&&(0,a.jsx)(r.Popover,{isOpen:N??(W||C&&X),positions:[t],padding:k+8,containerClassName:l()({"react-tiny-popover-container--disabled-pointer-event":A,"react-tiny-popover-cursor-option":R}),...I?{parentElement:F,contentLocation:e=>{let{childRect:s,popoverRect:a,nudgedLeft:n}=e,i=document.body.clientWidth,l=s.right+(a.width-s.width/2),r=0,o=0;switch(t){case"left":o=-1*Math.abs((a.height>a.width?n:a.width)+k),r=s.height>a.height?(s.height-a.height)/2:-((a.height-s.height)/2*1);break;case"right":o=a.width+k,r=s.height>a.height?(s.height-a.height)/2:-((a.height-s.height)/2*1);break;case"top":o=l>i?-1*Math.abs(l-i):0,r=-1*Math.abs(a.height+k);break;case"bottom":o=l>i?-1*Math.abs(l-i):0,r=s.height+k}return{top:r,left:o}}}:{containerStyle:{zIndex:D}},content:e=>{let{position:t,childRect:s,popoverRect:n}=e;return(0,a.jsx)(r.ArrowContainer,{position:t,childRect:s,popoverRect:n,arrowColor:g?"var(--status-danger)":"var(--general-active)",arrowSize:5,arrowStyle:I?{borderTop:"10px solid transparent",borderLeft:"10px solid transparent",borderRight:`10px solid ${g?"var(--status-danger)":"var(--general-active)"}`,transform:"rotate(315deg)",right:"0px",top:"5px",height:"10px",margin:"auto",bottom:"0px"}:{...L},children:(0,a.jsxs)("div",{id:y,onMouseEnter:H,onMouseLeave:q,className:l()(m,"dc-popover__bubble",{"dc-popover__bubble--error":g}),ref:$,children:[!v&&"info"===f&&(0,a.jsx)("i",{className:"dc-popover__bubble__icon",children:(0,a.jsx)(c.Z,{})}),g&&(0,a.jsx)(_.Z,{size:"xxs",color:"colored-background",children:T})||(0,a.jsx)(_.Z,{lineHeight:"md",size:"xxs",className:"dc-popover__bubble__text",children:T})]})})},children:(0,a.jsx)("div",{"data-testid":O,className:l()("dc-popover",i),id:y,children:(0,a.jsxs)("div",{className:l()(x,"dc-popover__target"),children:[!b&&(0,a.jsxs)("i",{className:T?"dc-popover__target__icon":"dc-popover__target__icon--disabled",children:["info"===f&&(0,a.jsx)(c.Z,{className:Y}),"question"===f&&(0,a.jsx)(u.Z,{className:Y}),"dot"===f&&(0,a.jsx)(d.Z,{className:Y}),"counter"===f&&(0,a.jsx)("span",{className:Y,children:j})]}),s]})})})]})}},83257:function(e,t,s){s.d(t,{Z:function(){return i}});var a=s(67294),n=s(83274);let i=()=>{let{ui:e}=(0,n.oR)()??{ui:{setDarkMode:()=>{},is_dark_mode_on:!1}},{setDarkMode:t,is_dark_mode_on:s}=e;return{toggleTheme:(0,a.useCallback)(()=>{let e=document.querySelector("body");e&&(e.classList.contains("theme--dark")?(localStorage.setItem("theme","light"),e.classList.remove("theme--dark"),e.classList.add("theme--light"),t(!1)):(localStorage.setItem("theme","dark"),e.classList.remove("theme--light"),e.classList.add("theme--dark"),t(!0)))},[t]),is_dark_mode_on:s,setDarkMode:t}}},29357:function(e,t,s){s.r(t),s.d(t,{default:()=>x});var a=s("85893"),n=s("67294"),i=s("63387"),l=s.n(i),r=s("96877"),o=s("49243"),c=s("83274"),d=s("47494"),u=s("2502");let h=(0,n.memo)(e=>{let{updateChartType:t,updateGranularity:s,position:n,isDesktop:i}=e;return(0,a.jsxs)(d.ToolbarWidget,{position:n,children:[(0,a.jsx)(d.ChartMode,{portalNodeId:"modal_root",onChartType:t,onGranularity:s}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.StudyLegend,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),(0,a.jsx)(d.Views,{portalNodeId:"modal_root",onChartType:t,onGranularity:s,searchInputClassName:"data-hj-whitelist"}),(0,a.jsx)(d.DrawTools,{portalNodeId:"modal_root"}),(0,a.jsx)(d.Share,{portalNodeId:"modal_root"})]})]})});s("22798");let _={},m=(0,r.Pi)(e=>{let{show_digits_stats:t}=e,{common:s,ui:i}=(0,c.oR)(),{chart_store:r,run_panel:m,dashboard:x}=(0,c.oR)(),{chart_type:p,getMarketsOrder:j,granularity:v,onSymbolChange:b,setChartStatus:g,symbol:f,updateChartType:y,updateGranularity:N,updateSymbol:C,setChartSubscriptionId:k,chart_subscription_id:T}=r,S=(0,n.useRef)(T),[w,E]=(0,n.useState)(!1),{isDesktop:I,isMobile:A}=(0,u.F)(),{is_drawer_open:R}=m,{is_chart_modal_visible:D}=x,O={assetInformation:!1,countdown:!0,isHighestLowestMarkerEnabled:!1,language:s.current_language.toLowerCase(),position:i.is_chart_layout_default?"bottom":"left",theme:i.is_dark_mode_on?"dark":"light"};(0,n.useEffect)(()=>()=>{o.Z.api.forgetAll("ticks")},[]),(0,n.useEffect)(()=>{S.current=T},[T]),(0,n.useEffect)(()=>{!f&&C()},[f,C]);let L=e=>{e&&o.Z.api.forget(e)},M=async(e,t)=>{var s,a,n;try{L(S.current);let a=await o.Z.api.send(e);k(null==a?void 0:a.subscription.id),a&&t(a),1===e.subscribe&&(_[null==a?void 0:a.subscription.id]=null===(s=o.Z.api.onMessage())||void 0===s?void 0:s.subscribe(e=>{let{data:s}=e;t(s)}))}catch(e){(null==e?void 0:null===(a=e.error)||void 0===a?void 0:a.code)==="MarketIsClosed"&&t([]),console.error(null==e?void 0:null===(n=e.error)||void 0===n?void 0:n.message)}};if(!f)return null;let F=!!(null===o.Z||void 0===o.Z?void 0:o.Z.api);return(0,a.jsxs)("div",{className:l()("dashboard__chart-wrapper",{"dashboard__chart-wrapper--expanded":R&&I,"dashboard__chart-wrapper--modal":D&&I}),dir:"ltr",children:[w?(0,a.jsx)("iframe",{src:"https://charts.deriv.com/deriv",title:"Binary Tool API",style:{width:"100%",height:"100%",border:"none"}}):(0,a.jsx)(d.SmartChart,{id:"dbot",barriers:[],showLastDigitStats:t,chartControlsWidgets:null,enabledChartFooter:!1,chartStatusListener:e=>g(!e),toolbarWidget:()=>(0,a.jsx)(h,{updateChartType:y,updateGranularity:N,position:I?"top":"bottom",isDesktop:I}),chartType:p,isMobile:A,enabledNavigationWidget:I,granularity:v,requestAPI:e=>o.Z.api.send(e),requestForget:()=>{},requestForgetStream:()=>{},requestSubscribe:M,settings:O,symbol:f,topWidgets:()=>(0,a.jsx)(d.ChartTitle,{onChange:b}),isConnectionOpened:F,getMarketsOrder:j,isLive:!0,leftMargin:80}),(0,a.jsx)("div",{className:"floating-buttons",children:(0,a.jsx)("button",{className:"floating-button",onClick:()=>E(!w),children:w?"Chart":"Trading View"})})]})}),x=m}}]);